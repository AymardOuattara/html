(self.webpackChunkwil_admin_angular=self.webpackChunkwil_admin_angular||[]).push([[414],{81414:function(e,t,n){"use strict";n.r(t),n.d(t,{CashierModule:function(){return He}});var i=n(38583),a=n(3679),r=n(977),s=n(65461),o=n(66782),l=n(95987),u=n(99688),c=n(37716),h=n(44212),p=n(18859),d=n(52121),m=n(68058),g=n(4768),v=n(28723);let f=(()=>{class e extends u.K{constructor(e,t,n,i,a,r){super(e,t,n,i,a,r),this.logger=e,this.httpService=t,this.envService=n,this.messageService=i,this.authService=a,this.menuService=r}ngOnInit(){this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"cashier")},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}loadData(e){console.log(e),setTimeout(()=>{this.loading=!0},1e3)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.Kf),c.Y36(p.O),c.Y36(d.L),c.Y36(m.dD),c.Y36(g.e),c.Y36(v.h))},e.\u0275cmp=c.Xpm({type:e,selectors:[["cashier"]],features:[c.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(c.TgZ(0,"nz-spin",0),c.TgZ(1,"wl-form",1),c.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),c.qZA(),c.qZA(),c.TgZ(2,"wl-table",2),c.NdJ("onLazyLoad",function(e){return t.loadData(e)}),c.qZA()),2&e&&(c.Q6J("nzSpinning",t.isSpinning),c.xp6(1),c.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),c.xp6(1),c.Udp("margin-top","1rem"),c.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","Cashier ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[o.W,s.U,r.a],styles:[""]}),e})();var b=n(42394);const I={},y={},A=[{template:"<p>Vous pouvez ajouter des services \xe0 votre organisation.</p>"},{templateOptions:{label:"Formulaire de cr\xe9ation",toggleable:!0},fieldGroup:[{},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3 wl-hidden",key:"id",type:"input",templateOptions:{translate:!0,label:"ID",readonly:!0}},{className:"flex-3",key:"name",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Nom",placeholder:"Nom",suffixIcon:"user"}},{className:"flex-3",key:"surname",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Prenoms",placeholder:"Prenoms",suffixIcon:"user"}},{className:"flex-3",key:"matricule",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Matricule",placeholder:"Matricule",suffixIcon:"number"}},{className:"flex-3",key:"telephone",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Telephone",placeholder:"Telephone",suffixIcon:"phone"}},{className:"flex-3",key:"portable",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Portable",placeholder:"Portable",suffixIcon:"phone"}},{className:"flex-3",key:"email",type:"input-email",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Email",placeholder:"Email",suffixIcon:"mail",pattern:/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/},validation:{messages:{pattern:(e,t)=>`"${t.formControl.value}" n'est pas une adresse email valide`}}},{className:"flex-3",key:"adresse",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Adresse",placeholder:"Adresse",suffixIcon:"number"}},,{className:"flex-3",key:"lieu_naissance",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Lieu de Naissance",placeholder:"Lieu de Naissance",suffixIcon:"aim"}},{className:"flex-6",key:"status",type:"checkbox",templateOptions:{translate:!0,label:"Est actif ?"},defaultValue:!0}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"Soumettre",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:e=>{e.templateOptions.loading=!0,e.form.statusChanges.subscribe(t=>{e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":(e,t,n)=>!n.form.valid}},{type:"button",templateOptions:{type:"reset",label:"R\xe9initialiser",bgColor:"#000",textColor:"#fff",click:e=>{e.options.resetModel(I)}}}]}]}];var E=n(26215),C=n(67574),M=n(65353);class T{}class _{constructor(e=1024){this.buffer=new Uint8Array(e),this.size=0}clear(){this.size=0}flush(){const e=new Uint8Array(this.buffer.slice(0,this.size));return this.size=0,e}write(e){return this.resize(e.length),this.buffer.set(e,this.size),this.size+=e.length,this}writeUInt8(e){return this.resize(1),this.buffer[this.size++]=255&e,this}resize(e){const t=this.buffer.length-this.size;if(t<e){const n=this.buffer,i=Math.ceil((e-t)/n.length)+1;this.buffer=new Uint8Array(n.length*i),this.buffer.set(n,0)}}}class Z extends T{constructor(){super(),this.encoder=new TextEncoder}init(){return this.buffer=new _,this.write(27),this.write("@"),this}flush(){return this.buffer.flush()}feed(e=1){return this.write(27),this.write("a"),this.write(e),this}cut(e="full"){return this.write(27),this.write("d"),this.write("full"===e?2:3),this}writeLine(e){return this.write(`${e}\n`)}setInverse(e=!0){return this.write(27),this.write(e?"4":"5"),this}setUnderline(e=!0){return this.write(27),this.write("-"),this.write(e?1:0),this}setJustification(e){let t;switch(e){case"center":t=1;break;case"right":t=2;break;default:t=0}return this.write(27),this.write(29),this.write("a"),this.write(t),this}setBold(e=!0){return this.write(27),this.write(e?"E":"F"),this}setSize(e){return this.write(27),this.write("i"),this.write("normal"===e?0:1),this.write("normal"===e?0:1),this}write(e){return"number"==typeof e?this.buffer.writeUInt8(e):this.buffer.write("string"==typeof e?this.encoder.encode(e):e),this}}var w=function(){};w.prototype.createAlignmentElement=function(e){var t="<alignment";return null!=e&&(t+=this._analysisEnumAttribute("position",e.position,/^(left|center|right)$/)),t+"/>"},w.prototype.createBarcodeElement=function(e){var t;if(null==e)throw Error("Argument is undefined.");if(t="<barcode"+this._analysisEnumAttribute("symbology",e.symbology,/^(UPCE|UPCA|JAN8|JAN13|Code39|ITF|Code128|Code93|NW7)$/),t+=this._analysisEnumAttribute("width",e.width,/^(width[2-4]|width_mode[1-9])$/),t+=this._analysisEnumAttribute("hri",e.hri,/^(false|true)$/),t+=this._analysisValueAttribute("height",e.height,1,255),null==e.data)throw Error('Argument "data" is undefined.');return(t=t+">"+this._encodeEscapeSequenceBinary(e.data))+"</barcode>"},w.prototype.createBitImageElement=function(e){var t="<bitimage";if(null==e)throw Error("Argument is undefined.");var n=0,i=0,a=0,r=0;if(null!=e.x&&(n=e.x),null!=e.y&&(i=e.y),null!=e.width&&(a=e.width),null!=e.height&&(r=e.height),this._analysisValueAttribute("x",n,0,65535),this._analysisValueAttribute("y",i,0,65535),t+=this._analysisValueAttribute("width",a,0,65535),t+=this._analysisValueAttribute("height",r,0,65535),null==e.context)throw Error('Argument "context" is undefined.');return(t=t+">"+this._encodeRasterImage(e.context.getImageData(n,i,a,r).data,a,r))+"</bitimage>"},w.prototype.createCutPaperElement=function(e){var t="<cutpaper";return null!=e&&(t+=this._analysisEnumAttribute("feed",e.feed,/^(false|true)$/),t+=this._analysisEnumAttribute("type",e.type,/^(full|partial)$/)),t+"/>"},w.prototype.createFeedElement=function(e){var t;if(null==e)throw Error("Argument is undefined.");if(null==e.line&&null==e.unit)throw Error('Argument "line / unit" is undefined.');return t="<feed"+this._analysisValueAttribute("line",e.line,1,255),(t+=this._analysisValueAttribute("unit",e.unit,1,255))+"/>"},w.prototype.createInitializationElement=function(e){var t="<initialization";return null!=e&&(t+=this._analysisEnumAttribute("reset",e.reset,/^(false|true)$/),t+=this._analysisEnumAttribute("print",e.print,/^(false|true)$/)),t+"/>"},w.prototype.createLogoElement=function(e){var t="<logo";return null!=e&&(t+=this._analysisEnumAttribute("width",e.width,/^(single|double)$/),t+=this._analysisEnumAttribute("height",e.height,/^(single|double)$/),t+=this._analysisValueAttribute("number",e.number,1,255)),t+"/>"},w.prototype.createPdf417Element=function(e){var t;if(null==e)throw Error("Argument is undefined.");if(t="<pdf417"+this._analysisEnumAttribute("level",e.level,/^(level[0-8])$/),null!=e.line&&(t=0!=e.line?t+this._analysisValueAttribute("line",e.line,3,90):t+' line="0"'),t+=this._analysisValueAttribute("column",e.column,0,30),t+=this._analysisValueAttribute("module",e.module,1,8),t+=this._analysisValueAttribute("aspect",e.aspect,1,8),null==e.data)throw Error('Argument "data" is undefined.');return(t=t+">"+this._encodeEscapeSequenceBinary(e.data))+"</pdf417>"},w.prototype.createPeripheralElement=function(e){var t="<peripheral";return null!=e&&(t+=this._analysisValueAttribute("channel",e.channel,1,2),t+=this._analysisValueAttribute("on",e.on,1,65535),t+=this._analysisValueAttribute("off",e.off,1,65535)),t+"/>"},w.prototype.createQrCodeElement=function(e){var t;if(null==e)throw Error("Argument is undefined.");if(t="<qrcode"+this._analysisEnumAttribute("model",e.model,/^(model[12])$/),t+=this._analysisEnumAttribute("level",e.level,/^(level_[lmqh])$/),t+=this._analysisValueAttribute("cell",e.cell,1,8),null==e.data)throw Error('Argument "data" is undefined.');return(t=t+">"+this._encodeEscapeSequenceBinary(e.data))+"</qrcode>"},w.prototype.createRawDataElement=function(e){if(null==e)throw Error("Argument is undefined.");if(null==e.data)throw Error('Argument "data" is undefined.');return(e="<rawdata>"+this._encodeBase64Binary(e.data))+"</rawdata>"},w.prototype.createRuledLineElement=function(e){var t="<ruledline";return null!=e&&(t+=this._analysisEnumAttribute("thickness",e.thickness,/^(thin|medium|thick|double_(thin|medium|thick))$/),t+=this._analysisValueAttribute("width",e.width,1,65535)),t+"/>"},w.prototype.createSoundElement=function(e){var t="<sound";return null!=e&&(t+=this._analysisValueAttribute("channel",e.channel,1,2),t+=this._analysisValueAttribute("repeat",e.repeat,1,20)),t+"/>"},w.prototype.createTextElement=function(e){var t;if(null==e)throw Error("Argument is undefined.");return t="<text"+this._analysisEnumAttribute("emphasis",e.emphasis,/^(false|true)$/),t+=this._analysisEnumAttribute("invert",e.invert,/^(false|true)$/),t+=this._analysisEnumAttribute("linespace",e.linespace,/^(24|32)$/),t+=this._analysisEnumAttribute("font",e.font,/^(font_[ab])$/),t+=this._analysisEnumAttribute("underline",e.underline,/^(false|true)$/),t+=this._analysisValueAttribute("characterspace",e.characterspace,0,7),t+=this._analysisValueAttribute("width",e.width,1,6),t+=this._analysisValueAttribute("height",e.height,1,6),t+=this._analysisEnumAttribute("codepage",e.codepage,/^(cp(437|737|772|774|851|852|855|857|858|860|861|862|863|864|865|866|869|874|928|932|998|999|1001|1250|1251|1252|2001|3001|3002|3011|3012|3021|3041|3840|3841|3843|3844|3845|3846|3847|3848)|utf8|blank|utf8|shift_jis|gb18030|gb2312|big5|korea)$/),t+=this._analysisEnumAttribute("international",e.international,/^(usa|france|germany|uk|denmark|sweden|italy|spain|japan|norway|denmark2|spain2|latin_america|korea|ireland|legal)$/),null!=e.data?(t+=">",t=1==e.binary?t+this._encodeEscapeSequenceBinary(e.data):t+this._encodeEscapeSequence(e.data),t+="</text>"):t+="/>",t},w.prototype.createHoldPrintElement=function(e){var t="<holdprint";return null!=e&&(t+=this._analysisEnumAttribute("type",e.type,/^(valid|invalid|default)$/)),t+"/>"},w.prototype._analysisEnumAttribute=function(e,t,n){if(null!=t){if(!n.test(t))throw Error('Argument "'+e+'" is invalid.');return" "+e+'="'+t+'"'}return""},w.prototype._analysisValueAttribute=function(e,t,n,i){if(null!=t){if(t<n||t>i)throw Error('Argument "'+e+'" is invalid.');return" "+e+'="'+t+'"'}return""},w.prototype._encodeEscapeSequence=function(e){var t=/[\\\x00-\x20\x26\x3c\x3e\x7f]/g;return t.test(e)&&(e=e.replace(t,function(e){return"\\"==e?"\\\\":"\\x"+("0"+e.charCodeAt(0).toString(16)).slice(-2)})),e},w.prototype._encodeEscapeSequenceBinary=function(e){var t=/[\\\x00-\x20\x26\x3c\x3e\x7f-\xff]/g;return t.test(e)&&(e=e.replace(t,function(e){return"\\"==e?"\\\\":"\\x"+("0"+e.charCodeAt(0).toString(16)).slice(-2)})),e},w.prototype._encodeBase64Binary=function(e){var t="",n=e.length;e+="\0\0";for(var i=0;i<n;i+=3){var a=e.charCodeAt(i)<<16|e.charCodeAt(i+1)<<8|e.charCodeAt(i+2);t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&a)}switch(n%3){case 1:return t.slice(0,-2)+"==";case 2:return t.slice(0,-1)+"="}return t},w.prototype._encodeRasterImage=function(e,t,n){for(var i=[[-254,-126,-222,-94,-246,-118,-214,-86],[-62,-190,-30,-158,-54,-182,-22,-150],[-206,-78,-238,-110,-198,-70,-230,-102],[-14,-142,-46,-174,-6,-134,-38,-166],[-242,-114,-210,-82,-250,-122,-218,-90],[-50,-178,-18,-146,-58,-186,-26,-154],[-194,-66,-226,-98,-202,-74,-234,-106],[-2,-130,-34,-162,-10,-138,-42,-170]],a="",r=0,s=0;s<n;s++){for(var o=0,l=128,u=0;u<t;u++)((30*e[r]+59*e[r+1]+11*e[r+2])*e[r+3]+12800)/25500-e[r+3]<i[7&s][7&u]&&(o|=l),r+=4,0==(l>>=1)&&(a+=String.fromCharCode(o),o=0,l=128);128!=l&&(a+=String.fromCharCode(o))}for(e=a,a="",t=e.length,e+="\0\0",s=0;s<t;s+=3)n=e.charCodeAt(s)<<16|e.charCodeAt(s+1)<<8|e.charCodeAt(s+2),a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n);switch(t%3){case 1:return a.slice(0,-2)+"==";case 2:return a.slice(0,-1)+"="}return a};class R extends T{constructor(){super(),this.builder=new w}init(){return this.request+=this.builder.createInitializationElement(),this}setJustification(e="left"){return this.request+=this.builder.createAlignmentElement({position:e}),this}setBold(e=!0){return this.request+=this.builder.createTextElement({emphasis:e}),this}setUnderline(e=!0){return this.request+=this.builder.createTextElement({underline:e}),this}setInverse(e=!0){return this.request+=this.builder.createTextElement({invert:e}),this}writeLine(e){return this.request+=this.builder.createTextElement({data:`${e}\n`}),this}setSize(e="normal"){let t;switch(e){case"large":t=2;break;default:t=1}return this.request+=this.builder.createTextElement({width:t,height:t}),this}cut(e="full"){return this.request+=this.builder.createCutPaperElement({feed:!0,type:e}),this}feed(e=1){return this.request+=this.builder.createFeedElement({line:e}),this}flush(){return this.request}}class O extends T{constructor(){super(),this.encoder=new TextEncoder}init(){return this.buffer=new _,this.write(27),this.write("@"),this}flush(){return this.buffer.flush()}feed(e=1){return this.write(27),this.write("d"),this.write(e),this}cut(e="full"){return this.write(29),this.write("V"),this.write("full"===e?1:0),this}writeLine(e){return this.write(`${e}\n`)}setInverse(e=!0){return this.write(29),this.write("B"),this.write(e?1:0),this}setUnderline(e=!0){return this.write(27),this.write("-"),this.write(e?1:0),this}setJustification(e="left"){let t;switch(e){case"center":t=1;break;case"right":t=2;break;default:t=0}return this.write(27),this.write("a"),this.write(t),this}setBold(e=!0){return this.write(27),this.write("E"),this.write(e?1:0),this}setSize(e="normal"){return this.write(27),this.write("!"),this.write("normal"===e?0:48),this}write(e){return"number"==typeof e?this.buffer.writeUInt8(e):this.buffer.write("string"==typeof e?this.encoder.encode(e):e),this}}let k=(()=>{class e extends T{constructor(){super(),this.isConnected=new E.X(!1)}setDriver(e,t="ESC/POS"){return this.driver=e,this.printLanguage=t,this.driver.connect(),this.driver.isConnected.subscribe(e=>{this.isConnected.next(e)}),this}init(){if(!this.driver)throw"Cannot initiate the print service.  No connection detected.";switch(this.printLanguage){case"WebPRNT":this.builder=new R;break;case"StarPRNT":this.builder=new Z;break;default:this.builder=new O}return this.builder.init(),this}cut(e="full"){return this.builder.cut(e),this}feed(e=1){return this.builder.feed(e),this}setInverse(e=!0){return this.builder.setInverse(e),this}setBold(e=!0){return this.builder.setBold(e),this}setUnderline(e=!0){return this.builder.setUnderline(e),this}setJustification(e="left"){return this.builder.setJustification(e),this}setSize(e="normal"){return this.builder.setSize(e),this}writeLine(e=""){return this.builder.writeLine(e),this}flush(){this.driver.write(this.builder.flush())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,c.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e})();var S=function(e){this.papertype=this.checkedblock=this.url=null,this.timeout=9e4,this.onTimeout=this.onError=this.onReceive=null,this.holdprint_timeout=void 0,this._json=this._url=null,null!=e&&(null!=e.url&&(this.url=e.url),null!=e.checkedblock&&(this.checkedblock=e.checkedblock),null!=e.papertype&&(this.papertype=e.papertype),null!=e.timeout&&(this.timeout=e.timeout),null!=e.holdprint_timeout&&(this.holdprint_timeout=e.holdprint_timeout))},q={};S.prototype._callMessageHandler=function(){var e=this;null==q[e._url]?(q[e._url]=e,webkit.messageHandlers.sendMessageHandler.postMessage(e._json)):setTimeout(function(){e._callMessageHandler()},500)},S.prototype.sendMessage=function(e){var t,n="<root";if(null!=e.checkedblock?0==e.checkedblock&&(n+=' checkedblock="false"'):0==this.checkedblock&&(n+=' checkedblock="false"'),null!=e.papertype?"normal"==e.papertype?n+=' papertype="normal"':"black_mark"==e.papertype?n+=' papertype="black_mark"':"black_mark_and_detect_at_power_on"==e.papertype&&(n+=' papertype="black_mark_and_detect_at_power_on"'):"normal"==this.papertype?n+=' papertype="normal"':"black_mark"==this.papertype?n+=' papertype="black_mark"':"black_mark_and_detect_at_power_on"==this.papertype&&(n+=' papertype="black_mark_and_detect_at_power_on"'),null!=e.holdprint_timeout?n+=' holdprint_timeout="'+e.holdprint_timeout+'"':null!=this.holdprint_timeout&&(n+=' holdprint_timeout="'+this.holdprint_timeout+'"'),t='<StarWebPrint xmlns="http://www.star-m.jp" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Request>',t+=this._encodeEscapeSequence(n=n+">"+e.request+"</root>"),t+="</Request>",t+="</StarWebPrint>",n="",/^https?:\/\/(localhost|127\.0\.0\.1):8001\//.test((n=null!=e.url?e.url:this.url).toLowerCase())&&-1!=navigator.userAgent.indexOf("webPRNTSupportMessageHandler"))this._json=JSON.stringify({url:n,body:t}),this._url=n,this._callMessageHandler();else{var i=null;if(window.XMLHttpRequest)i=new XMLHttpRequest;else{if(!window.ActiveXObject)return void(this.onError&&this.onError({status:10001,responseText:"XMLHttpRequest is not supported."}));i=new ActiveXObject("Microsoft.XMLHTTP")}-1==navigator.userAgent.indexOf("iPad;")&&-1==navigator.userAgent.indexOf("iPhone;")&&-1==navigator.userAgent.indexOf("iPod touch;")&&-1==navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("WebPRNTSupportHTTPS")||0!=n.toLowerCase().indexOf("https://localhost")&&0!=n.toLowerCase().indexOf("https://127.0.0.1")||(n="http://"+n.substring(8));try{i.open("POST",n,!0)}catch(r){return void(this.onError&&this.onError({status:10002,responseText:r.message}))}try{null!=e.timeout?i.timeout=e.timeout:this.timeout&&(i.timeout=this.timeout)}catch(s){}i.setRequestHeader("Content-Type","text/xml; charset=UTF-8");var a=this;i.onreadystatechange=function(){if(4==i.readyState)try{if(200==i.status){var e=i.responseXML.getElementsByTagName("Response");if(0<e.length){if(a.onReceive){var n=e[0].childNodes[0].nodeValue;a.onReceive({traderSuccess:n.slice(n.indexOf("<success>")+9,n.indexOf("</success>")),traderCode:n.slice(n.indexOf("<code>")+6,n.indexOf("</code>")),traderStatus:n.slice(n.indexOf("<status>")+8,n.indexOf("</status>")),status:i.status,responseText:i.responseText})}}else a.onError&&a.onError({status:i.status,responseText:i.responseText})}else a.onError&&a.onError({status:i.status,responseText:i.responseText})}catch(t){a.onError&&a.onError({status:0,responseText:"Connection timeout occurred."})}};try{i.ontimeout=function(){a.onTimeout&&a.onTimeout()}}catch(o){}try{i.send(t)}catch(l){this.onError&&this.onError({status:10003,responseText:l.message})}}},S.prototype._onHandlerSuccess=function(e){trader.onReceive&&trader.onReceive(e)},S.prototype._onHandlerError=function(e){trader.onError&&trader.onError(e)},S.prototype.isCoverOpen=function(e){return!!(32&parseInt(e.traderStatus.substr(4,2),16))},S.prototype.isOffLine=function(e){return!!(8&parseInt(e.traderStatus.substr(4,2),16))},S.prototype.isCompulsionSwitchClose=function(e){return!!(4&parseInt(e.traderStatus.substr(4,2),16))},S.prototype.isEtbCommandExecute=function(e){return!!(2&parseInt(e.traderStatus.substr(4,2),16))},S.prototype.isHighTemperatureStop=function(e){return!!(64&parseInt(e.traderStatus.substr(6,2),16))},S.prototype.isNonRecoverableError=function(e){return!!(32&parseInt(e.traderStatus.substr(6,2),16))},S.prototype.isAutoCutterError=function(e){return!!(8&parseInt(e.traderStatus.substr(6,2),16))},S.prototype.isBlackMarkError=function(e){return!!(8&parseInt(e.traderStatus.substr(8,2),16))},S.prototype.isPaperEnd=function(e){return!!(8&parseInt(e.traderStatus.substr(10,2),16))},S.prototype.isPaperNearEnd=function(e){return!!(4&parseInt(e.traderStatus.substr(10,2),16))},S.prototype.isPaperPresent=function(e){return!!(2&parseInt(e.traderStatus.substr(12,2),16))},S.prototype.extractionEtbCounter=function(e){var t=0;return 64&parseInt(e.traderStatus.substr(14,2),16)&&(t|=16),32&parseInt(e.traderStatus.substr(14,2),16)&&(t|=8),8&parseInt(e.traderStatus.substr(14,2),16)&&(t|=4),4&parseInt(e.traderStatus.substr(14,2),16)&&(t|=2),2&parseInt(e.traderStatus.substr(14,2),16)&&(t|=1),t},S.prototype._encodeEscapeSequence=function(e){var t=/[<>&]/g;return t.test(e)&&(e=e.replace(t,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;"}return"&amp;"})),e};class x extends class{}{constructor(e,t){super(),this.isConnected=new E.X(!1),this.vendorId=e,this.productId=t}connect(){navigator.usb.getDevices().then(e=>(this.device=e.find(e=>e.vendorId===this.vendorId&&e.productId===this.productId),console.log(this.device),this.device.open())).then(()=>this.device.selectConfiguration(1)).then(()=>this.device.claimInterface(0)).then(e=>{this.endPoint=this.device.configuration.interfaces[0].alternate.endpoints.find(e=>"out"===e.direction),this.isConnected.next(!0),this.listenForUsbConnections()}).catch(e=>{this.isConnected.next(!1)})}requestUsb(){return new C.y(e=>{navigator.usb.requestDevice({filters:[]}).then(t=>(this.vendorId=t.vendorId,this.productId=t.productId,e.next(t))).catch(t=>e.error(t))})}write(e){return(0,M.mG)(this,void 0,void 0,function*(){this.device.transferOut(this.endPoint.endpointNumber,e)})}listenForUsbConnections(){navigator.usb.addEventListener("disconnect",()=>{this.isConnected.next(!1)}),navigator.usb.addEventListener("connect",()=>{this.isConnected.next(!0)})}}var N=n(98542),B=n(37857),D=n(79765);let P=(()=>{class e{constructor(){this.isListening=!1,this.barcodeSubject=new D.xQ,this.fullBarcode="",this.taille=0}getBarcodeStream(){return this.barcodeSubject.asObservable()}nettoyer(e){return e.replace(/[\\']/g,"")}countBackslashes(e){return e.split("\\").length-1}startListening(){this.isListening=!0,this.fullBarcode="",document.addEventListener("keypress",e=>{const t=e.key;this.fullBarcode+=t,console.log(t),console.log(this.fullBarcode),console.log(this.taille);const n=this.countBackslashes(this.fullBarcode);if(console.log(n),2==n){console.log(this.fullBarcode);const e=this.fullBarcode.split("\\")[1];console.log(e);const t=this.nettoyer(e);this.barcodeSubject.next(t),console.log(t),this.fullBarcode=""}})}stopListening(){this.isListening=!1}isCurrentlyListening(){return this.isListening}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const L=["espece"],F=["cheque"],U=["bon_achat"],G=["avoir"],J=["carte_bancaire"],H=["bon_sortie"],Y=["apisoft_avoir"],z=["commande_special"],j=["carte_prestige"],$=["reglement_rentree_scolaire"],V=["carte_cadeau"],Q=["orange"],K=["moov"],W=["afrimarket"],X=["bourse_livre"],ee=["mtn"],te=["carte_fidelite"],ne=["yup"],ie=["nouvelle_carte_cadeau"],ae=["revo"],re=["barcodeInput"],se=["reglementInput"],oe=["montant1"],le=["montant2"],ue=["montant3"],ce=["mode1"],he=["mode2"],pe=["mode3"],de=["moyen1"],me=["moyen2"],ge=["moyen3"],ve=["indice1"],fe=["indice2"],be=["indice3"],Ie=["renduInput"],ye=["ticketnumber"],Ae=["remiseGlobal"],Ee=["InputIndice2"];function Ce(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._UZ(4,"input",64),c.qZA(),c.TgZ(5,"td"),c._UZ(6,"input",64),c.qZA(),c.TgZ(7,"td"),c._UZ(8,"input",64),c.qZA(),c.TgZ(9,"td"),c.TgZ(10,"input",65),c.NdJ("ngModelChange",function(t){return c.CHM(e).$implicit.remise=t})("change",function(){const t=c.CHM(e).$implicit;return c.oxw().modifierRemise(t.code_art,t.remise)}),c.qZA(),c.qZA(),c.TgZ(11,"td"),c.TgZ(12,"input",65),c.NdJ("ngModelChange",function(t){return c.CHM(e).$implicit.quantite=t})("change",function(){const t=c.CHM(e).$implicit;return c.oxw().modifierQuantite(t.code_art,t.quantite)}),c.qZA(),c.qZA(),c.TgZ(13,"td"),c._UZ(14,"input",64),c.qZA(),c.TgZ(15,"td"),c.TgZ(16,"button",66),c.NdJ("click",function(){const t=c.CHM(e).$implicit,n=c.oxw();return n.supprimerProduit(n.ticket,t.code_art)}),c._uU(17,"Supprimer"),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=t.$implicit;c.xp6(2),c.Oqu(e.code_art),c.xp6(2),c.s9C("value",e.nom_art),c.xp6(2),c.s9C("value",e.prix_moyen),c.xp6(2),c.s9C("value",e.prix_vente),c.xp6(2),c.Q6J("ngModel",e.remise),c.xp6(2),c.Q6J("ngModel",e.quantite),c.xp6(2),c.s9C("value",e.montant)}}function Me(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",67),c.TgZ(1,"h4",68),c._uU(2,"Paiement Espece"),c.qZA(),c.TgZ(3,"button",69),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Fermer")}),c.TgZ(4,"span",70),c._uU(5,"\xd7"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"div",71),c.TgZ(7,"input",72),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().moyenInputValue=t}),c.qZA(),c.TgZ(8,"div",73),c.TgZ(9,"label",74),c._uU(10,"Montant :"),c.qZA(),c.TgZ(11,"input",75),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().montantInputEspece=t}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(12,"div",76),c.TgZ(13,"button",77),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Fermer")}),c._uU(14,"Fermer"),c.qZA(),c.TgZ(15,"button",78),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Valider")}),c._uU(16,"Valider Paiement Espece"),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(7),c.Q6J("ngModel",e.moyenInputValue),c.xp6(4),c.Q6J("ngModel",e.montantInputEspece),c.xp6(4),c.Q6J("disabled",!e.montantInputEspece)}}function Te(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",67),c.TgZ(1,"h4",68),c._uU(2,"Paiement Cheque"),c.qZA(),c.TgZ(3,"button",69),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Fermer")}),c.TgZ(4,"span",70),c._uU(5,"\xd7"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"div",71),c.TgZ(7,"input",72),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().moyenInputCheque=t}),c.qZA(),c.TgZ(8,"div",73),c.TgZ(9,"label",74),c._uU(10,"Montant :"),c.qZA(),c.TgZ(11,"input",75),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().montantInputCheque=t}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(12,"div",76),c.TgZ(13,"button",77),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Fermer")}),c._uU(14,"Fermer"),c.qZA(),c.TgZ(15,"button",78),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Valider")}),c._uU(16,"Valider Paiement Cheque"),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(7),c.Q6J("ngModel",e.moyenInputCheque),c.xp6(4),c.Q6J("ngModel",e.montantInputCheque),c.xp6(4),c.Q6J("disabled",!e.montantInputCheque)}}function _e(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",67),c.TgZ(1,"h4",68),c._uU(2,"Paiement Bon-Achat"),c.qZA(),c.TgZ(3,"button",69),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Fermer")}),c.TgZ(4,"span",70),c._uU(5,"\xd7"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"div",71),c.TgZ(7,"div",73),c.TgZ(8,"label",79),c._uU(9,"Num\xe9ro de compte :"),c.qZA(),c.TgZ(10,"input",80),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().numeroInputBonAchat=t}),c.qZA(),c.TgZ(11,"input",72),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().moyenInputBonAchat=t}),c.qZA(),c.qZA(),c.TgZ(12,"div",73),c.TgZ(13,"label",74),c._uU(14,"Proprietaire :"),c.qZA(),c.TgZ(15,"input",75),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().proprietaireInputBonAchat=t}),c.qZA(),c.qZA(),c.TgZ(16,"div",73),c.TgZ(17,"label",74),c._uU(18,"Porteur :"),c.qZA(),c.TgZ(19,"input",75),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().porteurInputBonAchat=t}),c.qZA(),c.qZA(),c.TgZ(20,"div",73),c.TgZ(21,"label",74),c._uU(22,"Montant :"),c.qZA(),c.TgZ(23,"input",75),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().montantInputBonAchat=t}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"div",76),c.TgZ(25,"button",77),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Fermer")}),c._uU(26,"Fermer"),c.qZA(),c.TgZ(27,"button",81),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Valider")}),c._uU(28,"Valider Paiement avec bon d'achat"),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(10),c.Q6J("ngModel",e.numeroInputBonAchat),c.xp6(1),c.Q6J("ngModel",e.moyenInputBonAchat),c.xp6(4),c.Q6J("ngModel",e.proprietaireInputBonAchat),c.xp6(4),c.Q6J("ngModel",e.porteurInputBonAchat),c.xp6(4),c.Q6J("ngModel",e.montantInputBonAchat)}}function Ze(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",67),c.TgZ(1,"h4",68),c._uU(2,"Paiement Orange"),c.qZA(),c.TgZ(3,"button",69),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Fermer")}),c.TgZ(4,"span",70),c._uU(5,"\xd7"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"div",71),c.TgZ(7,"div",73),c.TgZ(8,"label",79),c._uU(9,"Num\xe9ro de compte :"),c.qZA(),c.TgZ(10,"input",80),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().numeroInputOrange=t}),c.qZA(),c.TgZ(11,"input",72),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().moyenInputOrange=t}),c.qZA(),c.qZA(),c.TgZ(12,"div",73),c.TgZ(13,"label",74),c._uU(14,"Proprietaire :"),c.qZA(),c.TgZ(15,"input",75),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().proprietaireInputOrange=t}),c.qZA(),c.qZA(),c.TgZ(16,"div",73),c.TgZ(17,"label",74),c._uU(18,"Porteur :"),c.qZA(),c.TgZ(19,"input",75),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().porteurInputOrange=t}),c.qZA(),c.qZA(),c.TgZ(20,"div",73),c.TgZ(21,"label",74),c._uU(22,"Montant :"),c.qZA(),c.TgZ(23,"input",75),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().montantInputOrange=t}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"div",76),c.TgZ(25,"button",77),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Fermer")}),c._uU(26,"Fermer"),c.qZA(),c.TgZ(27,"button",78),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Valider")}),c._uU(28,"Valider Paiement Orange"),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(10),c.Q6J("ngModel",e.numeroInputOrange),c.xp6(1),c.Q6J("ngModel",e.moyenInputOrange),c.xp6(4),c.Q6J("ngModel",e.proprietaireInputOrange),c.xp6(4),c.Q6J("ngModel",e.porteurInputOrange),c.xp6(4),c.Q6J("ngModel",e.montantInputOrange),c.xp6(4),c.Q6J("disabled",!(e.numeroInputOrange&&e.proprietaireInputOrange&&e.porteurInputOrange&&e.montantInputOrange))}}function we(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",67),c.TgZ(1,"h4",68),c._uU(2,"Paiement Afrimarket"),c.qZA(),c.TgZ(3,"button",69),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Fermer")}),c.TgZ(4,"span",70),c._uU(5,"\xd7"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"div",71),c.TgZ(7,"div",73),c.TgZ(8,"label",79),c._uU(9,"Num\xe9ro de compte :"),c.qZA(),c.TgZ(10,"input",80),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().numeroInputAfri=t}),c.qZA(),c.TgZ(11,"input",72),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().moyenInputAfri=t}),c.qZA(),c.qZA(),c.TgZ(12,"div",73),c.TgZ(13,"label",74),c._uU(14,"Proprietaire :"),c.qZA(),c.TgZ(15,"input",75),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().proprietaireInputAfri=t}),c.qZA(),c.qZA(),c.TgZ(16,"div",73),c.TgZ(17,"label",74),c._uU(18,"Porteur :"),c.qZA(),c.TgZ(19,"input",75),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().porteurInputAfri=t}),c.qZA(),c.qZA(),c.TgZ(20,"div",73),c.TgZ(21,"label",74),c._uU(22,"Montant :"),c.qZA(),c.TgZ(23,"input",75),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().montantInputAfri=t}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"div",76),c.TgZ(25,"button",77),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Fermer")}),c._uU(26,"Fermer"),c.qZA(),c.TgZ(27,"button",78),c.NdJ("click",function(){return c.CHM(e).$implicit.close("Valider")}),c._uU(28,"Valider Paiement Afri-Market"),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(10),c.Q6J("ngModel",e.numeroInputAfri),c.xp6(1),c.Q6J("ngModel",e.moyenInputAfri),c.xp6(4),c.Q6J("ngModel",e.proprietaireInputAfri),c.xp6(4),c.Q6J("ngModel",e.porteurInputAfri),c.xp6(4),c.Q6J("ngModel",e.montantInputAfri),c.xp6(4),c.Q6J("disabled",!(e.numeroInputAfri&&e.proprietaireInputAfri&&e.porteurInputAfri&&e.montantInputAfri))}}let Re=(()=>{class e extends u.K{constructor(e,t,n,i,a,r,s,o,l,u,c,h,p){super(e,i,a,r,s,l,o),this.logger=e,this.route=t,this.router=n,this.httpService=i,this.envService=a,this.messageService=r,this.authService=s,this.modal=o,this.menuService=l,this.changeDetectorRef=u,this.modalService=c,this.barcodeScannerService=h,this.printService=p,this.status=!1,this.usbPrintDrivers=[],this.lettresAutorisees=[],this.closeResult="",this.numeroInputEspece="",this.numeroInputCheque="",this.numeroInputAfri="",this.numeroInputTotal="",this.numeroInputBonAchat="",this.numeroInputAvoir="",this.numeroInputCarteBancaire="",this.numeroInputSortieCaisse="",this.numeroInputApisoftAvoir="",this.numeroInputCmdSpec="",this.numeroInputPrestige="",this.numeroInputReglementRentreeScolaire="",this.numeroInputCarteCadeau="",this.numeroInputOrange="",this.numeroInputMoov="",this.numeroInputBourseLivre="",this.numeroInputMtn="",this.numeroInputCarteFidelite="",this.numeroInputYup="",this.numeroInputNouvelleCarteCadeau="",this.numeroInputRevo="",this.moyenInputEspece="",this.moyenInputCheque="",this.moyenInputAfri="",this.moyenInputTotal="",this.moyenInputBonAchat="",this.moyenInputAvoir="",this.moyenInputCarteBancaire="",this.moyenInputSortieCaisse="",this.moyenInputApisoftAvoir="",this.moyenInputCmdSpec="",this.moyenInputPrestige="",this.moyenInputReglementRentreeScolaire="",this.moyenInputCarteCadeau="",this.moyenInputOrange="",this.moyenInputMoov="",this.moyenInputBourseLivre="",this.moyenInputMtn="",this.moyenInputCarteFidelite="",this.moyenInputYup="",this.moyenInputNouvelleCarteCadeau="",this.moyenInputRevo="",this.proprietaireInputEspece="",this.proprietaireInputCheque="",this.proprietaireInputAfri="",this.proprietaireInputTotal="",this.proprietaireInputBonAchat="",this.proprietaireInputAvoir="",this.proprietaireInputCarteBancaire="",this.proprietaireInputSortieCaisse="",this.proprietaireInputApisoftAvoir="",this.proprietaireInputCmdSpec="",this.proprietaireInputPrestige="",this.proprietaireInputReglementRentreeScolaire="",this.proprietaireInputCarteCadeau="",this.proprietaireInputOrange="",this.proprietaireInputMoov="",this.proprietaireInputBourseLivre="",this.proprietaireInputMtn="",this.proprietaireInputCarteFidelite="",this.proprietaireInputYup="",this.proprietaireInputNouvelleCarteCadeau="",this.proprietaireInputRevo="",this.porteurInputEspece="",this.porteurInputCheque="",this.porteurInputAfri="",this.porteurInputTotal="",this.porteurInputBonAchat="",this.porteurInputAvoir="",this.porteurInputCarteBancaire="",this.porteurInputSortieCaisse="",this.porteurInputApisoftAvoir="",this.porteurInputCmdSpec="",this.porteurInputPrestige="",this.porteurInputReglementRentreeScolaire="",this.porteurInputCarteCadeau="",this.porteurInputOrange="",this.porteurInputMoov="",this.porteurInputBourseLivre="",this.porteurInputMtn="",this.porteurInputCarteFidelite="",this.porteurInputYup="",this.porteurInputNouvelleCarteCadeau="",this.porteurInputRevo="",this.montantInputEspece="",this.montantInputCheque="",this.montantInputAfri="",this.montantInputBonAchat="",this.montantInputValuetotal="",this.montantInputAvoir="",this.montantInputCarteBancaire="",this.montantInputSortieCaisse="",this.montantInputApisoftAvoir="",this.montantInputCmdSpec="",this.montantInputPrestige="",this.montantInputReglementRentreeScolaire="",this.montantInputCarteCadeau="",this.montantInputOrange="",this.montantInputMoov="",this.montantInputBourseLivre="",this.montantInputMtn="",this.montantInputCarteFidelite="",this.montantInputYup="",this.montantInputNouvelleCarteCadeau="",this.montantInputRevo="",this.etablissementInputEspece="",this.etablissementInputCheque="",this.etablissementInputValuetotal="",this.etablissementInputAfri="",this.etablissementBonAchat="",this.etablissementAvoir="",this.etablissementCarteBancaire="",this.etablissementSortieCaisse="",this.etablissementApisoftAvoir="",this.etablissementCmdSpec="",this.etablissementPrestige="",this.etablissementReglementRentreeScolaire="",this.etablissementCarteCadeau="",this.etablissementOrange="",this.etablissementMoov="",this.etablissementBourseLivre="",this.etablissementMtn="",this.etablissementCarteFidelite="",this.etablissementYup="",this.etablissementNouvelleCarteCadeau="",this.etablissementRevo="",this.indiceInputEspece="",this.indiceInputCheque="",this.indiceInputAfri="",this.indiceInputValuetotal="",this.indiceInputBonAchat="",this.indiceInputAvoir="",this.indiceInputCarteBancaire="",this.indiceInputSortieCaisse="",this.indiceInputApisoftAvoir="",this.indiceInputCmdSpec="",this.indiceInputPrestige="",this.indiceInputReglementRentreeScolaire="",this.indiceInputCarteCadeau="",this.indiceInputOrange="",this.indiceInputMoov="",this.indiceInputBourseLivre="",this.indiceInputMtn="",this.indiceInputCarteFidelite="",this.indiceInputYup="",this.indiceInputNouvelleCarteCadeau="",this.indiceInputRevo="",this.lastBarcode="",this.inputValue="",this.inputValue1="",this.inputValue2="",this.inputValue3="",this.isEditMode=!1,this.isVisible=!1,this.produits=[],this.referenceProduit="",this.messageErreur="",this.totalMontant=0,this.montantRendu=0,this.achatDesactive=!1,this.ticket="",this.test=""}handleKeyboardEvent(e){e.ctrlKey&&"y"===e.key&&this.parcours(),e.ctrlKey&&"b"===e.key&&(this.initialiser(),this.reloadComponent(),this.reglementInput.nativeElement.value="",this.renduInput.nativeElement.value="",this.remiseGlobal.nativeElement.value="",this.produits=[],this.calculerTotalMontant(),this.ticket=""),"F9"===e.key&&this.validerAchat()}parcours(){this.httpService.tedData(`${b._q}/navigation/`,{user_id:this.user.CODE_AGENT}).subscribe(e=>{this.calculerTotalMontant(),this.recupticketnumber()})}initialiser(){let e={user_id:this.user.CODE_AGENT};this.httpService.tedData(`${b._q}/initialisation/${e.user_id}`,e).subscribe(e=>{this.checkMontantReglement(),this.calculerTotalMontant()})}get modalTitle(){return this.isEditMode?"Mise \xe0 jour":"Ajouter"}openModal(e,t){const n="montant"+t,i="moyen"+t,a="mode"+t;let r;"E"==e&&(r=this.espece),"M"==e&&(r=this.afrimarket),"O"==e&&(r=this.orange),void 0!==r&&this.modalService.open(r,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{"Valider"===e&&(r==this.espece&&(document.getElementById(n).setAttribute("value",this.montantInputEspece),document.getElementById(i).setAttribute("value","Espece"),document.getElementById(a).setAttribute("value","1"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.orange&&(document.getElementById(n).setAttribute("value",this.montantInputOrange),document.getElementById(i).setAttribute("value","Orange"),document.getElementById(a).setAttribute("value","64"),this.paiement_Modal({user_id:this.user.CODE_AGENT,ticket:this.ticketnumber.nativeElement.value,proprietaire:this.proprietaireInputOrange,montant:this.montantInputOrange,banque:"Orange Money CI",numero:this.numeroInputOrange,moyen_reglement:64,porteur:this.porteurInputOrange}),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.cheque&&(document.getElementById(n).setAttribute("value",this.montantInputCheque),document.getElementById(i).setAttribute("value","Cheque"),document.getElementById(a).setAttribute("value","2"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.bon_achat&&(document.getElementById(n).setAttribute("value",this.montantInputBonAchat),document.getElementById(i).setAttribute("value","Bon Achat"),document.getElementById(a).setAttribute("value","3"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.avoir&&(document.getElementById(n).setAttribute("value",this.montantInputAvoir),document.getElementById(i).setAttribute("value","Avoir"),document.getElementById(a).setAttribute("value","4"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.carte_bancaire&&(document.getElementById(n).setAttribute("value",this.montantInputCarteBancaire),document.getElementById(i).setAttribute("value","Carte Bancaire"),document.getElementById(a).setAttribute("value","5"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.bon_sortie&&(document.getElementById(n).setAttribute("value",this.montantInputSortieCaisse),document.getElementById(i).setAttribute("value","Bon Sortie Caisse"),document.getElementById(a).setAttribute("value","6"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.apisoft_avoir&&(document.getElementById(n).setAttribute("value",this.montantInputApisoftAvoir),document.getElementById(i).setAttribute("value","Apisoft - Avoir"),document.getElementById(a).setAttribute("value","7"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.commande_special&&(document.getElementById(n).setAttribute("value",this.montantInputCmdSpec),document.getElementById(i).setAttribute("value","Commande Speciale - Avoir"),document.getElementById(a).setAttribute("value","21"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.carte_prestige&&(document.getElementById(n).setAttribute("value",this.montantInputPrestige),document.getElementById(i).setAttribute("value","Carte Prestige"),document.getElementById(a).setAttribute("value","61"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.reglement_rentree_scolaire&&(document.getElementById(n).setAttribute("value",this.montantInputReglementRentreeScolaire),document.getElementById(i).setAttribute("value","Reglement Rentree Scolaire"),document.getElementById(a).setAttribute("value","62"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.carte_cadeau&&(document.getElementById(n).setAttribute("value",this.montantInputCarteCadeau),document.getElementById(i).setAttribute("value","Carte Cado"),document.getElementById(a).setAttribute("value","63"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.orange&&(document.getElementById(n).setAttribute("value",this.montantInputOrange),document.getElementById(i).setAttribute("value","Orange Money"),document.getElementById(a).setAttribute("value","64"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.moov&&(document.getElementById(n).setAttribute("value",this.montantInputMoov),document.getElementById(i).setAttribute("value","Moov Money"),document.getElementById(a).setAttribute("value","65"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.afrimarket&&(document.getElementById(n).setAttribute("value",this.montantInputAfri),document.getElementById(i).setAttribute("value","Afrimarket"),document.getElementById(a).setAttribute("value","66"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.bourse_livre&&(document.getElementById(n).setAttribute("value",this.montantInputBourseLivre),document.getElementById(i).setAttribute("value","Bourse aux Livres"),document.getElementById(a).setAttribute("value","67"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.mtn&&(document.getElementById(n).setAttribute("value",this.montantInputMtn),document.getElementById(i).setAttribute("value","Mtn Money"),document.getElementById(a).setAttribute("value","68"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.carte_fidelite&&(document.getElementById(n).setAttribute("value",this.montantInputCarteFidelite),document.getElementById(i).setAttribute("value","Carte de Fidelit\xe9"),document.getElementById(a).setAttribute("value","69"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.yup&&(document.getElementById(n).setAttribute("value",this.montantInputYup),document.getElementById(i).setAttribute("value","Yup Money"),document.getElementById(a).setAttribute("value","70"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.nouvelle_carte_cadeau&&(document.getElementById(n).setAttribute("value",this.montantInputNouvelleCarteCadeau),document.getElementById(i).setAttribute("value","Nouvelle Carte cado"),document.getElementById(a).setAttribute("value","71"),this.checkMontantReglement(),this.calculerTotalMontant()),r==this.revo&&(document.getElementById(n).setAttribute("value",this.montantInputRevo),document.getElementById(i).setAttribute("value","Revo"),document.getElementById(a).setAttribute("value","72"),this.checkMontantReglement(),this.calculerTotalMontant())),"Fermer"===e&&(r==this.espece&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputEspece="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputEspece="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputEspece="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.orange&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputOrange="",this.proprietaireInputOrange="",this.numeroInputOrange="",this.porteurInputEspece="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputOrange="",this.proprietaireInputOrange="",this.numeroInputOrange="",this.porteurInputEspece="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputOrange="",this.proprietaireInputOrange="",this.numeroInputOrange="",this.porteurInputEspece="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.cheque&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputCheque="",this.proprietaireInputCheque="",this.numeroInputCheque="",this.porteurInputCheque="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputCheque="",this.proprietaireInputCheque="",this.numeroInputCheque="",this.porteurInputCheque="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputCheque="",this.proprietaireInputCheque="",this.numeroInputCheque="",this.porteurInputCheque="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.bon_achat&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputBonAchat="",this.proprietaireInputBonAchat="",this.numeroInputBonAchat="",this.porteurInputBonAchat="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputBonAchat="",this.proprietaireInputBonAchat="",this.numeroInputBonAchat="",this.porteurInputBonAchat="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputBonAchat="",this.proprietaireInputBonAchat="",this.numeroInputBonAchat="",this.porteurInputBonAchat="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.avoir&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputAvoir="",this.proprietaireInputAvoir="",this.numeroInputAvoir="",this.porteurInputAvoir="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputAvoir="",this.proprietaireInputAvoir="",this.numeroInputAvoir="",this.porteurInputAvoir="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputAvoir="",this.proprietaireInputAvoir="",this.numeroInputAvoir="",this.porteurInputAvoir="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.carte_bancaire&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputCarteBancaire="",this.proprietaireInputCarteBancaire="",this.numeroInputCarteBancaire="",this.porteurInputCarteBancaire="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputCarteBancaire="",this.proprietaireInputCarteBancaire="",this.numeroInputCarteBancaire="",this.porteurInputCarteBancaire="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputCarteBancaire="",this.proprietaireInputCarteBancaire="",this.numeroInputCarteBancaire="",this.porteurInputCarteBancaire="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.bon_sortie&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputSortieCaisse="",this.proprietaireInputSortieCaisse="",this.numeroInputSortieCaisse="",this.porteurInputSortieCaisse="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputSortieCaisse="",this.proprietaireInputSortieCaisse="",this.numeroInputSortieCaisse="",this.porteurInputSortieCaisse="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputSortieCaisse="",this.proprietaireInputSortieCaisse="",this.numeroInputSortieCaisse="",this.porteurInputSortieCaisse="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.apisoft_avoir&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputApisoftAvoir="",this.proprietaireInputApisoftAvoir="",this.numeroInputApisoftAvoir="",this.porteurInputApisoftAvoir="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputApisoftAvoir="",this.proprietaireInputApisoftAvoir="",this.numeroInputApisoftAvoir="",this.porteurInputApisoftAvoir="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputApisoftAvoir="",this.proprietaireInputApisoftAvoir="",this.numeroInputApisoftAvoir="",this.porteurInputApisoftAvoir="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.commande_special&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputCmdSpec="",this.proprietaireInputCmdSpec="",this.numeroInputCmdSpec="",this.porteurInputCmdSpec="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputCmdSpec="",this.proprietaireInputCmdSpec="",this.numeroInputCmdSpec="",this.porteurInputCmdSpec="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputCmdSpec="",this.proprietaireInputCmdSpec="",this.numeroInputCmdSpec="",this.porteurInputCmdSpec="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.carte_prestige&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputPrestige="",this.proprietaireInputPrestige="",this.numeroInputPrestige="",this.porteurInputPrestige="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputPrestige="",this.proprietaireInputPrestige="",this.numeroInputPrestige="",this.porteurInputPrestige="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputPrestige="",this.proprietaireInputPrestige="",this.numeroInputPrestige="",this.porteurInputPrestige="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.reglement_rentree_scolaire&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputReglementRentreeScolaire="",this.proprietaireInputReglementRentreeScolaire="",this.numeroInputReglementRentreeScolaire="",this.porteurInputReglementRentreeScolaire="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputReglementRentreeScolaire="",this.proprietaireInputReglementRentreeScolaire="",this.numeroInputReglementRentreeScolaire="",this.porteurInputReglementRentreeScolaire="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputReglementRentreeScolaire="",this.proprietaireInputReglementRentreeScolaire="",this.numeroInputReglementRentreeScolaire="",this.porteurInputReglementRentreeScolaire="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.carte_cadeau&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputCarteCadeau="",this.proprietaireInputCarteCadeau="",this.numeroInputCarteCadeau="",this.porteurInputCarteCadeau="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputCarteCadeau="",this.proprietaireInputCarteCadeau="",this.numeroInputCarteCadeau="",this.porteurInputCarteCadeau="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputCarteCadeau="",this.proprietaireInputCarteCadeau="",this.numeroInputCarteCadeau="",this.porteurInputCarteCadeau="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.orange&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputOrange="",this.proprietaireInputOrange="",this.numeroInputOrange="",this.porteurInputOrange="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputOrange="",this.proprietaireInputOrange="",this.numeroInputOrange="",this.porteurInputOrange="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputOrange="",this.proprietaireInputOrange="",this.numeroInputOrange="",this.porteurInputOrange="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.moov&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputMoov="",this.proprietaireInputMoov="",this.numeroInputMoov="",this.porteurInputMoov="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputMoov="",this.proprietaireInputMoov="",this.numeroInputMoov="",this.porteurInputMoov="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputMoov="",this.proprietaireInputMoov="",this.numeroInputMoov="",this.porteurInputMoov="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.afrimarket&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputAfri="",this.proprietaireInputAfri="",this.numeroInputAfri="",this.porteurInputAfri="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputAfri="",this.proprietaireInputAfri="",this.numeroInputAfri="",this.porteurInputAfri="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputAfri="",this.proprietaireInputAfri="",this.numeroInputAfri="",this.porteurInputAfri="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.bourse_livre&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputBourseLivre="",this.proprietaireInputBourseLivre="",this.numeroInputBourseLivre="",this.porteurInputBourseLivre="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputBourseLivre="",this.proprietaireInputBourseLivre="",this.numeroInputBourseLivre="",this.porteurInputBourseLivre="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputBourseLivre="",this.proprietaireInputBourseLivre="",this.numeroInputBourseLivre="",this.porteurInputBourseLivre="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.mtn&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputMtn="",this.proprietaireInputMtn="",this.numeroInputMtn="",this.porteurInputMtn="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputMtn="",this.proprietaireInputMtn="",this.numeroInputMtn="",this.porteurInputMtn="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputMtn="",this.proprietaireInputMtn="",this.numeroInputMtn="",this.porteurInputMtn="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.carte_fidelite&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputCarteFidelite="",this.proprietaireInputCarteFidelite="",this.numeroInputCarteFidelite="",this.porteurInputCarteFidelite="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputCarteFidelite="",this.proprietaireInputCarteFidelite="",this.numeroInputCarteFidelite="",this.porteurInputCarteFidelite="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputCarteFidelite="",this.proprietaireInputCarteFidelite="",this.numeroInputCarteFidelite="",this.porteurInputCarteFidelite="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.yup&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputYup="",this.proprietaireInputYup="",this.numeroInputYup="",this.porteurInputYup="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputYup="",this.proprietaireInputYup="",this.numeroInputYup="",this.porteurInputYup="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputYup="",this.proprietaireInputYup="",this.numeroInputYup="",this.porteurInputYup="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.nouvelle_carte_cadeau&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputNouvelleCarteCadeau="",this.proprietaireInputNouvelleCarteCadeau="",this.numeroInputNouvelleCarteCadeau="",this.porteurInputNouvelleCarteCadeau="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputNouvelleCarteCadeau="",this.proprietaireInputNouvelleCarteCadeau="",this.numeroInputNouvelleCarteCadeau="",this.porteurInputNouvelleCarteCadeau="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputNouvelleCarteCadeau="",this.proprietaireInputNouvelleCarteCadeau="",this.numeroInputNouvelleCarteCadeau="",this.porteurInputNouvelleCarteCadeau="",this.checkMontantReglement(),this.calculerTotalMontant())),r==this.revo&&(1==t&&(this.indice1.nativeElement.value="",this.moyen1.nativeElement.value="",this.montant1.nativeElement.value="",this.mode1.nativeElement.value="",this.montantInputRevo="",this.proprietaireInputRevo="",this.numeroInputRevo="",this.porteurInputRevo="",this.checkMontantReglement(),this.calculerTotalMontant()),2==t&&(this.indice2.nativeElement.value="",this.moyen2.nativeElement.value="",this.montant2.nativeElement.value="",this.mode2.nativeElement.value="",this.montantInputRevo="",this.proprietaireInputRevo="",this.numeroInputRevo="",this.porteurInputRevo="",this.checkMontantReglement(),this.calculerTotalMontant()),3==t&&(this.indice3.nativeElement.value="",this.moyen3.nativeElement.value="",this.montant3.nativeElement.value="",this.mode3.nativeElement.value="",this.montantInputRevo="",this.proprietaireInputRevo="",this.numeroInputRevo="",this.porteurInputRevo="",this.checkMontantReglement(),this.calculerTotalMontant())))},e=>{})}verifierLettre(e){switch(e){case 2:this.lettresAutorisees.includes(this.inputValue2)||(this.inputValue2="",this.indice2.nativeElement.value="");break;case 3:this.lettresAutorisees.includes(this.inputValue3)||(this.inputValue3="",this.indice3.nativeElement.value="");break;default:this.lettresAutorisees.includes(this.inputValue1)||(this.inputValue1="",this.indice1.nativeElement.value="")}}checkForPaiement(e){switch(e){case 2:this.verifierLettre(e),this.openModal(this.inputValue2,e);break;case 3:this.verifierLettre(e),this.openModal(this.inputValue3,e);break;default:this.verifierLettre(e),this.openModal(this.inputValue1,e)}}reloadComponent(){const e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}imprimerTicket(e){let t=e;console.log(t),this.httpService.tedData(`${b._q}/impressionticket/${t}`,t).subscribe(e=>{console.log("Ticket imprim\xe9 avec succ\xe8s :",e)},e=>{console.error("Erreur lors de l'impression du ticket :",e)})}limitValue(e){e.value>99&&(e.value=99)}refresh(){window.location.reload()}supprimerProduit(e,t){this.httpService.tedData(`${b._q}/supprimerligne/${t}`,{effaceur:this.user.CODE_AGENT,panier:e}).subscribe(e=>{this.reglementInput.nativeElement.value="",this.renduInput.nativeElement.value="",this.remiseGlobal.nativeElement.value="",this.calculerTotalMontant(),this.recupticketnumber(),this.checkMontantReglement()})}checkMontantReglement(){let e=this.montant2.nativeElement.value||0,t=this.montant3.nativeElement.value||0;this.montantReglement=parseInt(this.montant1.nativeElement.value||0)+parseInt(e)+parseInt(t),console.log(this.montantReglement),null!=this.montantReglement?(this.montantRendu=this.montantReglement-this.totalMontant,console.log(this.montantReglement),console.log(this.totalMontant),console.log(this.montantRendu)):this.montantRendu=0,this.montantRendu<=0&&(this.montantRendu=0),this.achatDesactive=this.montantReglement<this.totalMontant||this.montantReglement<=0||null==this.montantReglement,console.log(this.achatDesactive)}validerAchat(){this.httpService.tedData(`${b._q}/ventesession/`,{code_reg:this.ticketnumber.nativeElement.value,code_mr:this.mode1.nativeElement.value||0,p_m_code_mr:this.mode2.nativeElement.value||null,p_m2_code_mr:this.mode3.nativeElement.value||null,montant:0,montant_reg:this.montantReglement,montant_remis:this.reglementInput.nativeElement.value,mont_mde_reg1:this.montant1.nativeElement.value||0,mont_mde_reg2:this.montant2.nativeElement.value||0,mont_mde_reg3:this.montant3.nativeElement.value||0,monnaie_rendue:this.renduInput.nativeElement.value,flag_clo:!0,mont_mde_reg1_temp:this.montant1.nativeElement.value||0,mont_mde_reg2_temp:this.montant2.nativeElement.value||0,mont_mde_reg3_temp:this.montant3.nativeElement.value||0,vente_apisoft:!0}).subscribe(e=>{201==e.status?(alert("La vente "+this.ticket+" a \xe9t\xe9 effectu\xe9e avec succ\xe8s"),this.print(this.ticket),this.reloadComponent()):alert(" Echec de la vente ")})}modifierQuantite(e,t){this.httpService.tedData(`${b._q}/quantiteachat/${e}`,{panier:this.ticketnumber.nativeElement.value,quantite:t}).subscribe(e=>{this.calculerTotalMontant(),this.recupticketnumber(),this.checkMontantReglement()})}modifierRemise(e,t){this.httpService.tedData(`${b._q}/remisearticle/${e}`,{panier:this.ticketnumber.nativeElement.value,remise:t}).subscribe(e=>{this.calculerTotalMontant(),this.recupticketnumber(),this.checkMontantReglement()})}RemiseGlobal(e){this.httpService.tedData(`${b._q}/remiseglobal/${e}`,{remise:this.remiseGlobal.nativeElement.value}).subscribe(e=>{this.calculerTotalMontant(),this.recupticketnumber(),this.checkMontantReglement()})}ajouterProduit(e){if(""===e.trim())return void(this.messageErreur="Veuillez entrer une r\xe9f\xe9rence de produit valide.");console.log(this.referenceProduit);const t=this.produits.find(e=>e.code_art===this.referenceProduit);if(console.log(t),t)this.httpService.tedData(`${b._q}/differe/${t.code_art}`,{user_id:this.user.CODE_AGENT}).subscribe(e=>{var t=e.body.article,n=t.length;for(let i=0;i<n;i++)this.produits.splice(t[i]);for(let i=0;i<n;i++)this.produits.push(t[i]);this.calculerTotalMontant(),this.recupticketnumber(),this.checkMontantReglement(),this.calculerTotalMontant()});else{if(null!=this.selectProductByReference(this.referenceProduit))return void(this.messageErreur="Veuillez entrer une r\xe9f\xe9rence de produit valide.");this.httpService.tedData(`${b._q}/differe/${e}`,{user_id:this.user.CODE_AGENT}).subscribe(e=>{this.reglementInput.nativeElement.value="",this.renduInput.nativeElement.value="",this.remiseGlobal.nativeElement.value="",this.calculerTotalMontant(),this.recupticketnumber(),this.checkMontantReglement()})}this.referenceProduit="",this.messageErreur=""}selectProductByReference(e){return null}AjoutCodeBarre(e){if(console.log(e),""===e.trim())return void(this.messageErreur="Veuillez entrer une r\xe9f\xe9rence de produit valide.");const t=this.produits.find(t=>t.code_barre===e);if(t)this.httpService.tedData(`${b._q}/differe/${t.code_art}`,{user_id:this.user.CODE_AGENT}).subscribe(e=>{var t=e.body.article,n=t.length;for(let i=0;i<n;i++)this.produits.splice(t[i]);for(let i=0;i<n;i++)this.produits.push(t[i]);this.calculerTotalMontant(),this.recupticketnumber(),this.checkMontantReglement(),this.calculerTotalMontant(),this.reloadComponent()});else{if(null!=this.selectProductByReference(e))return void(this.messageErreur="Veuillez entrer une r\xe9f\xe9rence de produit valide.");{const t=e;console.log(t),this.httpService.tedData(`${b._q}/differe/${t}`,{user_id:this.user.CODE_AGENT}).subscribe(e=>{var t=e.body.article,n=t.length;for(let i=0;i<n;i++)this.produits.splice(t[i]);for(let i=0;i<n;i++)this.produits.push(t[i]);this.calculerTotalMontant(),this.recupticketnumber(),this.checkMontantReglement(),this.calculerTotalMontant(),this.reloadComponent()})}}this.referenceProduit="",this.messageErreur=""}calculerTotalMontant(){this.httpService.tedgetData(`${b._q}/differe/${this.user.CODE_AGENT}`).subscribe(e=>{var t=e.body.article,n=t.length,i=e.body.total;t.total=i,0==n&&(this.produits=[]);for(let a=0;a<n;a++)this.produits.splice(t[a]);for(let a=0;a<n;a++)this.produits.push(t[a]);this.totalMontant=i,this.checkMontantReglement()})}recupticketnumber(){this.httpService.tedgetData(`${b._q}/differe/${this.user.CODE_AGENT}`).subscribe(e=>{this.ticket=e.body.ticket})}paiement_Modal(e){this.httpService.tedData(`${b._q}/enregisterpaiement/`,e).subscribe(e=>{})}nettoyer(e){return e.replace(/[\\']/g,"")}ngOnInit(){this.form.model=Object.assign({},I),this.form.fields=A,this.form.options=y,this.barcodeScannerService.isCurrentlyListening()||(this.barcodeScannerService.startListening(),this.barcodeScannerService.isListening=!0,this.barcodeScannerService.getBarcodeStream().subscribe(e=>{this.AjoutCodeBarre(this.nettoyer(e))})),this.detectUsbPrinters(),this.httpService.tedgetData(`${b._q}/differe/${this.user.CODE_AGENT}`).subscribe(e=>{var t=e.body.article,n=t.length;t.total=e.body.total;for(let i=0;i<n;i++)this.produits.splice(t[i]);for(let i=0;i<n;i++)this.produits.push(t[i]);this.calculerTotalMontant(),this.recupticketnumber(),this.checkMontantReglement()}),this.httpService.tedgetData(`${b._q}/listepaiement/`).subscribe(e=>{e.body.moyens&&(this.lettresAutorisees=e.body.moyens.map(e=>e.let_mr))},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es depuis l'API :",e)}),this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"vente-caisse")},cancel:e=>{}}]}detectUsbPrinters(){[{vendorId:1208,productId:514}].forEach(e=>{const t=new x(e.vendorId,e.productId);t.isConnected.subscribe(n=>{n&&(console.log(`Connected to USB printer - Vendor ID: ${e.vendorId}, Product ID: ${e.productId}`),this.status=!0,this.printService.setDriver(t))}),this.usbPrintDrivers.push(t),t.connect()})}print(e){this.httpService.tedData(`${b._q}/ticket/${e}`,{user_id:this.user.CODE_AGENT}).subscribe(e=>{this.caissiere=e.body.caissiere,this.ticketimprim=e.body.ticket,this.dateAchat=e.body["date achat"],this.remise=e.body.remise,this.montantRenduimprim=e.body["montant rendue"],this.recu=e.body.recu,this.totalAchat=e.body["total achat"],this.moyensDePaiement=e.body.moyens,this.articles=e.body.articles,this.printService.init().setBold(!0).writeLine("          LIBRAIRIE DE FRANCE           ").writeLine("          Abidjan Plateau               ").writeLine("    Avenue. Chardy 01 BP 228 Abj 01     ").writeLine("Tel:27 20 30 63 63 / Fax: 27 20 30 63 64").writeLine("       ").writeLine("          TICKET DE CAISSE              ").writeLine("       ").setBold(!0).writeLine("Date : "+this.dateAchat).writeLine("No Ticket :"+this.ticket).writeLine("Code Caissiere(e) :"+this.caissiere).writeLine("========================================").writeLine("           Produits achetes :           ").writeLine("========================================").setBold(!1),this.articles.forEach(e=>{const t=e.nom_art.substring(0,20);this.printService.writeLine(`${t} - ${e.prix_moyen} FCFA (${e.quantite}x)`)}),this.printService.writeLine("========================================").writeLine("Total Achat : "+this.totalAchat).writeLine("TOTAL AVEC REMISE : : "+this.remise).writeLine("=========MOYEN(S) DE PAIEMENT(S)========"),this.moyensDePaiement.forEach(e=>{this.printService.writeLine(`${e.moyen} : ${e.montant} FCFA`)}),this.printService.writeLine("========================================").writeLine(" TOTAL RECU  : "+this.recu).writeLine(" MONNAIE RENDUE : : "+this.montantRenduimprim).writeLine("========================================").writeLine("  ***** Merci pour votre achat !  ****  ").writeLine("   Nous esperons vous revoir bientot.   ").writeLine("     Conservez votre ticket svp         ").writeLine("   Retour possible avant 48 Heures      ").writeLine("========================================").feed(1).feed(5).cut("full").flush()})}save(e){this.logger.log("model: ",e.model);let t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}loadData(e){console.log(e),setTimeout(()=>{this.loading=!0},1e3)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.Kf),c.Y36(l.gz),c.Y36(l.F0),c.Y36(p.O),c.Y36(d.L),c.Y36(m.dD),c.Y36(g.e),c.Y36(N.Sf),c.Y36(v.h),c.Y36(c.sBO),c.Y36(B.FF),c.Y36(P),c.Y36(k))},e.\u0275cmp=c.Xpm({type:e,selectors:[["vente-caisse"]],viewQuery:function(e,t){if(1&e&&(c.Gf(L,5),c.Gf(F,5),c.Gf(U,5),c.Gf(G,5),c.Gf(J,5),c.Gf(H,5),c.Gf(Y,5),c.Gf(z,5),c.Gf(j,5),c.Gf($,5),c.Gf(V,5),c.Gf(Q,5),c.Gf(K,5),c.Gf(W,5),c.Gf(X,5),c.Gf(ee,5),c.Gf(te,5),c.Gf(ne,5),c.Gf(ie,5),c.Gf(ae,5),c.Gf(re,5),c.Gf(se,5),c.Gf(oe,5),c.Gf(le,5),c.Gf(ue,5),c.Gf(ce,5),c.Gf(he,5),c.Gf(pe,5),c.Gf(de,5),c.Gf(me,5),c.Gf(ge,5),c.Gf(ve,5),c.Gf(fe,5),c.Gf(be,5),c.Gf(Ie,5),c.Gf(ye,5),c.Gf(Ae,5),c.Gf(Ee,5)),2&e){let e;c.iGM(e=c.CRH())&&(t.espece=e.first),c.iGM(e=c.CRH())&&(t.cheque=e.first),c.iGM(e=c.CRH())&&(t.bon_achat=e.first),c.iGM(e=c.CRH())&&(t.avoir=e.first),c.iGM(e=c.CRH())&&(t.carte_bancaire=e.first),c.iGM(e=c.CRH())&&(t.bon_sortie=e.first),c.iGM(e=c.CRH())&&(t.apisoft_avoir=e.first),c.iGM(e=c.CRH())&&(t.commande_special=e.first),c.iGM(e=c.CRH())&&(t.carte_prestige=e.first),c.iGM(e=c.CRH())&&(t.reglement_rentree_scolaire=e.first),c.iGM(e=c.CRH())&&(t.carte_cadeau=e.first),c.iGM(e=c.CRH())&&(t.orange=e.first),c.iGM(e=c.CRH())&&(t.moov=e.first),c.iGM(e=c.CRH())&&(t.afrimarket=e.first),c.iGM(e=c.CRH())&&(t.bourse_livre=e.first),c.iGM(e=c.CRH())&&(t.mtn=e.first),c.iGM(e=c.CRH())&&(t.carte_fidelite=e.first),c.iGM(e=c.CRH())&&(t.yup=e.first),c.iGM(e=c.CRH())&&(t.nouvelle_carte_cadeau=e.first),c.iGM(e=c.CRH())&&(t.revo=e.first),c.iGM(e=c.CRH())&&(t.barcodeInput=e.first),c.iGM(e=c.CRH())&&(t.reglementInput=e.first),c.iGM(e=c.CRH())&&(t.montant1=e.first),c.iGM(e=c.CRH())&&(t.montant2=e.first),c.iGM(e=c.CRH())&&(t.montant3=e.first),c.iGM(e=c.CRH())&&(t.mode1=e.first),c.iGM(e=c.CRH())&&(t.mode2=e.first),c.iGM(e=c.CRH())&&(t.mode3=e.first),c.iGM(e=c.CRH())&&(t.moyen1=e.first),c.iGM(e=c.CRH())&&(t.moyen2=e.first),c.iGM(e=c.CRH())&&(t.moyen3=e.first),c.iGM(e=c.CRH())&&(t.indice1=e.first),c.iGM(e=c.CRH())&&(t.indice2=e.first),c.iGM(e=c.CRH())&&(t.indice3=e.first),c.iGM(e=c.CRH())&&(t.renduInput=e.first),c.iGM(e=c.CRH())&&(t.ticketnumber=e.first),c.iGM(e=c.CRH())&&(t.remiseGlobal=e.first),c.iGM(e=c.CRH())&&(t.InputIndice2=e.first)}},hostBindings:function(e,t){1&e&&c.NdJ("keydown",function(e){return t.handleKeyboardEvent(e)},!1,c.evT)},features:[c.qOj],decls:125,vars:11,consts:[[2,"background","#0d6d3a"],[2,"color","white"],[1,"content"],[1,"left-content",2,"overflow","auto","max-height","400px"],["id","order-table"],[4,"ngFor","ngForOf"],["placeholder","R\xe9f\xe9rence du produit",3,"ngModel","ngModelChange","keyup.enter"],["barcodeInput",""],["id","order-items"],["id","total-container",2,"overflow","auto","max-height","400px"],[2,"text-align","center"],[1,"table","align-middle","table-row-bordered","mb-0","fs-6","gy-5","min-w-300px"],[1,"fw-semibold","text-gray-600"],[1,"text-muted"],[1,"d-flex","align-items-center"],[1,"ki-outline","ki-calendar","fs-2","me-2"],[1,"fw-bold","text-end"],["placeholder","0","type","number","id","remiseglobal","w","",3,"change"],["remiseGlobal",""],["type","hidden","disabled","","id","reglement","placeholder","0",3,"ngModel","ngModelChange","change"],["reglementInput",""],["type","hidden","id","reglement",3,"value"],["ticketnumber",""],[2,"background","#0d6d3a","color","#fff"],["width","70%","align","left"],[1,"Style34"],[1,"Style801"],[1,"Style36"],["width","30%","align","center"],[1,"Style2"],[1,"Textevert_rem"],["maxlength","1","id","indice1",2,"width","50px",3,"ngModel","ngModelChange","input"],["indice1",""],["disabled","","id","moyen1"],["moyen1",""],["disabled","","id","montant1"],["montant1",""],["hidden","","id","mode1"],["mode1",""],["maxlength","1","id","indice2",2,"width","50px",3,"ngModel","ngModelChange","input"],["indice2",""],["disabled","","id","moyen2"],["moyen2",""],["disabled","","id","montant2"],["montant2",""],["hidden","","id","mode2"],["mode2",""],["maxlength","1","id","indice3",2,"width","50px",3,"ngModel","ngModelChange","input"],["indice3",""],["disabled","","id","moyen3"],["moyen3",""],["disabled","","id","montant3"],["montant3",""],["hidden","","id","mode3"],["mode3",""],["id","rendu","disabled","true",3,"value"],["renduInput",""],[2,"align-items","center"],[1,"btn","btn-warning",2,"align-items","center",3,"disabled","click"],["espece",""],["cheque",""],["bon_achat",""],["orange",""],["afrimarket",""],["disabled","",3,"value"],["type","number",3,"ngModel","ngModelChange","change"],[3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["type","text","hidden","","required","","id","moyen",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group"],["for","etablissementFinancier"],["type","text","required","","id","etablissementFinancier",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["for","numeroCompte"],["type","text","required","","id","numeroCompte",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"header",0),c.TgZ(1,"h1",1),c._uU(2),c.qZA(),c.qZA(),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c.TgZ(5,"table",4),c.TgZ(6,"thead"),c.TgZ(7,"tr"),c.TgZ(8,"th"),c._uU(9,"R\xe9f\xe9rence"),c.qZA(),c.TgZ(10,"th"),c._uU(11,"Designation "),c.qZA(),c.TgZ(12,"th"),c._uU(13,"Prix moyen"),c.qZA(),c.TgZ(14,"th"),c._uU(15,"Prix de vente"),c.qZA(),c.TgZ(16,"th"),c._uU(17,"Remise (en %)"),c.qZA(),c.TgZ(18,"th"),c._uU(19,"Quantit\xe9"),c.qZA(),c.TgZ(20,"th"),c._uU(21,"Montant"),c.qZA(),c.TgZ(22,"th"),c._uU(23,"Action"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"tbody"),c.YNc(25,Ce,18,7,"tr",5),c.TgZ(26,"input",6,7),c.NdJ("ngModelChange",function(e){return t.referenceProduit=e})("keyup.enter",function(){return t.ajouterProduit(t.referenceProduit)}),c.qZA(),c.qZA(),c._UZ(28,"tbody",8),c.qZA(),c.qZA(),c.TgZ(29,"div",9),c.TgZ(30,"h3",10),c._uU(31,"Recaputilatif de la commande"),c.qZA(),c.TgZ(32,"div"),c.TgZ(33,"table",11),c.TgZ(34,"tbody",12),c.TgZ(35,"tr"),c.TgZ(36,"td",13),c.TgZ(37,"div",14),c._UZ(38,"i",15),c._uU(39," Total Achat "),c.qZA(),c.qZA(),c.TgZ(40,"td",16),c._uU(41),c.qZA(),c.qZA(),c.TgZ(42,"tr"),c.TgZ(43,"td",13),c.TgZ(44,"div",14),c._UZ(45,"i",15),c._uU(46," Remise Global "),c.qZA(),c.qZA(),c.TgZ(47,"td",16),c.TgZ(48,"input",17,18),c.NdJ("change",function(){return t.checkMontantReglement()})("change",function(){return t.RemiseGlobal(t.ticket)}),c.qZA(),c.TgZ(50,"input",19,20),c.NdJ("ngModelChange",function(e){return t.montantReglement=e})("change",function(){return t.checkMontantReglement()}),c.qZA(),c._UZ(52,"input",21,22),c.qZA(),c.qZA(),c.TgZ(54,"tr",23),c.TgZ(55,"td",24),c.TgZ(56,"span",25),c._uU(57,"( F2 ) "),c.qZA(),c.TgZ(58,"span",26),c.TgZ(59,"span",27),c._uU(60,"REGLEMENT PAR"),c.qZA(),c._uU(61," : "),c.qZA(),c.qZA(),c.TgZ(62,"td",28),c.TgZ(63,"span",29),c._uU(64,"MONTANT"),c.qZA(),c._UZ(65,"span",30),c.qZA(),c.qZA(),c.TgZ(66,"tr"),c.TgZ(67,"td"),c.TgZ(68,"input",31,32),c.NdJ("ngModelChange",function(e){return t.inputValue1=e})("input",function(){return t.checkForPaiement(1)}),c.qZA(),c._uU(70,"\xa0"),c._UZ(71,"input",33,34),c.qZA(),c.TgZ(73,"td"),c._UZ(74,"input",35,36),c._UZ(76,"input",37,38),c.qZA(),c.qZA(),c.TgZ(78,"tr"),c.TgZ(79,"td"),c.TgZ(80,"input",39,40),c.NdJ("ngModelChange",function(e){return t.inputValue2=e})("input",function(){return t.checkForPaiement(2)}),c.qZA(),c._uU(82,"\xa0"),c._UZ(83,"input",41,42),c.qZA(),c.TgZ(85,"td"),c._UZ(86,"input",43,44),c._UZ(88,"input",45,46),c.qZA(),c.qZA(),c.TgZ(90,"tr"),c.TgZ(91,"td"),c.TgZ(92,"input",47,48),c.NdJ("ngModelChange",function(e){return t.inputValue3=e})("input",function(){return t.checkForPaiement(3)}),c.qZA(),c._uU(94,"\xa0"),c._UZ(95,"input",49,50),c.qZA(),c.TgZ(97,"td"),c._UZ(98,"input",51,52),c._UZ(100,"input",53,54),c.qZA(),c.qZA(),c.TgZ(102,"tr"),c.TgZ(103,"td",13),c.TgZ(104,"div",14),c._UZ(105,"i",15),c._uU(106," Montant rendu "),c.qZA(),c.qZA(),c.TgZ(107,"td",16),c._UZ(108,"input",55,56),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(110,"footer"),c.TgZ(111,"table",57),c.TgZ(112,"td",57),c.TgZ(113,"button",58),c.NdJ("click",function(){return t.validerAchat()}),c._uU(114,"Imprimer le ticket"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(115,Me,17,3,"ng-template",null,59,c.W1O),c.YNc(117,Te,17,3,"ng-template",null,60,c.W1O),c.YNc(119,_e,29,5,"ng-template",null,61,c.W1O),c.YNc(121,Ze,29,6,"ng-template",null,62,c.W1O),c.YNc(123,we,29,6,"ng-template",null,63,c.W1O)),2&e&&(c.xp6(2),c.hij("Op\xe9ration de Caisse : ",t.ticket,""),c.xp6(23),c.Q6J("ngForOf",t.produits),c.xp6(1),c.Q6J("ngModel",t.referenceProduit),c.xp6(15),c.hij("",t.totalMontant," FCFA "),c.xp6(9),c.Q6J("ngModel",t.montantReglement),c.xp6(2),c.s9C("value",t.ticket),c.xp6(16),c.Q6J("ngModel",t.inputValue1),c.xp6(12),c.Q6J("ngModel",t.inputValue2),c.xp6(12),c.Q6J("ngModel",t.inputValue3),c.xp6(16),c.Q6J("value",t.montantRendu),c.xp6(5),c.Q6J("disabled",t.achatDesactive))},directives:[i.sg,a.Fj,a.JJ,a.On,a.nD,a.wV,a.Q7],styles:["footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:20px}.content[_ngcontent-%COMP%]{display:flex;height:400px}.left-content[_ngcontent-%COMP%]{background-color:#f2f2f2;flex:1;padding:20px}.right-content[_ngcontent-%COMP%]{background-color:#ddd;flex:1;padding:20px}#order-table[_ngcontent-%COMP%]{width:60%;border-collapse:collapse}#order-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #order-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid #ddd}#total-container[_ngcontent-%COMP%]{width:35%;padding:10px;border:1px solid #ccc;text-align:right}"]}),e})();const Oe={configs:[{}]},ke={},Se=[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-2",key:"line",type:"input",templateOptions:{label:"Nombre de ligne"}},{className:"flex-2",key:"codeReg",type:"input",templateOptions:{label:"Code r\xe9glement"}},{className:"flex-2",key:"dateReg",type:"input",templateOptions:{label:"Date r\xe9glement"}},{className:"flex-2",key:"waitingReg",type:"input",templateOptions:{label:"R\xe9glements en attente:"}}]},{template:"<hr>"},{fieldGroup:[{key:"tasks",type:"repeat",templateOptions:{addText:"Ajouter",label:"TODO LIST"},fieldArray:{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-1",key:"ref",type:"input",templateOptions:{label:"R\xe9f"}},{className:"flex-2",key:"ref",type:"input",templateOptions:{label:"R\xe9f"}},{className:"flex-1",key:"prixM",type:"input",templateOptions:{label:"Prix M."}},{className:"flex-1",key:"prixV",type:"input",templateOptions:{label:"Prix V."}},{className:"flex-1",key:"remise",type:"input",templateOptions:{label:"Remise"}},{className:"flex-1",key:"quantit\xe9",type:"input",templateOptions:{label:"Qt\xe9"}},{className:"flex-1",key:"montant",type:"input",templateOptions:{label:"Montant"}}]}}]},{template:"<hr>"},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-8",key:"codeVendeur",type:"input",templateOptions:{label:"SAISIR LE CODE DU VENDEUR"}},{className:"flex-2",key:"remiseGlobale",type:"input",templateOptions:{label:"REMISE GLOBALE",type:"number"}},{className:"flex-5",key:"totalRecu",type:"input",templateOptions:{label:"TOTAL RECU",type:"number"}},{className:"flex-5",key:"totalArsi",type:"input",templateOptions:{label:"TOTAL ARSI",type:"number"}},{className:"flex-5",key:"timbre",type:"input",templateOptions:{label:"TIMBRE",type:"number"}},{className:"flex-5",key:"netPayer",type:"input",templateOptions:{label:"NET A PAYER",type:"number"}},{className:"flex-5",key:"montantRemis",type:"input",templateOptions:{label:"MONTANT REMIS",type:"number"}},{className:"flex-5",key:"montantRendu",type:"input",templateOptions:{label:"MONTANT RENDU",type:"number"}},{className:"flex-5",key:"moyenReglement1",type:"input",templateOptions:{label:"REGLEMENT PAR MONTANT (F2)"}},{className:"flex-5",key:"montant1",type:"input",templateOptions:{label:"MONTANT"}},{className:"flex-5",key:"moyenReglement2",type:"input"},{className:"flex-5",key:"montant2",type:"input"},{className:"flex-5",key:"moyenReglement3",type:"input"},{className:"flex-5",key:"montant3",type:"input"},{template:"Basculer en mode facture : (Shift + F9)"}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",key:"imprimerTicket",type:"button",templateOptions:{label:"Imprimer Ticket (F9)",colorType:"primary"}},{className:"flex-1",key:"imprimerTicket",type:"button",templateOptions:{label:"D\xe9poser la monnaie (F10)",colorType:"primary"}},{className:"flex-1",key:"imprimerTicket",type:"button",templateOptions:{label:"Recharger une carte (F11)",colorType:"primary"}}]}];let qe=(()=>{class e extends u.K{constructor(e,t,n,i,a,r){super(e,t,n,i,a,r),this.logger=e,this.httpService=t,this.envService=n,this.messageService=i,this.authService=a,this.menuService=r}ajouterProduit(){throw new Error("Method not implemented.")}ngOnInit(){this.form.model=Oe,this.form.options=ke,this.form.fields=Se,this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"checkout-connection")},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}loadData(e){console.log(e),setTimeout(()=>{this.loading=!0},1e3)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.Kf),c.Y36(p.O),c.Y36(d.L),c.Y36(m.dD),c.Y36(g.e),c.Y36(v.h))},e.\u0275cmp=c.Xpm({type:e,selectors:[["checkout-connection"]],features:[c.qOj],decls:0,vars:0,template:function(e,t){},styles:[".container[_ngcontent-%COMP%]{margin:0 auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:8px;text-align:left}th[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.error-message[_ngcontent-%COMP%]{color:red;margin-top:8px}"]}),e})(),xe=(()=>{class e extends u.K{constructor(e,t,n,i,a,r){super(e,t,n,i,a,r),this.logger=e,this.httpService=t,this.envService=n,this.messageService=i,this.authService=a,this.menuService=r}ngOnInit(){this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"cash-flow")},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}loadData(e){console.log(e),setTimeout(()=>{this.loading=!0},1e3)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.Kf),c.Y36(p.O),c.Y36(d.L),c.Y36(m.dD),c.Y36(g.e),c.Y36(v.h))},e.\u0275cmp=c.Xpm({type:e,selectors:[["cash-flow"]],features:[c.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(c.TgZ(0,"nz-spin",0),c.TgZ(1,"wl-form",1),c.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),c.qZA(),c.qZA(),c.TgZ(2,"wl-table",2),c.NdJ("onLazyLoad",function(e){return t.loadData(e)}),c.qZA()),2&e&&(c.Q6J("nzSpinning",t.isSpinning),c.xp6(1),c.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),c.xp6(1),c.Udp("margin-top","1rem"),c.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","CashFlow ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[o.W,s.U,r.a],styles:[""]}),e})(),Ne=(()=>{class e extends u.K{constructor(e,t,n,i,a,r){super(e,t,n,i,a,r),this.logger=e,this.httpService=t,this.envService=n,this.messageService=i,this.authService=a,this.menuService=r}ngOnInit(){this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"wealth-management")},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}loadData(e){console.log(e),setTimeout(()=>{this.loading=!0},1e3)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.Kf),c.Y36(p.O),c.Y36(d.L),c.Y36(m.dD),c.Y36(g.e),c.Y36(v.h))},e.\u0275cmp=c.Xpm({type:e,selectors:[["wealth-management"]],features:[c.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(c.TgZ(0,"nz-spin",0),c.TgZ(1,"wl-form",1),c.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),c.qZA(),c.qZA(),c.TgZ(2,"wl-table",2),c.NdJ("onLazyLoad",function(e){return t.loadData(e)}),c.qZA()),2&e&&(c.Q6J("nzSpinning",t.isSpinning),c.xp6(1),c.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),c.xp6(1),c.Udp("margin-top","1rem"),c.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","WealthManagement ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[o.W,s.U,r.a],styles:[""]}),e})(),Be=(()=>{class e extends u.K{constructor(e,t,n,i,a,r){super(e,t,n,i,a,r),this.logger=e,this.httpService=t,this.envService=n,this.messageService=i,this.authService=a,this.menuService=r}ngOnInit(){this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"advance-payment-on-forward-customer-orders")},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}loadData(e){console.log(e),setTimeout(()=>{this.loading=!0},1e3)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.Kf),c.Y36(p.O),c.Y36(d.L),c.Y36(m.dD),c.Y36(g.e),c.Y36(v.h))},e.\u0275cmp=c.Xpm({type:e,selectors:[["advance-payment-on-forward-customer-orders"]],features:[c.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(c.TgZ(0,"nz-spin",0),c.TgZ(1,"wl-form",1),c.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),c.qZA(),c.qZA(),c.TgZ(2,"wl-table",2),c.NdJ("onLazyLoad",function(e){return t.loadData(e)}),c.qZA()),2&e&&(c.Q6J("nzSpinning",t.isSpinning),c.xp6(1),c.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),c.xp6(1),c.Udp("margin-top","1rem"),c.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","AdvancePaymentOnForwardCustomerOrders ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[o.W,s.U,r.a],styles:[""]}),e})(),De=(()=>{class e extends u.K{constructor(e,t,n,i,a,r){super(e,t,n,i,a,r),this.logger=e,this.httpService=t,this.envService=n,this.messageService=i,this.authService=a,this.menuService=r}ngOnInit(){this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"waiting-sales-for-the-day")},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}loadData(e){console.log(e),setTimeout(()=>{this.loading=!0},1e3)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.Kf),c.Y36(p.O),c.Y36(d.L),c.Y36(m.dD),c.Y36(g.e),c.Y36(v.h))},e.\u0275cmp=c.Xpm({type:e,selectors:[["waiting-sales-for-the-day"]],features:[c.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(c.TgZ(0,"nz-spin",0),c.TgZ(1,"wl-form",1),c.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),c.qZA(),c.qZA(),c.TgZ(2,"wl-table",2),c.NdJ("onLazyLoad",function(e){return t.loadData(e)}),c.qZA()),2&e&&(c.Q6J("nzSpinning",t.isSpinning),c.xp6(1),c.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),c.xp6(1),c.Udp("margin-top","1rem"),c.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","WaitingSalesForTheDay ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[o.W,s.U,r.a],styles:[""]}),e})(),Pe=(()=>{class e extends u.K{constructor(e,t,n,i,a,r){super(e,t,n,i,a,r),this.logger=e,this.httpService=t,this.envService=n,this.messageService=i,this.authService=a,this.menuService=r}ngOnInit(){this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"discontinued-lines-and-cancelled-sales")},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}loadData(e){console.log(e),setTimeout(()=>{this.loading=!0},1e3)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.Kf),c.Y36(p.O),c.Y36(d.L),c.Y36(m.dD),c.Y36(g.e),c.Y36(v.h))},e.\u0275cmp=c.Xpm({type:e,selectors:[["discontinued-lines-and-cancelled-sales"]],features:[c.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(c.TgZ(0,"nz-spin",0),c.TgZ(1,"wl-form",1),c.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),c.qZA(),c.qZA(),c.TgZ(2,"wl-table",2),c.NdJ("onLazyLoad",function(e){return t.loadData(e)}),c.qZA()),2&e&&(c.Q6J("nzSpinning",t.isSpinning),c.xp6(1),c.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),c.xp6(1),c.Udp("margin-top","1rem"),c.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","DiscontinuedLinesAndCancelledSales ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[o.W,s.U,r.a],styles:[""]}),e})(),Le=(()=>{class e extends u.K{constructor(e,t,n,i,a,r){super(e,t,n,i,a,r),this.logger=e,this.httpService=t,this.envService=n,this.messageService=i,this.authService=a,this.menuService=r}ngOnInit(){this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"nomCaisse",header:"CAISSE"},{field:"fondCaisse",header:"FOND",type:"number"},{field:"status",header:"STATUS",type:"status",trueText:"On",falseText:"Off"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"cash-float-for-the-day")},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}loadData(e){console.log(e),setTimeout(()=>{this.loading=!0},1e3)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.Kf),c.Y36(p.O),c.Y36(d.L),c.Y36(m.dD),c.Y36(g.e),c.Y36(v.h))},e.\u0275cmp=c.Xpm({type:e,selectors:[["cash-float-for-the-day"]],features:[c.qOj],decls:3,vars:17,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(c.TgZ(0,"nz-spin",0),c.TgZ(1,"wl-form",1),c.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),c.qZA(),c.qZA(),c.TgZ(2,"wl-table",2),c.NdJ("onLazyLoad",function(e){return t.loadData(e)}),c.qZA()),2&e&&(c.Q6J("nzSpinning",t.isSpinning),c.xp6(1),c.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),c.xp6(1),c.Udp("margin-top","1rem"),c.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("lazy",!0)("caption","CashFloatForTheDay ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[o.W,s.U,r.a],styles:[""]}),e})();var Fe=n(21611),Ue=(()=>{class e{constructor(e,t){this.nombre=e,this.argumentos=t}}return(()=>{class t{constructor(e=t.URL_PLUGIN_POR_DEFECTO,n=""){return this.ruta=e,this.serial=n,this.operaciones=[],this}CargarImagenLocalEImprimir(e,n,i){return this.operaciones.push(new t.Operacion("CargarImagenLocalEImprimir",Array.from(arguments))),this}Corte(e){return this.operaciones.push(new t.Operacion("Corte",Array.from(arguments))),this}CorteParcial(){return this.operaciones.push(new t.Operacion("CorteParcial",Array.from(arguments))),this}DefinirCaracterPersonalizado(e,n){return this.operaciones.push(new t.Operacion("DefinirCaracterPersonalizado",Array.from(arguments))),this}DescargarImagenDeInternetEImprimir(e,n,i){return this.operaciones.push(new t.Operacion("DescargarImagenDeInternetEImprimir",Array.from(arguments))),this}DeshabilitarCaracteresPersonalizados(){return this.operaciones.push(new t.Operacion("DeshabilitarCaracteresPersonalizados",Array.from(arguments))),this}DeshabilitarElModoDeCaracteresChinos(){return this.operaciones.push(new t.Operacion("DeshabilitarElModoDeCaracteresChinos",Array.from(arguments))),this}EscribirTexto(e){return this.operaciones.push(new t.Operacion("EscribirTexto",Array.from(arguments))),this}EstablecerAlineacion(e){return this.operaciones.push(new t.Operacion("EstablecerAlineacion",Array.from(arguments))),this}EstablecerEnfatizado(e){return this.operaciones.push(new t.Operacion("EstablecerEnfatizado",Array.from(arguments))),this}EstablecerFuente(e){return this.operaciones.push(new t.Operacion("EstablecerFuente",Array.from(arguments))),this}EstablecerImpresionAlReves(e){return this.operaciones.push(new t.Operacion("EstablecerImpresionAlReves",Array.from(arguments))),this}EstablecerImpresionBlancoYNegroInversa(e){return this.operaciones.push(new t.Operacion("EstablecerImpresionBlancoYNegroInversa",Array.from(arguments))),this}EstablecerRotacionDe90Grados(e){return this.operaciones.push(new t.Operacion("EstablecerRotacionDe90Grados",Array.from(arguments))),this}EstablecerSubrayado(e){return this.operaciones.push(new t.Operacion("EstablecerSubrayado",Array.from(arguments))),this}"EstablecerTama\xf1oFuente"(e,n){return this.operaciones.push(new t.Operacion("EstablecerTama\xf1oFuente",Array.from(arguments))),this}Feed(e){return this.operaciones.push(new t.Operacion("Feed",Array.from(arguments))),this}HabilitarCaracteresPersonalizados(){return this.operaciones.push(new t.Operacion("HabilitarCaracteresPersonalizados",Array.from(arguments))),this}HabilitarElModoDeCaracteresChinos(){return this.operaciones.push(new t.Operacion("HabilitarElModoDeCaracteresChinos",Array.from(arguments))),this}ImprimirCodigoDeBarrasCodabar(e,n,i,a){return this.operaciones.push(new t.Operacion("ImprimirCodigoDeBarrasCodabar",Array.from(arguments))),this}ImprimirCodigoDeBarrasCode128(e,n,i,a){return this.operaciones.push(new t.Operacion("ImprimirCodigoDeBarrasCode128",Array.from(arguments))),this}ImprimirCodigoDeBarrasCode39(e,n,i,a,r,s){return this.operaciones.push(new t.Operacion("ImprimirCodigoDeBarrasCode39",Array.from(arguments))),this}ImprimirCodigoDeBarrasCode93(e,n,i,a){return this.operaciones.push(new t.Operacion("ImprimirCodigoDeBarrasCode93",Array.from(arguments))),this}ImprimirCodigoDeBarrasEan(e,n,i,a){return this.operaciones.push(new t.Operacion("ImprimirCodigoDeBarrasEan",Array.from(arguments))),this}ImprimirCodigoDeBarrasEan8(e,n,i,a){return this.operaciones.push(new t.Operacion("ImprimirCodigoDeBarrasEan8",Array.from(arguments))),this}ImprimirCodigoDeBarrasPdf417(e,n,i,a,r){return this.operaciones.push(new t.Operacion("ImprimirCodigoDeBarrasPdf417",Array.from(arguments))),this}ImprimirCodigoDeBarrasTwoOfFiveITF(e,n,i,a,r){return this.operaciones.push(new t.Operacion("ImprimirCodigoDeBarrasTwoOfFiveITF",Array.from(arguments))),this}ImprimirCodigoDeBarrasUpcA(e,n,i,a){return this.operaciones.push(new t.Operacion("ImprimirCodigoDeBarrasUpcA",Array.from(arguments))),this}ImprimirCodigoDeBarrasUpcE(e,n,i,a){return this.operaciones.push(new t.Operacion("ImprimirCodigoDeBarrasUpcE",Array.from(arguments))),this}ImprimirCodigoQr(e,n,i,a){return this.operaciones.push(new t.Operacion("ImprimirCodigoQr",Array.from(arguments))),this}ImprimirImagenEnBase64(e,n,i){return this.operaciones.push(new t.Operacion("ImprimirImagenEnBase64",Array.from(arguments))),this}Iniciar(){return this.operaciones.push(new t.Operacion("Iniciar",Array.from(arguments))),this}Pulso(e,n,i){return this.operaciones.push(new t.Operacion("Pulso",Array.from(arguments))),this}TextoSegunPaginaDeCodigos(e,n,i){return this.operaciones.push(new t.Operacion("TextoSegunPaginaDeCodigos",Array.from(arguments))),this}static obtenerImpresoras(e=t.URL_PLUGIN_POR_DEFECTO){return(0,Fe.Z)(function*(){const e=yield fetch(t.URL_PLUGIN_POR_DEFECTO+"/impresoras");return yield e.json()})()}static obtenerImpresorasRemotas(e,n=t.URL_PLUGIN_POR_DEFECTO){return(0,Fe.Z)(function*(){const e=yield fetch(t.URL_PLUGIN_POR_DEFECTO+"/reenviar?host="+n);return yield e.json()})()}imprimirEnImpresoraRemota(e,t){var n=this;return(0,Fe.Z)(function*(){const i={operaciones:n.operaciones,nombreImpresora:e,serial:n.serial},a=yield fetch(n.ruta+"/reenviar?host="+t,{method:"POST",body:JSON.stringify(i)});return yield a.json()})()}imprimirEn(e){var t=this;return(0,Fe.Z)(function*(){const n={operaciones:t.operaciones,nombreImpresora:e,serial:t.serial},i=yield fetch(t.ruta+"/imprimir",{method:"POST",body:JSON.stringify(n)});return yield i.json()})()}}return t.URL_PLUGIN_POR_DEFECTO="http://localhost:8000",t.Operacion=e,t.TAMA\u00d1O_IMAGEN_NORMAL=0,t.TAMA\u00d1O_IMAGEN_DOBLE_ANCHO=1,t.TAMA\u00d1O_IMAGEN_DOBLE_ALTO=2,t.TAMA\u00d1O_IMAGEN_DOBLE_ANCHO_Y_ALTO=3,t.ALINEACION_IZQUIERDA=0,t.ALINEACION_CENTRO=1,t.ALINEACION_DERECHA=2,t.RECUPERACION_QR_BAJA=0,t.RECUPERACION_QR_MEDIA=1,t.RECUPERACION_QR_ALTA=2,t.RECUPERACION_QR_MEJOR=3,t})()})();const Ge=[{path:"",component:f,data:{title:"Cashier",breadcrumb:"Cashier"}},{path:"cashier",component:f,data:{title:"Cashier",breadcrumb:"Cashier"}},{path:"vente-caisse",component:Re,data:{title:"VenteCaisse",breadcrumb:"VenteCaisse"}},{path:"checkout-connection",component:qe,data:{title:"CheckoutConnection",breadcrumb:"CheckoutConnection"}},{path:"cash-flow",component:xe,data:{title:"CashFlow",breadcrumb:"CashFlow"}},{path:"wealth-management",component:Ne,data:{title:"WealthManagement",breadcrumb:"WealthManagement"}},{path:"advance-payment-on-forward-customer-orders",component:Be,data:{title:"AdvancePaymentOnForwardCustomerOrders",breadcrumb:"AdvancePaymentOnForwardCustomerOrders"}},{path:"waiting-sales-for-the-day",component:De,data:{title:"WaitingSalesForTheDay",breadcrumb:"WaitingSalesForTheDay"}},{path:"discontinued-lines-and-cancelled-sales",component:Pe,data:{title:"DiscontinuedLinesAndCancelledSales",breadcrumb:"DiscontinuedLinesAndCancelledSales"}},{path:"cash-float-for-the-day",component:Le,data:{title:"CashFloatForTheDay",breadcrumb:"CashFloatForTheDay"}},{path:"others-operations",loadChildren:()=>n.e(421).then(n.bind(n,37421)).then(e=>e.OthersOperationsModule),data:{title:"OthersOperations",breadcrumb:"OthersOperations"}},{path:"test",component:(()=>{class e extends u.K{constructor(e,t,n,i,a,r){super(e,t,n,i,a,r),this.logger=e,this.httpService=t,this.envService=n,this.messageService=i,this.authService=a,this.menuService=r,this.title="thermal-printer-angular",this.impresoras=[],this.impresoraSeleccionada="",this.mensaje=""}ngOnInit(){var e=this;return(0,Fe.Z)(function*(){e.impresoras=yield Ue.obtenerImpresoras()})()}probarImpresion(){var e=this;return(0,Fe.Z)(function*(){if(!e.impresoraSeleccionada)return alert("Seleccione una impresora");if(!e.mensaje)return alert("Escribe un mensaje");const t=new Ue;t.Iniciar().EstablecerAlineacion(Ue.ALINEACION_CENTRO).EscribirTexto("Hola Angular desde parzibyte.me").Feed(1).EscribirTexto(e.mensaje).Feed(1).DescargarImagenDeInternetEImprimir("https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/1200px-Angular_full_color_logo.svg.png",Ue["TAMA\xd1O_IMAGEN_NORMAL"],400).Iniciar().Feed(1);const n=yield t.imprimirEn(e.impresoraSeleccionada);1==n?console.log("Impresi\xf3n correcta"):console.log("Error: "+n)})()}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.Kf),c.Y36(p.O),c.Y36(d.L),c.Y36(m.dD),c.Y36(g.e),c.Y36(v.h))},e.\u0275cmp=c.Xpm({type:e,selectors:[["test"]],features:[c.qOj],decls:2,vars:0,template:function(e,t){1&e&&(c.TgZ(0,"p"),c._uU(1," test works "),c.qZA())},styles:[""]}),e})(),data:{title:"Test",breadcrumb:"Test"}}];let Je=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[l.Bz.forChild(Ge)],l.Bz]}),e})(),He=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.ez,a.u5,a.UX,r.n,s.e,o.j,Je]]}),e})()}}]);