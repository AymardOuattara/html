(self.webpackChunkwil_admin_angular=self.webpackChunkwil_admin_angular||[]).push([[403],{5403:function(e,t,l){"use strict";l.r(t),l.d(t,{SettingsModule:function(){return D}});var a=l(38583),s=l(3679),o=l(95987),i=l(37716);let n=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["settings"]],decls:2,vars:0,template:function(e,t){1&e&&(i.TgZ(0,"p"),i._uU(1," settings works "),i.qZA())},styles:[""]}),e})();var r=l(99688);const p={},d={},c=[{wrappers:["fieldset-wrapper"],templateOptions:{label:"Formulaire de cr\xe9ation",toggleable:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-auto wl-hidden",key:"id",type:"input",templateOptions:{hidden:!0,translate:!0,label:"FORM_LABEL.ID",readonly:!0}},{className:"flex-5",key:"key",type:"input",templateOptions:{required:!0,translate:!0,label:"FORM_LABEL.KEY"}},{className:"flex-5",key:"value",type:"input",templateOptions:{translate:!0,label:"FORM_LABEL.VALUE",required:!0}},{className:"flex-5",key:"description",type:"input",templateOptions:{translate:!0,label:"FORM_LABEL.DESCRIPTION"}},{className:"flex-5",key:"family",type:"input",templateOptions:{translate:!0,label:"FORM_LABEL.FAMILY"}},{className:"flex-5",key:"category",type:"input",templateOptions:{translate:!0,label:"FORM_LABEL.CATEGORY"}},{className:"flex-5",key:"parent_key",type:"select",templateOptions:{translate:!0,label:"FORM_LABEL.PARAMETER_PARENT",options:[],valueProp:"id",labelProp:"key",onModelChange:e=>{}}},{className:"flex-2",key:"status",type:"checkbox",templateOptions:{translate:!0,label:"FORM_LABEL.IS_ACTIVE"},defaultValue:!0},{className:"flex-2",key:"is_load_onstart",type:"checkbox",templateOptions:{translate:!0,label:"FORM_LABEL.IS_LOAD_ONSTART"},defaultValue:!1}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:e=>{console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(t=>{e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":(e,t,l)=>!l.form.valid}},{type:"button",templateOptions:{type:"reset",label:"Reset",bgColor:"#000",textColor:"#fff",click:e=>{e.options.resetModel(p)}}}]}]}];var m=l(42394),u=l(91841),f=l(44212),h=l(18859),b=l(52121),g=l(68058),y=l(4768),O=l(28723),_=l(66782),E=l(65461),N=l(977);let x=(()=>{class e extends r.K{constructor(e,t,l,a,s,o){super(e,t,l,a,s,o),this.logger=e,this.httpService=t,this.envService=l,this.messageService=a,this.authService=s,this.menuService=o}ngOnInit(){this.form.options=d,this.form.model=p,this.form.fields=c,this.isSpinning=!1,this.columns=[{field:"key",header:"KEY"},{field:"value",header:"VALUE"},{field:"parent_key",header:"Cle Parent"},{field:"family",header:"Famille"},{field:"category",header:"Categorie"},{field:"description",header:"Description"},{field:"status",header:"Statut"},{field:"is_load_onstart",header:"Onstart"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e),this.form.fields[0].fieldGroup[1].fieldGroup[0].templateOptions.label="SAVE"}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"core-parameters",!1)},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign(Object.assign({},e.model),{added_user:this.user.id});if(t.id&&null!=t.id){const e=t.id;t=m._.omit(t,["id"]),t=Object.assign(Object.assign({},t),{updated_user:this.user.id}),this.putData(`${m.T5}/core-parameters/${e}`,t,e=>{e instanceof u.UA||document.location.reload()})}else t=m._.omit(t,["id"]),this.postData(`${m.T5}/core-parameters`,t,e=>{e instanceof u.UA||document.location.reload()})}loadData(e){setTimeout(()=>{const t=null!=e.globalFilter?`&search={"sKey":"all","sValue":"${e.globalFilter}"}`:"";this.loading=!0,this.getData(`${m.T5}/core-parameters/?page=${e.first/e.rows+1}&per_page=${e.rows}${t}`,e=>{e instanceof u.UA||(this.form.fields=this.mapFields(this.form.fields,"parent_key","templateOptions.options",e.body.rows))})},1)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(f.Kf),i.Y36(h.O),i.Y36(b.L),i.Y36(g.dD),i.Y36(y.e),i.Y36(O.h))},e.\u0275cmp=i.Xpm({type:e,selectors:[["general"]],features:[i.qOj],decls:3,vars:19,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","styleClass","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(i.TgZ(0,"nz-spin",0),i.TgZ(1,"wl-form",1),i.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),i.qZA(),i.qZA(),i.TgZ(2,"wl-table",2),i.NdJ("onLazyLoad",function(e){return t.loadData(e)}),i.qZA()),2&e&&(i.Q6J("nzSpinning",t.isSpinning),i.xp6(1),i.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),i.xp6(1),i.Udp("margin-top","1rem"),i.Q6J("data",t.data)("styleClass","p-datatable-gridlines p-datatable-sm")("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","General Settings")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[_.W,E.U,N.a],styles:[""]}),e})();const T={},k={formState:{token:localStorage.getItem("token")}},L=[{wrappers:["panel-wrapper"],templateOptions:{label:"Layout",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"layout_primarycolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.PRIMARY_COLOR"}},{className:"flex-3",key:"layout_textcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.TEXT_COLOR"}},{className:"flex-3",key:"layout_theme",type:"select",templateOptions:{translate:!0,label:"THEME",options:[{label:"Dark",value:"dark"},{label:"Light",value:"light"}]},defaultValue:"dark"},{className:"flex-3",key:"layout_orientation",type:"select",templateOptions:{translate:!0,label:"THEME.ORIENTATION",options:[{label:"Vertical",value:"vertical"},{label:"Horizontal",value:"horizontal"}]},defaultValue:"vertical"},{className:"flex-3",key:"layout_mainnav",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_MAINNAV"},defaultValue:!0},{className:"flex-3",key:"layout_sidenav",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_SIDENAV"},defaultValue:!0}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Header",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap  ac-end",fieldGroup:[{className:"flex-3",key:"header_logo",type:"file-upload",templateOptions:{translate:!0,listType:"picture",uploadUrl:m.T5+"/upload",authToken:k.formState.token,fileBasePath:m.M5+"/",label:"FORM_LABEL.LOGO",fileList:[]},expressionProperties:{"templateOptions.hide":(e,t,l)=>{l.form.valueChanges.subscribe(e=>{e.header_logo||(l.templateOptions.fileList=[])})}},hooks:{onChanges:e=>{console.log("init logo => ",e.model),e.templateOptions.fileList=e.model.header_logo?[{url:e.model.header_logo,thumbUrl:e.model.header_logo}]:[]}}},{className:"flex-3",key:"header_bgcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.BG_COLOR"}},{className:"flex-3",key:"header_textcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.TEXT_COLOR"}},{className:"flex-3",key:"header_search",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_SEARCH"},defaultValue:!1},{className:"flex-3",key:"header_notifications",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_NOTIFICATIONS"},defaultValue:!0},{className:"flex-3",key:"header_messages",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_MESSAGES"},defaultValue:!1},{className:"flex-3",key:"header_langs",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_LANG"},defaultValue:!0},{className:"flex-3",key:"header_useractions",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_USERACTIONS"},defaultValue:!0}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Main Nav",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"mainnav_bgcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.BG_COLOR"}},{className:"flex-3",key:"mainnav_textcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.TEXT_COLOR"}},{className:"flex-3",key:"mainnav_fontweight",type:"input",templateOptions:{translate:!0,label:"THEME.FONT_WEIGHT"}},{className:"flex-3",key:"mainnav_fontsize",type:"input",templateOptions:{translate:!0,label:"THEME.FONT_SIZE"}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Side Nav",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"sidenav_bgcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.BG_COLOR"}},{className:"flex-3",key:"sidenav_textcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.TEXT_COLOR"}},{className:"flex-3",key:"sidenav_width",type:"input",templateOptions:{translate:!0,label:"WIDTH"},defaultValue:"210px"},{className:"flex-3",key:"sidenav_collapsible",type:"checkbox",templateOptions:{translate:!0,label:"THEME.COLLAPSIBLE"},defaultValue:!0},{className:"flex-3",key:"sidenav_collapsed",type:"checkbox",templateOptions:{translate:!0,label:"THEME.COLLAPSED"},defaultValue:!1}]}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-3",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:e=>{console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(t=>{e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":(e,t,l)=>!l.form.valid}},{type:"button",templateOptions:{type:"reset",label:"Reset",bgcolor:"#000",textcolor:"#fff",click:e=>{e.options.resetModel(T)}}},{className:"flex-3",type:"button",templateOptions:{type:"button",label:"Download Config",colorType:"warning",click:e=>{const t=l(49457);console.log("clik on submit");var a=new Blob([JSON.stringify(e.model)],{type:"application/json"});t.saveAs(a,"theme.json")}}}]}];var S=l(49457);let A=(()=>{class e extends r.K{constructor(e,t,l,a,s,o){super(e,t,l,a,s,o),this.logger=e,this.httpService=t,this.envService=l,this.messageService=a,this.authService=s,this.menuService=o}ngOnInit(){this.form.options=k,this.form.fields=T,this.form.fields=L,this.loadData()}save(e){var t;this.logger.log("model: ",e.model);let l=Object.assign(Object.assign({},e.model),{header_logo:null!=e.model.header_logo?(null===(t=e.model.header_logo[0])||void 0===t?void 0:t.url)||e.model.header_logo:"",added_user:this.user.id});if(l.id&&null!=l.id){const e=l.id;l=Object.assign(Object.assign({},l),{updated_user:this.user.id}),m._.omit(l,["id"]),this.putData(`${m.T5}/core-theme/${e}`,l,e=>{e instanceof u.UA||(this.loadData(),document.location.reload())})}else l=m._.omit(l,["id"]),this.postData(`${m.T5}/core-theme`,l,e=>{})}loadData(){this.isSpinning=!0,setTimeout(()=>{this.getData(`${m.T5}/core-theme`,e=>{this.isSpinning=!1,this.form.model=e.body.rows[0]||{},this.form.fields=this.mapFields(this.form.fields,"header_logo","templateOptions.fileList",[])})},500)}downloadConfig(e){var t=new Blob([JSON.stringify(e.model)],{type:"application/json"});S.saveAs(t,"theme.json")}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(f.Kf),i.Y36(h.O),i.Y36(b.L),i.Y36(g.dD),i.Y36(y.e),i.Y36(O.h))},e.\u0275cmp=i.Xpm({type:e,selectors:[["theme"]],features:[i.qOj],decls:2,vars:5,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"]],template:function(e,t){1&e&&(i.TgZ(0,"nz-spin",0),i.TgZ(1,"wl-form",1),i.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),i.qZA(),i.qZA()),2&e&&(i.Q6J("nzSpinning",t.isSpinning),i.xp6(1),i.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options))},directives:[_.W,E.U],styles:[""]}),e})();const v={configs:[{}]},M={},C=[{type:"tabs",templateOptions:{},fieldGroup:[{templateOptions:{label:"General",icon:"tool"},fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{key:"id",type:"input",hide:!0},{className:"flex-7",key:"app_name",type:"input",templateOptions:{translate:!0,label:"APP_NAME"}},{className:"flex-7",key:"app_version",type:"input",templateOptions:{translate:!0,label:"APP_VERSION"}},{className:"flex-7",key:"app_default_lang",type:"select",templateOptions:{translate:!0,label:"APP_DEFAULT_LANG",url:m.T5+"/langs/load",valueProp:"code",labelProp:"label"}},{className:"flex-7",key:"api_base_url",type:"input",templateOptions:{translate:!0,label:"API_BASE_URL",addOnBefore:"https://",addOnAfter:".com"}},{className:"flex-7",key:"websocket_base_url",type:"input",templateOptions:{translate:!0,label:"WEBSOCKET_BASE_URL",addOnBefore:"https://",addOnAfter:".com"}},{className:"flex-7",key:"upload_dir",type:"input",templateOptions:{translate:!0,label:"UPLOAD_DIR"}},{className:"flex-7",key:"exchange_key",type:"input",templateOptions:{translate:!0,type:"password",suffixTemplate:{text:" "},label:"EXCHANGE_KEY"}},{className:"flex-7",key:"session_user_crypt_key",type:"input",templateOptions:{translate:!0,type:"password",suffixTemplate:{text:" "},label:"CLIENT_SESSION_USER_CRYPT_KEY"}},{className:"flex-7",key:"session_user_key",type:"input",templateOptions:{translate:!0,type:"password",suffixTemplate:{text:" "},label:"CLIENT_SESSION_USER_KEY"}}]},{templateOptions:{label:"MAIL",icon:"mail"},fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-5",key:"email_from",type:"input",templateOptions:{type:"email",translate:!0,label:"EMAIL"}},{className:"flex-5",key:"email_host",type:"input",templateOptions:{translate:!0,label:"HOST"}},{className:"flex-3",key:"email_port",type:"input",templateOptions:{type:"number",translate:!0,label:"PORT"}},{className:"flex-3",key:"email_username",type:"input",templateOptions:{translate:!0,label:"USER"}},{className:"flex-3",key:"email_password",type:"input",templateOptions:{translate:!0,label:"PASSWORD"}}]},{templateOptions:{label:"SMS",icon:"message"},fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-5",key:"sms_from",type:"input",templateOptions:{translate:!0,label:"EMAIL"}},{className:"flex-5",key:"sms_host",type:"input",templateOptions:{translate:!0,label:"HOST"}},{className:"flex-3",key:"sms_port",type:"input",templateOptions:{type:"number",translate:!0,label:"PORT"}},{className:"flex-3",key:"sms_user",type:"input",templateOptions:{translate:!0,label:"USER"}},{className:"flex-3",key:"sms_password",type:"input",templateOptions:{translate:!0,label:"PASSWORD"}}]},{templateOptions:{label:"NOTIFICATIONS",icon:"bell"},fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-10",key:"notif_sms",type:"checkbox",templateOptions:{translate:!0,label:"SMS_IS_ACTIVE"}},{className:"flex-10",key:"notif_email",type:"checkbox",templateOptions:{translate:!0,label:"MAIL_IS_ACTIVE"}},{className:"flex-10",key:"notif_push",type:"checkbox",templateOptions:{translate:!0,label:"PUSH_IS_ACTIVE"}}]},{templateOptions:{label:"OAUTH",icon:"fork"},fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-10",key:"oauth_sso",type:"checkbox",templateOptions:{translate:!0,label:"SSO_AUTH"}},{className:"flex-10",key:"oauth_google",type:"checkbox",templateOptions:{translate:!0,label:"GOOGLE_AUTH"}}]}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:e=>{console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(t=>{e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":(e,t,l)=>!l.form.valid}},{className:"flex-1",type:"button",templateOptions:{type:"reset",label:"Reset",bgColor:"#000",textColor:"#fff",click:e=>{e.options.resetModel()}}}]}],w={},R={},I=[{wrappers:["fieldset-wrapper"],templateOptions:{label:"Formulaire de cr\xe9ation",toggleable:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-6",key:"code",type:"input",templateOptions:{translate:!0,label:"CODE_NOTIF"}},{className:"flex-2",key:"type",type:"select",templateOptions:{translate:!0,label:"TYPE",options:[{label:"Mail",value:"mail"},{label:"SMS",value:"sms"},{label:"Push",value:"push"},{label:"WhatsApp",value:"whatsapp"}]}},{className:"flex-2",key:"level",type:"select",templateOptions:{translate:!0,label:"LEVEL",options:[{label:"Info",value:"info"},{label:"Alert",value:"alert"}]}},{className:"flex-10",key:"subject",type:"input",templateOptions:{translate:!0,label:"SUBJECT"}},{className:"flex-10",key:"content",type:"textarea",templateOptions:{translate:!0,label:"CONTENT"}},{className:"flex-auto",key:"status",type:"checkbox",templateOptions:{translate:!0,label:"FORM_LABEL.IS_ACTIVE"}}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:e=>{console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(t=>{e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":(e,t,l)=>!l.form.valid}},{type:"button",templateOptions:{type:"reset",label:"Reset",bgColor:"#000",textColor:"#fff",click:e=>{e.options.resetModel(w)}}}]}]}],G=[{path:"",component:n},{path:"parameter-general",component:x,data:{title:"MENU_LABEL.Parameter",breadcrumb:"MENU_LABEL.Parameter"}},{path:"reference",loadChildren:()=>Promise.all([l.e(22),l.e(884)]).then(l.bind(l,9884)).then(e=>e.ReferenceModule),data:{title:"MENU_LABEL.Reference",breadcrumb:"MENU_LABEL.Reference"}},{path:"regional",loadChildren:()=>l.e(368).then(l.bind(l,17368)).then(e=>e.RegionalModule),data:{title:"MENU_LABEL.Regional",breadcrumb:"MENU_LABEL.Regional"}},{path:"theme",component:A,data:{title:"MENU_LABEL.Graphical_Charter",breadcrumb:"MENU_LABEL.Graphical_Charter"}},{path:"core",component:(()=>{class e extends r.K{constructor(e,t,l,a,s,o){super(e,t,l,a,s,o),this.logger=e,this.httpService=t,this.envService=l,this.messageService=a,this.authService=s,this.menuService=o}ngOnInit(){this.form.options=M,this.form.model=v,this.form.fields=C,this.loadData()}save(e){this.logger.log("model: ",e.model);let t=Object.assign(Object.assign({},e.model),{added_user:this.user.id});if(t.id&&null!=t.id){const e=t.id;t=m._.omit(t,["id"]),this.httpService.putData(`${m.T5}/core-config/${e}`,t).subscribe(e=>{this.logger.log("putData response ===> ",e),this.data.push(e.body.data),this.totalRecords++,this.setMessage("success",e.body.message),document.location.reload()},e=>{this.logger.log("putData error ===> ",e),this.setBackendError(e.error)},()=>{this.form.fields[1].fieldGroup[0].templateOptions.loading=!1})}else t=m._.omit(t,["id"]),this.httpService.postData(`${m.T5}/core-config`,t).subscribe(e=>{this.logger.log("postData response ===> ",e),this.data.push(e.body.data),this.totalRecords++,this.setMessage("success",e.body.message)},e=>{this.logger.log("postData error ===> ",e),this.setBackendError(e.error)},()=>{this.form.fields[1].fieldGroup[0].templateOptions.loading=!1})}loadData(){this.isSpinning=!0,setTimeout(()=>{this.getData(`${m.T5}/core-config/`,e=>{this.isSpinning=!1,this.form.model=e.body.rows[0]||{}})},1)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(f.Kf),i.Y36(h.O),i.Y36(b.L),i.Y36(g.dD),i.Y36(y.e),i.Y36(O.h))},e.\u0275cmp=i.Xpm({type:e,selectors:[["core"]],features:[i.qOj],decls:1,vars:4,consts:[[3,"alert","model","fields","options","onSubmit","onModelChange"]],template:function(e,t){1&e&&(i.TgZ(0,"wl-form",0),i.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),i.qZA()),2&e&&i.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options)},directives:[E.U],styles:[""]}),e})(),data:{title:"MENU_LABEL.Core",breadcrumb:"MENU_LABEL.Core"}},{path:"security",component:(()=>{class e extends r.K{constructor(e,t,l,a,s,o){super(e,t,l,a,s,o),this.logger=e,this.httpService=t,this.envService=l,this.messageService=a,this.authService=s,this.menuService=o}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(f.Kf),i.Y36(h.O),i.Y36(b.L),i.Y36(g.dD),i.Y36(y.e),i.Y36(O.h))},e.\u0275cmp=i.Xpm({type:e,selectors:[["security"]],features:[i.qOj],decls:2,vars:0,template:function(e,t){1&e&&(i.TgZ(0,"p"),i._uU(1," security works "),i.qZA())},styles:[""]}),e})(),data:{title:"MENU_LABEL.Security",breadcrumb:"MENU_LABEL.Security"}},{path:"notifications",component:(()=>{class e extends r.K{constructor(e,t,l,a,s,o){super(e,t,l,a,s,o),this.logger=e,this.httpService=t,this.envService=l,this.messageService=a,this.authService=s,this.menuService=o}ngOnInit(){this.form.options=R,this.form.fields=w,this.form.fields=I,this.columns=[{field:"code",header:"FORM_LABEL.CODE"},{field:"type",header:"TYPE"},{field:"level",header:"LEVEL"},{field:"subject",header:"SUBJECT"},{field:"content",header:"CONTENT"},{field:"status",header:"STATUS",type:"status"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e),this.form.fields[0].fieldGroup[1].fieldGroup[0].templateOptions.label="SAVE"}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"core-notifications",!1)},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign(Object.assign({},e.model),{added_user:this.user.id});if(t.id&&null!=t.id){const e=t.id;m._.omit(t,["id"]),this.putData(`${m.T5}/core-notifications/${e}`,t)}else t=m._.omit(t,["id"]),this.postData(`${m.T5}/core-notifications`,t)}loadData(e){this.logger.log("loadData event: ",e),setTimeout(()=>{const t=null!=e.globalFilter?`&search={"sKey":"all","sValue":"${e.globalFilter}"}`:"";this.loading=!0,this.getData(`${m.T5}/core-notifications/?page=${e.first/e.rows+1}&per_page=${e.rows}${t}`)},1)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(f.Kf),i.Y36(h.O),i.Y36(b.L),i.Y36(g.dD),i.Y36(y.e),i.Y36(O.h))},e.\u0275cmp=i.Xpm({type:e,selectors:[["notifications"]],features:[i.qOj],decls:2,vars:18,consts:[[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","styleClass","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(i.TgZ(0,"wl-form",0),i.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),i.qZA(),i.TgZ(1,"wl-table",1),i.NdJ("onLazyLoad",function(e){return t.loadData(e)}),i.qZA()),2&e&&(i.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),i.xp6(1),i.Udp("margin-top","1rem"),i.Q6J("data",t.data)("styleClass","p-datatable-gridlines p-datatable-sm")("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","NOTIFICATIONS")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[E.U,N.a],styles:[""]}),e})(),data:{title:"MENU_LABEL.Notifications",breadcrumb:"MENU_LABEL.Notifications"}},{path:"parameter-metier",loadChildren:()=>l.e(684).then(l.bind(l,43684)).then(e=>e.ParametrageMetierModule),data:{title:"MENU_LABEL.Param_Metier",breadcrumb:"MENU_LABEL.Param_Metier"}}];let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[o.Bz.forChild(G)],o.Bz]}),e})();var U=l(97234);let D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[{provide:u.TP,useClass:U.s,multi:!0}],imports:[[a.ez,s.u5,s.UX,B,E.e,N.n,_.j]]}),e})()}}]);