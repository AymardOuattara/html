(self.webpackChunkwil_admin_angular=self.webpackChunkwil_admin_angular||[]).push([[884],{9884:function(e,t,i){"use strict";i.r(t),i.d(t,{ReferenceModule:function(){return W}});var s=i(38583),o=i(95987),a=i(37716);let l=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["reference"]],decls:2,vars:0,template:function(e,t){1&e&&(a.TgZ(0,"p"),a._uU(1,"reference works!"),a.qZA())},styles:[""]}),e})();var n=i(99688),r=i(42394);const d={},p={formState:{token:localStorage.getItem("token")}},c=[{template:"<p>Vous pouvez ajouter des pays \xe0 votre organisation.</p>"},{templateOptions:{label:"Formulaire de cr\xe9ation",toggleable:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-auto wl-hidden",key:"id",type:"input",templateOptions:{hidden:!0,translate:!0,label:"FORM_LABEL.ID",readonly:!0}},{className:"flex-auto",key:"continent_id",type:"select",templateOptions:{required:!0,showSearch:!0,translate:!0,label:"FORM_LABEL.CONTINENT",options:[],url:r.T5+"/continents/load",authToken:p.formState.token,valueProp:"id",labelProp:"name",onModelChange:e=>{}}},{className:"flex-auto",key:"code",type:"input",templateOptions:{required:!0,translate:!0,label:"FORM_LABEL.CODE"}},{className:"flex-auto",key:"name",type:"input",templateOptions:{translate:!0,required:!0,label:"FORM_LABEL.NAME"}},{className:"flex-auto",key:"phone_prefix",type:"input",templateOptions:{required:!0,translate:!0,label:"FORM_LABEL.PHONE_PREFIX"}},{className:"flex-2",key:"status",type:"checkbox",templateOptions:{translate:!0,label:"FORM_LABEL.IS_ACTIVE"},defaultValue:!0}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:e=>{console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(t=>{e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":(e,t,i)=>!i.form.valid}},{type:"button",templateOptions:{type:"reset",label:"Reset",bgColor:"#000",textColor:"#fff",click:e=>{e.options.resetModel(d)}}}]}]}];var u=i(91841),m=i(44212),h=i(18859),g=i(52121),f=i(68058),b=i(4768),y=i(28723),O=i(98542),T=i(977),L=i(65461);function E(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"wl-form",7),a.NdJ("onSubmit",function(t){return a.CHM(e),a.oxw().save(t)})("onModelChange",function(t){return a.CHM(e),a.oxw().modelChange(t)}),a.qZA()}if(2&e){const e=a.oxw();a.Q6J("alert",e.alert)("model",e.form.model)("fields",e.form.fields)("options",e.form.options)}}let x=(()=>{class e extends n.K{constructor(e,t,i,s,o,a,l,n){super(e,t,i,s,o,a,l),this.logger=e,this.httpService=t,this.envService=i,this.messageService=s,this.authService=o,this.menuService=a,this.modal=l,this.changeDetectorRef=n,this.isEditMode=!1,this.isVisible=!1;const r=this.authService.hasPermissionAuthorizationV2(["USER_LIST.CREATE","USER_LIST.LOCK","USER_LIST.EDIT","USER_LIST.UNLOCK","USER_LIST.EXPORT","USER_LIST.DELETE","SHOW_DATA.ALL_ENTITY","SHOW_DATA.ROOT"]);this.hasPermissionToLock=r[1],this.hasPermissionToEdit=r[2],this.hasPermissionToUnlock=r[3],this.hasPermissionToExport=r[4],this.hasPermissionToDelete=r[5],this.hasPermissionToShowAllEntityData=r[6],this.hasPermissionToShowDataRoot=r[7],this.hasPermissionToCreate=r[0]}maFonction(){this.form.fields[0].template="<p>Veuillez remplir ce formulaire pour cr\xe9er un pays.</p>",this.isVisible=!0,this.isEditMode=!1}get modalTitle(){return this.isEditMode?"Mise \xe0 jour":"Ajouter"}ngAfterViewInit(){}ngOnInit(){this.form.model=Object.assign({},d),this.form.fields=c,this.form.options=p,this.columns=[{field:"code",header:"FORM_LABEL.CODE"},{field:"name",header:"FORM_LABEL.NAME"},{field:"phone_prefix",header:"FORM_LABEL.PHONE_PREFIX"},{field:"continent.name",header:"CONTINENT"},{field:"status",header:"STATUS",type:"status",falseText:"Inactif",trueText:"Actif"}],this.user&&this.hasPermissionToEdit&&this.actions.push({type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.logger.log(e),this.isEditMode=!0,this.isVisible=!0;let t={id:e.id,code:e.code,name:e.name,flag:e.flag,phone_prefix:e.phone_prefix,continent_id:e.continent_id,status:e.status,added_user:e.added_user,updated_user:e.updated_user,created_at:e.created_at,updated_at:e.updated_at};console.log(e),this.form.fields[0].template="<p>Veuillez renseigner ce formulaire pour modifier les informations dudit pays.</p>",setTimeout(()=>{this.alert=void 0,e.status=0!=e.status,this.form.model=Object.assign({},t),this.form.fields[0].fieldGroup[0].template=`<h5>Vous modifiez de l'utilisateur <i>${e.login}</i> </h5>`,this.form.fields[0].fieldGroup[1].fieldGroup[0].templateOptions.label="Enregistrer",this.changeDetectorRef.detectChanges()},1)}}),this.user&&this.hasPermissionToDelete&&this.actions.push({type:"default",icon:"warning",shape:"circle",popConfirm:!0,popTitle:"Etes-vous s\xfbre ?",cancelText:"Annuler",okText:"Oui",loading:!1,click:e=>{this.swingstatus(e)},cancel:e=>{}}),this.user&&this.hasPermissionToDelete&&this.actions.push({type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Etes-vous s\xfbre ?",cancelText:"Annuler",okText:"Oui",loading:!1,click:e=>{this.delete(e,"countries")},cancel:e=>{}})}save(e){if(console.log(e),1==this.isEditMode){this.changeDetectorRef.detectChanges(),this.logger.log("event.model: ",e.model);let t=Object.assign(Object.assign({},e.model),{phone:e.model.prefix+" "+e.model.phone,session:this.user.session_id});this.logger.log("payload ",t);const i=t.id;t=r._.omit(t,["id"]),t=Object.assign(Object.assign({},t),{updated_user:this.user.id}),this.putData(`${r.T5}/countries/${i}`,t,e=>{e instanceof u.UA||(this.loadData(this.currentLoadEvent),this.isVisible=!1)})}else{let t=Object.assign(Object.assign({},e.model),{code:e.model.code,libelle:e.model.libelle,session:this.user.session_id});console.log(t),this.logger.log("payload ",t),t.id&&null!=t.id?(t=Object.assign(Object.assign({},t),{added_user:this.user.id}),this.postData(`${r.T5}/countries`,t,e=>{e instanceof u.UA||this.loadData(this.currentLoadEvent)})):(console.log(t),t=r._.omit(t,["id"]),t=Object.assign(Object.assign({},t),{added_user:this.user.id}),this.postData(`${r.T5}/countries`,t,e=>{e instanceof u.UA||(this.loadData(this.currentLoadEvent),this.isVisible=!1)}))}}swingstatus(e){const t=e.id,i=e.status;if(1==i){let i=r._.omit(e,["id"]);i={status:!1,updated_user:this.user.id},this.putData(`${r.T5}/countries/${t}`,i,e=>{e instanceof u.UA||this.loadData(this.currentLoadEvent)})}if(0==i){let i=r._.omit(e,["id"]);i={status:!0,updated_user:this.user.id},this.putData(`${r.T5}/countries/${t}`,i,e=>{e instanceof u.UA||this.loadData(this.currentLoadEvent)})}}loadData(e){this.currentLoadEvent=e;const t=null!=e.globalFilter?`&search={"sKey":"all","sValue":"${e.globalFilter}"}`:"";setTimeout(()=>{this.loading=!0,this.getData(`${r.T5}/countries/?page=${e.first/e.rows+1}&per_page=${e.rows}${t}`)},1)}handleCancel(){this.isVisible=!1}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(m.Kf),a.Y36(h.O),a.Y36(g.L),a.Y36(f.dD),a.Y36(b.e),a.Y36(y.h),a.Y36(O.Sf),a.Y36(a.sBO))},e.\u0275cmp=a.Xpm({type:e,selectors:[["country"]],features:[a.qOj],decls:11,vars:18,consts:[["nzWidth","920px",3,"nzVisible","nzTitle","nzFooter","nzVisibleChange","nzOnCancel"],[3,"alert","model","fields","options","onSubmit","onModelChange",4,"nzModalContent"],[2,"width","100%","text-align","center"],[2,"border","3px dashed whitesmoke","padding","400px"],[2,"font-size","small"],[1,"button-19",2,"margin-left","20px",3,"click"],[3,"data","styleClass","showTools","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"],[3,"alert","model","fields","options","onSubmit","onModelChange"]],template:function(e,t){1&e&&(a.TgZ(0,"nz-modal",0),a.NdJ("nzVisibleChange",function(e){return t.isVisible=e})("nzOnCancel",function(){return t.handleCancel()}),a.YNc(1,E,1,4,"wl-form",1),a.qZA(),a._UZ(2,"br"),a.TgZ(3,"table",2),a.TgZ(4,"tr",3),a.TgZ(5,"td"),a.TgZ(6,"h5",4),a._uU(7," Ajouter un pays \xe0 votre organisation en cliquant sur ce bouton "),a.TgZ(8,"button",5),a.NdJ("click",function(){return t.maFonction()}),a._uU(9,"Ajouter"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"wl-table",6),a.NdJ("onLazyLoad",function(e){return t.loadData(e)}),a.qZA()),2&e&&(a.Q6J("nzVisible",t.isVisible)("nzTitle",t.modalTitle)("nzFooter",null),a.xp6(10),a.Udp("margin-top","1rem"),a.Q6J("data",t.data)("styleClass","p-datatable-gridlines p-datatable-sm")("showTools",t.hasPermissionToExport)("columns",t.columns)("showTools",!0)("actions",t.actions)("lazy",!0)("caption","Pays")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[O.du,O.Hf,T.a,L.U],styles:[".search-input .inline{display:inline-block;margin:0!important;padding:0!important}  .search-input .inline nz-input-group{border-radius:.2rem 0 0 .2rem!important}  .search-input .inline:last-child button{border-radius:0 0 10px 0}  .search-input .inline:last-child{position:relative;top:1.8rem;left:-1.5px;margin:0;padding:0}  .search-input .inline:last-child nz-input-group{border-radius:0 .2rem .2rem 0!important}  .button-19{background:#0d6d3a;border:1px solid #0d6d3a;border-radius:6px;box-shadow:1px 2px 4px rgba(0,0,0,.1);box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:nunito,roboto,proxima-nova,proxima nova,sans-serif;font-size:13px;font-weight:800;line-height:16px;min-height:40px;outline:0;padding:12px 14px;text-align:center;text-rendering:geometricprecision;text-transform:none;-moz-user-select:none;user-select:none;-webkit-user-select:none;touch-action:manipulation;vertical-align:middle}  .button-19:active,   .button-19:hover{background-color:transparent;background-color:initial;background-position:0 0;color:#0d6d3a}"]}),e})();const A={},_={},S=[{template:"<p>Vous pouvez ajouter des services \xe0 votre organisation.</p>"},{templateOptions:{label:"Formulaire de cr\xe9ation",toggleable:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-auto wl-hidden",key:"id",type:"input",templateOptions:{hidden:!0,translate:!0,label:"FORM_LABEL.ID",readonly:!0}},{className:"flex-3",key:"code",type:"input",templateOptions:{required:!0,translate:!0,label:"FORM_LABEL.CODE"}},{className:"flex-3",key:"name",type:"input",templateOptions:{translate:!0,label:"FORM_LABEL.NAME"}},{className:"flex-3",key:"status",type:"checkbox",templateOptions:{translate:!0,label:"FORM_LABEL.IS_ACTIVE"},defaultValue:!0}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"Soumettre",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:e=>{e.templateOptions.loading=!0,e.form.statusChanges.subscribe(t=>{e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":(e,t,i)=>!i.form.valid}},{type:"button",templateOptions:{type:"reset",label:"R\xe9initialiser",bgColor:"#000",textColor:"#fff",click:e=>{e.options.resetModel(A)}}}]}]}];function C(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"wl-form",7),a.NdJ("onSubmit",function(t){return a.CHM(e),a.oxw().save(t)})("onModelChange",function(t){return a.CHM(e),a.oxw().modelChange(t)}),a.qZA()}if(2&e){const e=a.oxw();a.Q6J("alert",e.alert)("model",e.form.model)("fields",e.form.fields)("options",e.form.options)}}const w=i(23815);let v=(()=>{class e extends n.K{constructor(e,t,i,s,o,a,l,n){super(e,t,i,s,o,a,l),this.logger=e,this.httpService=t,this.envService=i,this.messageService=s,this.authService=o,this.menuService=a,this.modal=l,this.changeDetectorRef=n,this.isEditMode=!1,this.isVisible=!1;const r=this.authService.hasPermissionAuthorizationV2(["USER_LIST.CREATE","USER_LIST.LOCK","USER_LIST.EDIT","USER_LIST.UNLOCK","USER_LIST.EXPORT","USER_LIST.DELETE","SHOW_DATA.ALL_ENTITY","SHOW_DATA.ROOT"]);this.hasPermissionToLock=r[1],this.hasPermissionToEdit=r[2],this.hasPermissionToUnlock=r[3],this.hasPermissionToExport=r[4],this.hasPermissionToDelete=r[5],this.hasPermissionToShowAllEntityData=r[6],this.hasPermissionToShowDataRoot=r[7],this.hasPermissionToCreate=r[0]}maFonction(){this.form.fields[0].template="<p>Veuillez remplir ce formulaire pour cr\xe9er un continent.</p>",this.isVisible=!0,this.isEditMode=!1}ngAfterViewInit(){}get modalTitle(){return this.isEditMode?"Mise \xe0 jour":"Ajouter"}ngOnInit(){this.form.model=Object.assign({},A),this.form.fields=S,this.form.options=_,this.columns=[{field:"code",header:"FORM_LABEL.CODE"},{field:"name",header:"FORM_LABEL.NAME"},{field:"status",header:"STATUS",type:"status",falseText:"Inactif",trueText:"Actif"}],this.user&&this.hasPermissionToEdit&&this.actions.push({type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.logger.log(e),this.isEditMode=!0,this.isVisible=!0,console.log(e),this.form.fields[0].template="<p>Veuillez renseigner ce formulaire pour modifier les informations dudit continent.</p>",setTimeout(()=>{this.alert=void 0,e.status=0!=e.status,this.form.model=Object.assign({},e),this.form.fields[0].fieldGroup[0].template=`<h5>Vous modifiez de l'utilisateur <i>${e.login}</i> </h5>`,this.form.fields[0].fieldGroup[1].fieldGroup[0].templateOptions.label="Enregistrer",this.changeDetectorRef.detectChanges()},1)}}),this.user&&this.hasPermissionToDelete&&this.actions.push({type:"default",icon:"warning",shape:"circle",popConfirm:!0,popTitle:"Etes-vous s\xfbre ?",cancelText:"Annuler",okText:"Oui",loading:!1,click:e=>{this.swingstatus(e)},cancel:e=>{}}),this.user&&this.hasPermissionToDelete&&this.actions.push({type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Etes-vous s\xfbre ?",cancelText:"Annuler",okText:"Oui",loading:!1,click:e=>{this.delete(e,"continents")},cancel:e=>{}})}save(e){if(console.log(e),1==this.isEditMode){this.changeDetectorRef.detectChanges(),this.logger.log("event.model: ",e.model);let t=Object.assign(Object.assign({},e.model),{phone:e.model.prefix+" "+e.model.phone,session:this.user.session_id});this.logger.log("payload ",t);const i=t.id;t=w.omit(t,["id"]),t=Object.assign(Object.assign({},t),{updated_user:this.user.id}),this.putData(`${r.T5}/continents/${i}`,t,e=>{e instanceof u.UA||(this.loadData(this.currentLoadEvent),this.isVisible=!1)})}else{let t=Object.assign(Object.assign({},e.model),{code:e.model.code,libelle:e.model.libelle,session:this.user.session_id});console.log(t),this.logger.log("payload ",t),t.id&&null!=t.id?(t=Object.assign(Object.assign({},t),{added_user:this.user.id}),this.postData(`${r.T5}/continents`,t,e=>{e instanceof u.UA||this.loadData(this.currentLoadEvent)})):(console.log(t),t=w.omit(t,["id"]),t=Object.assign(Object.assign({},t),{added_user:this.user.id}),this.postData(`${r.T5}/continents`,t,e=>{e instanceof u.UA||(this.loadData(this.currentLoadEvent),this.isVisible=!1)}))}}swingstatus(e){const t=e.id,i=e.status;if(1==i){let i=w.omit(e,["id"]);i={status:!1,updated_user:this.user.id},this.putData(`${r.T5}/continents/${t}`,i,e=>{e instanceof u.UA||this.loadData(this.currentLoadEvent)})}if(0==i){let i=w.omit(e,["id"]);i={status:!0,updated_user:this.user.id},this.putData(`${r.T5}/continents/${t}`,i,e=>{e instanceof u.UA||this.loadData(this.currentLoadEvent)})}}loadData(e){this.currentLoadEvent=e;const t=null!=e.globalFilter?`&search={"sKey":"all","sValue":"${e.globalFilter}"}`:"";setTimeout(()=>{this.loading=!0,this.getData(`${r.T5}/continents/?page=${e.first/e.rows+1}&per_page=${e.rows}${t}`)},1)}handleCancel(){this.isVisible=!1}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(m.Kf),a.Y36(h.O),a.Y36(g.L),a.Y36(f.dD),a.Y36(b.e),a.Y36(y.h),a.Y36(O.Sf),a.Y36(a.sBO))},e.\u0275cmp=a.Xpm({type:e,selectors:[["continent"]],features:[a.qOj],decls:11,vars:18,consts:[["nzWidth","920px",3,"nzVisible","nzTitle","nzFooter","nzVisibleChange","nzOnCancel"],[3,"alert","model","fields","options","onSubmit","onModelChange",4,"nzModalContent"],[2,"width","100%","text-align","center"],[2,"border","3px dashed whitesmoke","padding","400px"],[2,"font-size","small"],[1,"button-19",2,"margin-left","20px",3,"click"],[3,"data","styleClass","showTools","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"],[3,"alert","model","fields","options","onSubmit","onModelChange"]],template:function(e,t){1&e&&(a.TgZ(0,"nz-modal",0),a.NdJ("nzVisibleChange",function(e){return t.isVisible=e})("nzOnCancel",function(){return t.handleCancel()}),a.YNc(1,C,1,4,"wl-form",1),a.qZA(),a._UZ(2,"br"),a.TgZ(3,"table",2),a.TgZ(4,"tr",3),a.TgZ(5,"td"),a.TgZ(6,"h5",4),a._uU(7," Ajouter un continent \xe0 votre organisation en cliquant sur ce bouton "),a.TgZ(8,"button",5),a.NdJ("click",function(){return t.maFonction()}),a._uU(9,"Ajouter"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"wl-table",6),a.NdJ("onLazyLoad",function(e){return t.loadData(e)}),a.qZA()),2&e&&(a.Q6J("nzVisible",t.isVisible)("nzTitle",t.modalTitle)("nzFooter",null),a.xp6(10),a.Udp("margin-top","1rem"),a.Q6J("data",t.data)("styleClass","p-datatable-gridlines p-datatable-sm")("showTools",t.hasPermissionToExport)("columns",t.columns)("showTools",!0)("actions",t.actions)("lazy",!0)("caption","Continents")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[O.du,O.Hf,T.a,L.U],styles:[".search-input .inline{display:inline-block;margin:0!important;padding:0!important}  .search-input .inline nz-input-group{border-radius:.2rem 0 0 .2rem!important}  .search-input .inline:last-child button{border-radius:0 0 10px 0}  .search-input .inline:last-child{position:relative;top:1.8rem;left:-1.5px;margin:0;padding:0}  .search-input .inline:last-child nz-input-group{border-radius:0 .2rem .2rem 0!important}  .button-19{background:#0d6d3a;border:1px solid #0d6d3a;border-radius:6px;box-shadow:1px 2px 4px rgba(0,0,0,.1);box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:nunito,roboto,proxima-nova,proxima nova,sans-serif;font-size:13px;font-weight:800;line-height:16px;min-height:40px;outline:0;padding:12px 14px;text-align:center;text-rendering:geometricprecision;text-transform:none;-moz-user-select:none;user-select:none;-webkit-user-select:none;touch-action:manipulation;vertical-align:middle}  .button-19:active,   .button-19:hover{background-color:transparent;background-color:initial;background-position:0 0;color:#0d6d3a}"]}),e})();const F={},k={},R=[{wrappers:["fieldset-wrapper"],templateOptions:{label:"Formulaire de cr\xe9ation",toggleable:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-auto wl-hidden",key:"id",type:"input",templateOptions:{hidden:!0,translate:!0,label:"FORM_LABEL.ID",readonly:!0}},{className:"flex-auto",key:"label",type:"input",templateOptions:{required:!0,translate:!0,label:"FORM_LABEL.LABEL"}},{className:"flex-auto",key:"description",type:"input",templateOptions:{translate:!0,label:"FORM_LABEL.DESCRIPTION"}},{className:"flex-2",key:"status",type:"checkbox",templateOptions:{translate:!0,label:"FORM_LABEL.IS_ACTIVE"},defaultValue:!0}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:e=>{console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(t=>{e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":(e,t,i)=>!i.form.valid}},{type:"button",templateOptions:{type:"reset",label:"Reset",bgColor:"#000",textColor:"#fff",click:e=>{e.options.resetModel(F)}}}]}]}];var D=i(66782);let M=(()=>{class e extends n.K{constructor(e,t,i,s,o,a){super(e,t,i,s,o,a),this.logger=e,this.httpService=t,this.envService=i,this.messageService=s,this.authService=o,this.menuService=a}ngOnInit(){this.form.options=k,this.form.fields=F,this.form.fields=R,this.isSpinning=!1,this.columns=[{field:"label",header:"FORM_LABEL.LABEL"},{field:"description",header:"FORM_LABEL.DESCRIPTION"},{field:"status",header:"STATUS",type:"status"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e),this.form.fields[0].fieldGroup[1].fieldGroup[0].templateOptions.label="SAVE"}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"entity-types",!1)},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign(Object.assign({},e.model),{added_user:this.user.id});if(t.id&&null!=t.id){const e=t.id;t=r._.omit(t,["id"]),t=Object.assign(Object.assign({},t),{updated_user:this.user.id}),this.putData(`${r.T5}/entity-types/${e}`,t)}else t=r._.omit(t,["id"]),this.postData(`${r.T5}/entity-types`,t)}loadData(e){const t=null!=e.globalFilter?`&search={"sKey":"all","sValue":"${e.globalFilter}"}`:"";setTimeout(()=>{this.loading=!0,this.getData(`${r.T5}/entity-types/?page=${e.first/e.rows+1}&per_page=${e.rows}${t}`)},1)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(m.Kf),a.Y36(h.O),a.Y36(g.L),a.Y36(f.dD),a.Y36(b.e),a.Y36(y.h))},e.\u0275cmp=a.Xpm({type:e,selectors:[["entity-type"]],features:[a.qOj],decls:3,vars:19,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","styleClass","wrapper","actions","columns","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(a.TgZ(0,"nz-spin",0),a.TgZ(1,"wl-form",1),a.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),a.qZA(),a.qZA(),a.TgZ(2,"wl-table",2),a.NdJ("onLazyLoad",function(e){return t.loadData(e)}),a.qZA()),2&e&&(a.Q6J("nzSpinning",t.isSpinning),a.xp6(1),a.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),a.xp6(1),a.Udp("margin-top","1rem"),a.Q6J("data",t.data)("styleClass","p-datatable-gridlines p-datatable-sm")("wrapper","fieldset")("actions",t.actions)("columns",t.columns)("lazy",!0)("caption","Entities types")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[D.W,L.U,T.a],styles:[""]}),e})();const z={},N={formState:{token:localStorage.getItem("token")}},U=[{template:"<p>Vous pouvez ajouter des villes \xe0 votre organisation.</p>"},{templateOptions:{label:"Formulaire de cr\xe9ation",toggleable:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-auto wl-hidden",key:"id",type:"input",templateOptions:{hidden:!0,translate:!0,label:"FORM_LABEL.ID",readonly:!0}},{className:"flex-3",key:"country_id",type:"select",templateOptions:{translate:!0,required:!0,translatePlaceholder:!0,label:"Pays",placeholder:"Pays",suffixIcon:"user",options:[],valueProp:"id",labelProp:"name"}},{className:"flex-auto",key:"name",type:"input",templateOptions:{translate:!0,required:!0,label:"FORM_LABEL.NAME"}},{className:"flex-2",key:"status",type:"checkbox",templateOptions:{translate:!0,label:"FORM_LABEL.IS_ACTIVE"},defaultValue:!0}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:e=>{console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(t=>{e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":(e,t,i)=>!i.form.valid}},{type:"button",templateOptions:{type:"reset",label:"Reset",bgColor:"#000",textColor:"#fff",click:e=>{e.options.resetModel(z)}}}]}]}];function I(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"wl-form",7),a.NdJ("onSubmit",function(t){return a.CHM(e),a.oxw().save(t)})("onModelChange",function(t){return a.CHM(e),a.oxw().modelChange(t)}),a.qZA()}if(2&e){const e=a.oxw();a.Q6J("alert",e.alert)("model",e.form.model)("fields",e.form.fields)("options",e.form.options)}}let j=(()=>{class e extends n.K{constructor(e,t,i,s,o,a,l,n){super(e,t,i,s,o,a,l),this.logger=e,this.httpService=t,this.envService=i,this.messageService=s,this.authService=o,this.menuService=a,this.modal=l,this.changeDetectorRef=n,this.isEditMode=!1,this.isVisible=!1;const r=this.authService.hasPermissionAuthorizationV2(["USER_LIST.CREATE","USER_LIST.LOCK","USER_LIST.EDIT","USER_LIST.UNLOCK","USER_LIST.EXPORT","USER_LIST.DELETE","SHOW_DATA.ALL_ENTITY","SHOW_DATA.ROOT"]);this.hasPermissionToLock=r[1],this.hasPermissionToEdit=r[2],this.hasPermissionToUnlock=r[3],this.hasPermissionToExport=r[4],this.hasPermissionToDelete=r[5],this.hasPermissionToShowAllEntityData=r[6],this.hasPermissionToShowDataRoot=r[7],this.hasPermissionToCreate=r[0]}maFonction(){this.form.fields[0].template="<p>Veuillez remplir ce formulaire pour cr\xe9er un pays.</p>",this.isVisible=!0,this.isEditMode=!1}get modalTitle(){return this.isEditMode?"Mise \xe0 jour":"Ajouter"}ngAfterViewInit(){}ngOnInit(){this.loadAllCountries(),this.form.model=Object.assign({},z),this.form.fields=U,this.form.options=N,this.columns=[{field:"name",header:"FORM_LABEL.NAME"},{field:"country.name",header:"Pays"},{field:"status",header:"STATUS",type:"status",falseText:"Inactif",trueText:"Actif"}],this.user&&this.hasPermissionToEdit&&this.actions.push({type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.logger.log(e),this.isEditMode=!0,this.isVisible=!0,console.log(e),this.form.fields[0].template="<p>Veuillez renseigner ce formulaire pour modifier les informations dudit pays.</p>",setTimeout(()=>{this.alert=void 0,e.status=0!=e.status,this.form.model=Object.assign({},e),this.form.fields[0].fieldGroup[0].template=`<h5>Vous modifiez de l'utilisateur <i>${e.login}</i> </h5>`,this.form.fields[0].fieldGroup[1].fieldGroup[0].templateOptions.label="Enregistrer",this.changeDetectorRef.detectChanges()},1)}}),this.user&&this.hasPermissionToDelete&&this.actions.push({type:"default",icon:"warning",shape:"circle",popConfirm:!0,popTitle:"Etes-vous s\xfbre ?",cancelText:"Annuler",okText:"Oui",loading:!1,click:e=>{this.swingstatus(e)},cancel:e=>{}}),this.user&&this.hasPermissionToDelete&&this.actions.push({type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Etes-vous s\xfbre ?",cancelText:"Annuler",okText:"Oui",loading:!1,click:e=>{this.delete(e,"cities")},cancel:e=>{}})}save(e){if(console.log(e),1==this.isEditMode){this.changeDetectorRef.detectChanges(),this.logger.log("event.model: ",e.model);let t=Object.assign(Object.assign({},e.model),{phone:e.model.prefix+" "+e.model.phone,session:this.user.session_id});this.logger.log("payload ",t);const i=t.id;t=r._.omit(t,["id"]),t=Object.assign(Object.assign({},t),{updated_user:this.user.id}),this.putData(`${r.T5}/cities/${i}`,t,e=>{e instanceof u.UA||(this.loadData(this.currentLoadEvent),this.isVisible=!1)})}else{let t=Object.assign(Object.assign({},e.model),{code:e.model.code,libelle:e.model.libelle,session:this.user.session_id});console.log(t),this.logger.log("payload ",t),t.id&&null!=t.id?(t=Object.assign(Object.assign({},t),{added_user:this.user.id}),this.postData(`${r.T5}/cities`,t,e=>{e instanceof u.UA||this.loadData(this.currentLoadEvent)})):(console.log(t),t=r._.omit(t,["id"]),t=Object.assign(Object.assign({},t),{added_user:this.user.id}),this.postData(`${r.T5}/cities`,t,e=>{e instanceof u.UA||(this.loadData(this.currentLoadEvent),this.isVisible=!1)}))}}swingstatus(e){const t=e.id,i=e.status;if(1==i){let i=r._.omit(e,["id"]);i={status:!1,updated_user:this.user.id},this.putData(`${r.T5}/cities/${t}`,i,e=>{e instanceof u.UA||this.loadData(this.currentLoadEvent)})}if(0==i){let i=r._.omit(e,["id"]);i={status:!0,updated_user:this.user.id},this.putData(`${r.T5}/cities/${t}`,i,e=>{e instanceof u.UA||this.loadData(this.currentLoadEvent)})}}loadData(e){this.currentLoadEvent=e;const t=null!=e.globalFilter?`&search={"sKey":"all","sValue":"${e.globalFilter}"}`:"";setTimeout(()=>{this.loading=!0,this.getData(`${r.T5}/cities/?page=${e.first/e.rows+1}&per_page=${e.rows}${t}`)},1)}loadAllCountries(){const e=(this.authService.hasPermissionAuthorization("SHOW_DATA.ALL_ENTITY"),`${r.T5}/countries/`);this.httpService.getData(`${e}`).toPromise().then(e=>{this.isSpinning=!1;let t=e.body.rows;console.log(t),this.notAllPrivilege&&t.push(...this.user.entities),this.form.fields=this.mapFields(this.form.fields,"country_id","templateOptions.options",t)}).catch(e=>{this.logger.error(e)})}handleCancel(){this.isVisible=!1}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(m.Kf),a.Y36(h.O),a.Y36(g.L),a.Y36(f.dD),a.Y36(b.e),a.Y36(y.h),a.Y36(O.Sf),a.Y36(a.sBO))},e.\u0275cmp=a.Xpm({type:e,selectors:[["country"]],features:[a.qOj],decls:11,vars:18,consts:[["nzWidth","920px",3,"nzVisible","nzTitle","nzFooter","nzVisibleChange","nzOnCancel"],[3,"alert","model","fields","options","onSubmit","onModelChange",4,"nzModalContent"],[2,"width","100%","text-align","center"],[2,"border","3px dashed whitesmoke","padding","400px"],[2,"font-size","small"],[1,"button-19",2,"margin-left","20px",3,"click"],[3,"data","styleClass","showTools","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"],[3,"alert","model","fields","options","onSubmit","onModelChange"]],template:function(e,t){1&e&&(a.TgZ(0,"nz-modal",0),a.NdJ("nzVisibleChange",function(e){return t.isVisible=e})("nzOnCancel",function(){return t.handleCancel()}),a.YNc(1,I,1,4,"wl-form",1),a.qZA(),a._UZ(2,"br"),a.TgZ(3,"table",2),a.TgZ(4,"tr",3),a.TgZ(5,"td"),a.TgZ(6,"h5",4),a._uU(7," Ajouter une ville \xe0 votre organisation en cliquant sur ce bouton "),a.TgZ(8,"button",5),a.NdJ("click",function(){return t.maFonction()}),a._uU(9,"Ajouter"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"wl-table",6),a.NdJ("onLazyLoad",function(e){return t.loadData(e)}),a.qZA()),2&e&&(a.Q6J("nzVisible",t.isVisible)("nzTitle",t.modalTitle)("nzFooter",null),a.xp6(10),a.Udp("margin-top","1rem"),a.Q6J("data",t.data)("styleClass","p-datatable-gridlines p-datatable-sm")("showTools",t.hasPermissionToExport)("columns",t.columns)("showTools",!0)("actions",t.actions)("lazy",!0)("caption","Cities")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[O.du,O.Hf,T.a,L.U],styles:[".search-input .inline{display:inline-block;margin:0!important;padding:0!important}  .search-input .inline nz-input-group{border-radius:.2rem 0 0 .2rem!important}  .search-input .inline:last-child button{border-radius:0 0 10px 0}  .search-input .inline:last-child{position:relative;top:1.8rem;left:-1.5px;margin:0;padding:0}  .search-input .inline:last-child nz-input-group{border-radius:0 .2rem .2rem 0!important}  .button-19{background:#0d6d3a;border:1px solid #0d6d3a;border-radius:6px;box-shadow:1px 2px 4px rgba(0,0,0,.1);box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:nunito,roboto,proxima-nova,proxima nova,sans-serif;font-size:13px;font-weight:800;line-height:16px;min-height:40px;outline:0;padding:12px 14px;text-align:center;text-rendering:geometricprecision;text-transform:none;-moz-user-select:none;user-select:none;-webkit-user-select:none;touch-action:manipulation;vertical-align:middle}  .button-19:active,   .button-19:hover{background-color:transparent;background-color:initial;background-position:0 0;color:#0d6d3a}"]}),e})();const B={},V={formState:{token:localStorage.getItem("token")}},Z=[{wrappers:["fieldset-wrapper"],templateOptions:{label:"Formulaire de cr\xe9ation",toggleable:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-auto wl-hidden",key:"id",type:"input",templateOptions:{hidden:!0,translate:!0,label:"FORM_LABEL.ID",readonly:!0}},{className:"flex-auto",key:"city_id",type:"select",templateOptions:{required:!0,showSearch:!0,translate:!0,label:"FORM_LABEL.CITY",options:[],url:r.T5+"/cities/load",authToken:V.formState.token,valueProp:"id",labelProp:"name",onModelChange:e=>{}}},{className:"flex-auto",key:"name",type:"input",templateOptions:{translate:!0,required:!0,label:"FORM_LABEL.NAME"}},{className:"flex-2",key:"status",type:"checkbox",templateOptions:{translate:!0,label:"FORM_LABEL.IS_ACTIVE"},defaultValue:!0}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:e=>{console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(t=>{e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":(e,t,i)=>!i.form.valid}},{type:"button",templateOptions:{type:"reset",label:"Reset",bgColor:"#000",textColor:"#fff",click:e=>{e.options.resetModel(B)}}}]}]}],$={},P={},q=[{wrappers:["fieldset-wrapper"],templateOptions:{label:"Formulaire de cr\xe9ation",toggleable:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-auto wl-hidden",key:"id",type:"input",templateOptions:{hidden:!0,translate:!0,label:"FORM_LABEL.ID",readonly:!0}},{className:"flex-auto",key:"code",type:"input",templateOptions:{required:!0,translate:!0,label:"FORM_LABEL.CODE"}},{className:"flex-auto",key:"label",type:"input",templateOptions:{required:!0,translate:!0,label:"FORM_LABEL.LABEL"}},{className:"flex-auto",key:"description",type:"input",templateOptions:{translate:!0,label:"FORM_LABEL.DESCRIPTION"}},{className:"flex-2",key:"status",type:"checkbox",templateOptions:{translate:!0,label:"FORM_LABEL.IS_ACTIVE"},defaultValue:!0}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:e=>{console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(t=>{e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":(e,t,i)=>!i.form.valid}},{type:"button",templateOptions:{type:"reset",label:"Reset",bgColor:"#000",textColor:"#fff",click:e=>{e.options.resetModel($)}}}]}]}],Y={},G={},J=[{wrappers:["fieldset-wrapper"],templateOptions:{label:"Formulaire de cr\xe9ation",toggleable:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-auto wl-hidden",key:"id",type:"input",templateOptions:{hidden:!0,translate:!0,label:"FORM_LABEL.ID",readonly:!0}},{className:"flex-auto",key:"code",type:"input",templateOptions:{required:!0,translate:!0,label:"FORM_LABEL.CODE"}},{className:"flex-auto",key:"label",type:"input",templateOptions:{translate:!0,required:!0,label:"FORM_LABEL.LABEL"}},{className:"flex-auto",key:"color",type:"input-color",templateOptions:{translate:!0,label:"FORM_LABEL.COLOR"}},{className:"flex-2",key:"status",type:"checkbox",templateOptions:{translate:!0,label:"FORM_LABEL.IS_ACTIVE"},defaultValue:!0}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:e=>{console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(t=>{e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":(e,t,i)=>!i.form.valid}},{type:"button",templateOptions:{type:"reset",label:"Reset",bgColor:"#000",textColor:"#fff",click:e=>{e.options.resetModel(Y)}}}]}]}],K=[{path:"",component:l},{path:"country",component:x,data:{title:"MENU_LABEL.Country",breadcrumb:"MENU_LABEL.Country"}},{path:"continent",component:v,data:{title:"MENU_LABEL.Continent",breadcrumb:"MENU_LABEL.Continent"}},{path:"entity-type",component:M,data:{title:"MENU_LABEL.Entity_Type",breadcrumb:"MENU_LABEL.Entity_Type"}},{path:"city",component:j,data:{title:"MENU_LABEL.City",breadcrumb:"MENU_LABEL.City"}},{path:"locality",component:(()=>{class e extends n.K{constructor(e,t,i,s,o,a){super(e,t,i,s,o,a),this.logger=e,this.httpService=t,this.envService=i,this.messageService=s,this.authService=o,this.menuService=a}ngOnInit(){this.form.options=V,this.form.fields=B,this.form.fields=Z,this.isSpinning=!1,this.columns=[{field:"name",header:"FORM_LABEL.NAME"},{field:"city.name",header:"CITY"},{field:"status",header:"STATUS",type:"status"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e),this.form.fields[0].fieldGroup[1].fieldGroup[0].templateOptions.label="SAVE"}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"ws-locality",!1)},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign(Object.assign({},e.model),{added_user:this.user.id});if(t.id&&null!=t.id){const e=t.id;r._.omit(t,["id"]),this.putData(`${r.T5}/ws-locality/${e}`,t)}else t=r._.omit(t,["id"]),this.postData(`${r.T5}/ws-locality`,t)}loadData(e){const t=null!=e.globalFilter?`&search={"sKey":"all","sValue":"${e.globalFilter}"}`:"";setTimeout(()=>{this.loading=!0,this.getData(`${r.T5}/ws-locality/eager/?page=${e.first/e.rows+1}&per_page=${e.rows}${t}`)},1)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(m.Kf),a.Y36(h.O),a.Y36(g.L),a.Y36(f.dD),a.Y36(b.e),a.Y36(y.h))},e.\u0275cmp=a.Xpm({type:e,selectors:[["locality"]],features:[a.qOj],decls:3,vars:19,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","styleClass","wrapper","actions","columns","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(a.TgZ(0,"nz-spin",0),a.TgZ(1,"wl-form",1),a.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),a.qZA(),a.qZA(),a.TgZ(2,"wl-table",2),a.NdJ("onLazyLoad",function(e){return t.loadData(e)}),a.qZA()),2&e&&(a.Q6J("nzSpinning",t.isSpinning),a.xp6(1),a.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),a.xp6(1),a.Udp("margin-top","1rem"),a.Q6J("data",t.data)("styleClass","p-datatable-gridlines p-datatable-sm")("wrapper","fieldset")("actions",t.actions)("columns",t.columns)("lazy",!0)("caption","Localities")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[D.W,L.U,T.a],styles:[""]}),e})(),data:{title:"MENU_LABEL.Locality",breadcrumb:"MENU_LABEL.Locality"}},{path:"relation-type",component:(()=>{class e extends n.K{constructor(e,t,i,s,o,a){super(e,t,i,s,o,a),this.logger=e,this.httpService=t,this.envService=i,this.messageService=s,this.authService=o,this.menuService=a}ngOnInit(){this.form.model=$,this.form.options=P,this.form.fields=q,this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"code",header:"FORM_LABEL.CODE"},{field:"label",header:"FORM_LABEL.LABEL"},{field:"description",header:"FORM_LABEL.DESCRIPTION"},{field:"status",header:"STATUS",type:"status"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"relation-type")},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign({},e.model);if(t.id&&null!=t.id){const e=t.id;t=r._.omit(t,["id"]),t=Object.assign(Object.assign({},t),{updated_user:this.user.id}),this.putData(`${r.T5}/relation-type/${e}`,t)}else t=r._.omit(t,["id"]),t=Object.assign(Object.assign({},t),{added_user:this.user.id}),this.postData(`${r.T5}/relation-type`,t)}loadData(e){console.log(e);const t=null!=e.globalFilter?`&search={"sKey":"all","sValue":"${e.globalFilter}"}`:"";setTimeout(()=>{this.loading=!0,this.getData(`${r.T5}/relation-type/?page=${e.first/e.rows+1}&per_page=${e.rows}${t}`)},1)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(m.Kf),a.Y36(h.O),a.Y36(g.L),a.Y36(f.dD),a.Y36(b.e),a.Y36(y.h))},e.\u0275cmp=a.Xpm({type:e,selectors:[["relation-type"]],features:[a.qOj],decls:3,vars:19,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","styleClass","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(a.TgZ(0,"nz-spin",0),a.TgZ(1,"wl-form",1),a.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),a.qZA(),a.qZA(),a.TgZ(2,"wl-table",2),a.NdJ("onLazyLoad",function(e){return t.loadData(e)}),a.qZA()),2&e&&(a.Q6J("nzSpinning",t.isSpinning),a.xp6(1),a.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),a.xp6(1),a.Udp("margin-top","1rem"),a.Q6J("data",t.data)("styleClass","p-datatable-gridlines p-datatable-sm")("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","RelationType ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[D.W,L.U,T.a],styles:[""]}),e})(),data:{title:"RelationType",breadcrumb:"RelationType"}},{path:"dataset-status",component:(()=>{class e extends n.K{constructor(e,t,i,s,o,a){super(e,t,i,s,o,a),this.logger=e,this.httpService=t,this.envService=i,this.messageService=s,this.authService=o,this.menuService=a}ngOnInit(){this.form.model=Y,this.form.options=G,this.form.fields=J,this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"code",header:"CODE"},{field:"label",header:"LABEL"},{field:"color",header:"COLOR",type:"color"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:e=>{this.edit(e),this.form.model=Object.assign({},e)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:e=>{this.delete(e,"dataset-status")},cancel:e=>{}}]}save(e){this.logger.log("model: ",e.model);let t=Object.assign({},e.model);t.id&&null!=t.id?t=Object.assign(Object.assign({},t),{updated_user:this.user.id}):(t=Object.assign(Object.assign({},t),{added_user:this.user.id}),this.postData(`${r.T5}/dataset-status`,t))}loadData(e){console.log(e);const t=null!=e.globalFilter?`&search={"sKey":"all","sValue":"${e.globalFilter}"}`:"";setTimeout(()=>{this.loading=!0,this.getData(`${r.T5}/dataset-status/?page=${e.first/e.rows+1}&per_page=${e.rows}${t}`)},1)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(m.Kf),a.Y36(h.O),a.Y36(g.L),a.Y36(f.dD),a.Y36(b.e),a.Y36(y.h))},e.\u0275cmp=a.Xpm({type:e,selectors:[["dataset-status"]],features:[a.qOj],decls:3,vars:19,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","styleClass","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(a.TgZ(0,"nz-spin",0),a.TgZ(1,"wl-form",1),a.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),a.qZA(),a.qZA(),a.TgZ(2,"wl-table",2),a.NdJ("onLazyLoad",function(e){return t.loadData(e)}),a.qZA()),2&e&&(a.Q6J("nzSpinning",t.isSpinning),a.xp6(1),a.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),a.xp6(1),a.Udp("margin-top","1rem"),a.Q6J("data",t.data)("styleClass","p-datatable-gridlines p-datatable-sm")("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","DatasetStatus ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[D.W,L.U,T.a],styles:[""]}),e})(),data:{title:"DatasetStatus",breadcrumb:"DatasetStatus"}}];let Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[o.Bz.forChild(K)],o.Bz]}),e})();var H=i(43022);let W=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[s.ez,Q,L.e,T.n,D.j,H.q6,O.Qp]]}),e})()}}]);