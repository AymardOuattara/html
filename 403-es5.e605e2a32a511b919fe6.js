!function(){function e(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&t(e,a)}function t(e,a){return(t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,a)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=o(e);if(t){var i=o(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return l(this,a)}}function l(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,(o=l.key,n=void 0,"symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?n:String(n)),l)}var o,n}function s(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkwil_admin_angular=self.webpackChunkwil_admin_angular||[]).push([[403],{5403:function(t,l,o){"use strict";o.r(l),o.d(l,{SettingsModule:function(){return Z}});var i,r,p,c,u=o(38583),f=o(3679),d=o(95987),m=o(37716),y=function(){var e=function(){function e(){n(this,e)}return s(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["settings"]],decls:2,vars:0,template:function(e,t){1&e&&(m.TgZ(0,"p"),m._uU(1," settings works "),m.qZA())},styles:[""]}),e}(),b=o(99688),g={},O={},h=[{wrappers:["fieldset-wrapper"],templateOptions:{label:"Formulaire de cr\xe9ation",toggleable:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-auto wl-hidden",key:"id",type:"input",templateOptions:{hidden:!0,translate:!0,label:"FORM_LABEL.ID",readonly:!0}},{className:"flex-5",key:"key",type:"input",templateOptions:{required:!0,translate:!0,label:"FORM_LABEL.KEY"}},{className:"flex-5",key:"value",type:"input",templateOptions:{translate:!0,label:"FORM_LABEL.VALUE",required:!0}},{className:"flex-5",key:"description",type:"input",templateOptions:{translate:!0,label:"FORM_LABEL.DESCRIPTION"}},{className:"flex-5",key:"family",type:"input",templateOptions:{translate:!0,label:"FORM_LABEL.FAMILY"}},{className:"flex-5",key:"category",type:"input",templateOptions:{translate:!0,label:"FORM_LABEL.CATEGORY"}},{className:"flex-5",key:"parent_key",type:"select",templateOptions:{translate:!0,label:"FORM_LABEL.PARAMETER_PARENT",options:[],valueProp:"id",labelProp:"key",onModelChange:function(e){}}},{className:"flex-2",key:"status",type:"checkbox",templateOptions:{translate:!0,label:"FORM_LABEL.IS_ACTIVE"},defaultValue:!0},{className:"flex-2",key:"is_load_onstart",type:"checkbox",templateOptions:{translate:!0,label:"FORM_LABEL.IS_LOAD_ONSTART"},defaultValue:!1}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:function(e){console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return!a.form.valid}}},{type:"button",templateOptions:{type:"reset",label:"Reset",bgColor:"#000",textColor:"#fff",click:function(e){e.options.resetModel(g)}}}]}]}],_=o(42394),v=o(91841),E=o(44212),N=o(18859),k=o(52121),x=o(68058),T=o(4768),S=o(28723),L=o(66782),A=o(65461),C=o(977),M=function(){var t=function(t){e(o,t);var l=a(o);function o(e,t,a,i,s,r){var p;return n(this,o),(p=l.call(this,e,t,a,i,s,r)).logger=e,p.httpService=t,p.envService=a,p.messageService=i,p.authService=s,p.menuService=r,p}return s(o,[{key:"ngOnInit",value:function(){var e=this;this.form.options=O,this.form.model=g,this.form.fields=h,this.isSpinning=!1,this.columns=[{field:"key",header:"KEY"},{field:"value",header:"VALUE"},{field:"parent_key",header:"Cle Parent"},{field:"family",header:"Famille"},{field:"category",header:"Categorie"},{field:"description",header:"Description"},{field:"status",header:"Statut"},{field:"is_load_onstart",header:"Onstart"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t),e.form.fields[0].fieldGroup[1].fieldGroup[0].templateOptions.label="SAVE"}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"core-parameters",!1)},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign(Object.assign({},e.model),{added_user:this.user.id});if(t.id&&null!=t.id){var a=t.id;t=_._.omit(t,["id"]),t=Object.assign(Object.assign({},t),{updated_user:this.user.id}),this.putData("".concat(_.T5,"/core-parameters/").concat(a),t,function(e){e instanceof v.UA||document.location.reload()})}else t=_._.omit(t,["id"]),this.postData("".concat(_.T5,"/core-parameters"),t,function(e){e instanceof v.UA||document.location.reload()})}},{key:"loadData",value:function(e){var t=this;setTimeout(function(){var a=null!=e.globalFilter?'&search={"sKey":"all","sValue":"'.concat(e.globalFilter,'"}'):"";t.loading=!0,t.getData("".concat(_.T5,"/core-parameters/?page=").concat(e.first/e.rows+1,"&per_page=").concat(e.rows).concat(a),function(e){e instanceof v.UA||(t.form.fields=t.mapFields(t.form.fields,"parent_key","templateOptions.options",e.body.rows))})},1)}}]),o}(b.K);return t.\u0275fac=function(e){return new(e||t)(m.Y36(E.Kf),m.Y36(N.O),m.Y36(k.L),m.Y36(x.dD),m.Y36(T.e),m.Y36(S.h))},t.\u0275cmp=m.Xpm({type:t,selectors:[["general"]],features:[m.qOj],decls:3,vars:19,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","styleClass","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(m.TgZ(0,"nz-spin",0),m.TgZ(1,"wl-form",1),m.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),m.qZA(),m.qZA(),m.TgZ(2,"wl-table",2),m.NdJ("onLazyLoad",function(e){return t.loadData(e)}),m.qZA()),2&e&&(m.Q6J("nzSpinning",t.isSpinning),m.xp6(1),m.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),m.xp6(1),m.Udp("margin-top","1rem"),m.Q6J("data",t.data)("styleClass","p-datatable-gridlines p-datatable-sm")("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","General Settings")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[L.W,A.U,C.a],styles:[""]}),t}(),w={},R={formState:{token:localStorage.getItem("token")}},I=[{wrappers:["panel-wrapper"],templateOptions:{label:"Layout",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"layout_primarycolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.PRIMARY_COLOR"}},{className:"flex-3",key:"layout_textcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.TEXT_COLOR"}},{className:"flex-3",key:"layout_theme",type:"select",templateOptions:{translate:!0,label:"THEME",options:[{label:"Dark",value:"dark"},{label:"Light",value:"light"}]},defaultValue:"dark"},{className:"flex-3",key:"layout_orientation",type:"select",templateOptions:{translate:!0,label:"THEME.ORIENTATION",options:[{label:"Vertical",value:"vertical"},{label:"Horizontal",value:"horizontal"}]},defaultValue:"vertical"},{className:"flex-3",key:"layout_mainnav",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_MAINNAV"},defaultValue:!0},{className:"flex-3",key:"layout_sidenav",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_SIDENAV"},defaultValue:!0}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Header",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap  ac-end",fieldGroup:[{className:"flex-3",key:"header_logo",type:"file-upload",templateOptions:{translate:!0,listType:"picture",uploadUrl:_.T5+"/upload",authToken:R.formState.token,fileBasePath:_.M5+"/",label:"FORM_LABEL.LOGO",fileList:[]},expressionProperties:{"templateOptions.hide":function(e,t,a){a.form.valueChanges.subscribe(function(e){e.header_logo||(a.templateOptions.fileList=[])})}},hooks:{onChanges:function(e){console.log("init logo => ",e.model),e.templateOptions.fileList=e.model.header_logo?[{url:e.model.header_logo,thumbUrl:e.model.header_logo}]:[]}}},{className:"flex-3",key:"header_bgcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.BG_COLOR"}},{className:"flex-3",key:"header_textcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.TEXT_COLOR"}},{className:"flex-3",key:"header_search",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_SEARCH"},defaultValue:!1},{className:"flex-3",key:"header_notifications",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_NOTIFICATIONS"},defaultValue:!0},{className:"flex-3",key:"header_messages",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_MESSAGES"},defaultValue:!1},{className:"flex-3",key:"header_langs",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_LANG"},defaultValue:!0},{className:"flex-3",key:"header_useractions",type:"checkbox",templateOptions:{translate:!0,label:"THEME.WITH_USERACTIONS"},defaultValue:!0}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Main Nav",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"mainnav_bgcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.BG_COLOR"}},{className:"flex-3",key:"mainnav_textcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.TEXT_COLOR"}},{className:"flex-3",key:"mainnav_fontweight",type:"input",templateOptions:{translate:!0,label:"THEME.FONT_WEIGHT"}},{className:"flex-3",key:"mainnav_fontsize",type:"input",templateOptions:{translate:!0,label:"THEME.FONT_SIZE"}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Side Nav",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"sidenav_bgcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.BG_COLOR"}},{className:"flex-3",key:"sidenav_textcolor",type:"input-color",templateOptions:{translate:!0,label:"THEME.TEXT_COLOR"}},{className:"flex-3",key:"sidenav_width",type:"input",templateOptions:{translate:!0,label:"WIDTH"},defaultValue:"210px"},{className:"flex-3",key:"sidenav_collapsible",type:"checkbox",templateOptions:{translate:!0,label:"THEME.COLLAPSIBLE"},defaultValue:!0},{className:"flex-3",key:"sidenav_collapsed",type:"checkbox",templateOptions:{translate:!0,label:"THEME.COLLAPSED"},defaultValue:!1}]}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-3",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:function(e){console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return!a.form.valid}}},{type:"button",templateOptions:{type:"reset",label:"Reset",bgcolor:"#000",textcolor:"#fff",click:function(e){e.options.resetModel(w)}}},{className:"flex-3",type:"button",templateOptions:{type:"button",label:"Download Config",colorType:"warning",click:function(e){var t=o(49457);console.log("clik on submit");var a=new Blob([JSON.stringify(e.model)],{type:"application/json"});t.saveAs(a,"theme.json")}}}]}],G=o(49457),B=function(){var t=function(t){e(o,t);var l=a(o);function o(e,t,a,i,s,r){var p;return n(this,o),(p=l.call(this,e,t,a,i,s,r)).logger=e,p.httpService=t,p.envService=a,p.messageService=i,p.authService=s,p.menuService=r,p}return s(o,[{key:"ngOnInit",value:function(){this.form.options=R,this.form.fields=w,this.form.fields=I,this.loadData()}},{key:"save",value:function(e){var t,a=this;this.logger.log("model: ",e.model);var l=Object.assign(Object.assign({},e.model),{header_logo:null!=e.model.header_logo?(null===(t=e.model.header_logo[0])||void 0===t?void 0:t.url)||e.model.header_logo:"",added_user:this.user.id});if(l.id&&null!=l.id){var o=l.id;l=Object.assign(Object.assign({},l),{updated_user:this.user.id}),_._.omit(l,["id"]),this.putData("".concat(_.T5,"/core-theme/").concat(o),l,function(e){e instanceof v.UA||(a.loadData(),document.location.reload())})}else l=_._.omit(l,["id"]),this.postData("".concat(_.T5,"/core-theme"),l,function(e){})}},{key:"loadData",value:function(){var e=this;this.isSpinning=!0,setTimeout(function(){e.getData("".concat(_.T5,"/core-theme"),function(t){e.isSpinning=!1,e.form.model=t.body.rows[0]||{},e.form.fields=e.mapFields(e.form.fields,"header_logo","templateOptions.fileList",[])})},500)}},{key:"downloadConfig",value:function(e){var t=new Blob([JSON.stringify(e.model)],{type:"application/json"});G.saveAs(t,"theme.json")}}]),o}(b.K);return t.\u0275fac=function(e){return new(e||t)(m.Y36(E.Kf),m.Y36(N.O),m.Y36(k.L),m.Y36(x.dD),m.Y36(T.e),m.Y36(S.h))},t.\u0275cmp=m.Xpm({type:t,selectors:[["theme"]],features:[m.qOj],decls:2,vars:5,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"]],template:function(e,t){1&e&&(m.TgZ(0,"nz-spin",0),m.TgZ(1,"wl-form",1),m.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),m.qZA(),m.qZA()),2&e&&(m.Q6J("nzSpinning",t.isSpinning),m.xp6(1),m.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options))},directives:[L.W,A.U],styles:[""]}),t}(),U={configs:[{}]},P={},D=[{type:"tabs",templateOptions:{},fieldGroup:[{templateOptions:{label:"General",icon:"tool"},fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{key:"id",type:"input",hide:!0},{className:"flex-7",key:"app_name",type:"input",templateOptions:{translate:!0,label:"APP_NAME"}},{className:"flex-7",key:"app_version",type:"input",templateOptions:{translate:!0,label:"APP_VERSION"}},{className:"flex-7",key:"app_default_lang",type:"select",templateOptions:{translate:!0,label:"APP_DEFAULT_LANG",url:_.T5+"/langs/load",valueProp:"code",labelProp:"label"}},{className:"flex-7",key:"api_base_url",type:"input",templateOptions:{translate:!0,label:"API_BASE_URL",addOnBefore:"https://",addOnAfter:".com"}},{className:"flex-7",key:"websocket_base_url",type:"input",templateOptions:{translate:!0,label:"WEBSOCKET_BASE_URL",addOnBefore:"https://",addOnAfter:".com"}},{className:"flex-7",key:"upload_dir",type:"input",templateOptions:{translate:!0,label:"UPLOAD_DIR"}},{className:"flex-7",key:"exchange_key",type:"input",templateOptions:{translate:!0,type:"password",suffixTemplate:{text:" "},label:"EXCHANGE_KEY"}},{className:"flex-7",key:"session_user_crypt_key",type:"input",templateOptions:{translate:!0,type:"password",suffixTemplate:{text:" "},label:"CLIENT_SESSION_USER_CRYPT_KEY"}},{className:"flex-7",key:"session_user_key",type:"input",templateOptions:{translate:!0,type:"password",suffixTemplate:{text:" "},label:"CLIENT_SESSION_USER_KEY"}}]},{templateOptions:{label:"MAIL",icon:"mail"},fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-5",key:"email_from",type:"input",templateOptions:{type:"email",translate:!0,label:"EMAIL"}},{className:"flex-5",key:"email_host",type:"input",templateOptions:{translate:!0,label:"HOST"}},{className:"flex-3",key:"email_port",type:"input",templateOptions:{type:"number",translate:!0,label:"PORT"}},{className:"flex-3",key:"email_username",type:"input",templateOptions:{translate:!0,label:"USER"}},{className:"flex-3",key:"email_password",type:"input",templateOptions:{translate:!0,label:"PASSWORD"}}]},{templateOptions:{label:"SMS",icon:"message"},fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-5",key:"sms_from",type:"input",templateOptions:{translate:!0,label:"EMAIL"}},{className:"flex-5",key:"sms_host",type:"input",templateOptions:{translate:!0,label:"HOST"}},{className:"flex-3",key:"sms_port",type:"input",templateOptions:{type:"number",translate:!0,label:"PORT"}},{className:"flex-3",key:"sms_user",type:"input",templateOptions:{translate:!0,label:"USER"}},{className:"flex-3",key:"sms_password",type:"input",templateOptions:{translate:!0,label:"PASSWORD"}}]},{templateOptions:{label:"NOTIFICATIONS",icon:"bell"},fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-10",key:"notif_sms",type:"checkbox",templateOptions:{translate:!0,label:"SMS_IS_ACTIVE"}},{className:"flex-10",key:"notif_email",type:"checkbox",templateOptions:{translate:!0,label:"MAIL_IS_ACTIVE"}},{className:"flex-10",key:"notif_push",type:"checkbox",templateOptions:{translate:!0,label:"PUSH_IS_ACTIVE"}}]},{templateOptions:{label:"OAUTH",icon:"fork"},fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-10",key:"oauth_sso",type:"checkbox",templateOptions:{translate:!0,label:"SSO_AUTH"}},{className:"flex-10",key:"oauth_google",type:"checkbox",templateOptions:{translate:!0,label:"GOOGLE_AUTH"}}]}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:function(e){console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return!a.form.valid}}},{className:"flex-1",type:"button",templateOptions:{type:"reset",label:"Reset",bgColor:"#000",textColor:"#fff",click:function(e){e.options.resetModel()}}}]}],F={},j={},Y=[{wrappers:["fieldset-wrapper"],templateOptions:{label:"Formulaire de cr\xe9ation",toggleable:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-6",key:"code",type:"input",templateOptions:{translate:!0,label:"CODE_NOTIF"}},{className:"flex-2",key:"type",type:"select",templateOptions:{translate:!0,label:"TYPE",options:[{label:"Mail",value:"mail"},{label:"SMS",value:"sms"},{label:"Push",value:"push"},{label:"WhatsApp",value:"whatsapp"}]}},{className:"flex-2",key:"level",type:"select",templateOptions:{translate:!0,label:"LEVEL",options:[{label:"Info",value:"info"},{label:"Alert",value:"alert"}]}},{className:"flex-10",key:"subject",type:"input",templateOptions:{translate:!0,label:"SUBJECT"}},{className:"flex-10",key:"content",type:"textarea",templateOptions:{translate:!0,label:"CONTENT"}},{className:"flex-auto",key:"status",type:"checkbox",templateOptions:{translate:!0,label:"FORM_LABEL.IS_ACTIVE"}}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"FORM_LABEL.SUBMIT",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:function(e){console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return!a.form.valid}}},{type:"button",templateOptions:{type:"reset",label:"Reset",bgColor:"#000",textColor:"#fff",click:function(e){e.options.resetModel(F)}}}]}]}],H=[{path:"",component:y},{path:"parameter-general",component:M,data:{title:"MENU_LABEL.Parameter",breadcrumb:"MENU_LABEL.Parameter"}},{path:"reference",loadChildren:function(){return Promise.all([o.e(22),o.e(884)]).then(o.bind(o,9884)).then(function(e){return e.ReferenceModule})},data:{title:"MENU_LABEL.Reference",breadcrumb:"MENU_LABEL.Reference"}},{path:"regional",loadChildren:function(){return o.e(368).then(o.bind(o,17368)).then(function(e){return e.RegionalModule})},data:{title:"MENU_LABEL.Regional",breadcrumb:"MENU_LABEL.Regional"}},{path:"theme",component:B,data:{title:"MENU_LABEL.Graphical_Charter",breadcrumb:"MENU_LABEL.Graphical_Charter"}},{path:"core",component:(p=function(t){e(o,t);var l=a(o);function o(e,t,a,i,s,r){var p;return n(this,o),(p=l.call(this,e,t,a,i,s,r)).logger=e,p.httpService=t,p.envService=a,p.messageService=i,p.authService=s,p.menuService=r,p}return s(o,[{key:"ngOnInit",value:function(){this.form.options=P,this.form.model=U,this.form.fields=D,this.loadData()}},{key:"save",value:function(e){var t=this;this.logger.log("model: ",e.model);var a=Object.assign(Object.assign({},e.model),{added_user:this.user.id});if(a.id&&null!=a.id){var l=a.id;a=_._.omit(a,["id"]),this.httpService.putData("".concat(_.T5,"/core-config/").concat(l),a).subscribe(function(e){t.logger.log("putData response ===> ",e),t.data.push(e.body.data),t.totalRecords++,t.setMessage("success",e.body.message),document.location.reload()},function(e){t.logger.log("putData error ===> ",e),t.setBackendError(e.error)},function(){t.form.fields[1].fieldGroup[0].templateOptions.loading=!1})}else a=_._.omit(a,["id"]),this.httpService.postData("".concat(_.T5,"/core-config"),a).subscribe(function(e){t.logger.log("postData response ===> ",e),t.data.push(e.body.data),t.totalRecords++,t.setMessage("success",e.body.message)},function(e){t.logger.log("postData error ===> ",e),t.setBackendError(e.error)},function(){t.form.fields[1].fieldGroup[0].templateOptions.loading=!1})}},{key:"loadData",value:function(){var e=this;this.isSpinning=!0,setTimeout(function(){e.getData("".concat(_.T5,"/core-config/"),function(t){e.isSpinning=!1,e.form.model=t.body.rows[0]||{}})},1)}}]),o}(b.K),p.\u0275fac=function(e){return new(e||p)(m.Y36(E.Kf),m.Y36(N.O),m.Y36(k.L),m.Y36(x.dD),m.Y36(T.e),m.Y36(S.h))},p.\u0275cmp=m.Xpm({type:p,selectors:[["core"]],features:[m.qOj],decls:1,vars:4,consts:[[3,"alert","model","fields","options","onSubmit","onModelChange"]],template:function(e,t){1&e&&(m.TgZ(0,"wl-form",0),m.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),m.qZA()),2&e&&m.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options)},directives:[A.U],styles:[""]}),p),data:{title:"MENU_LABEL.Core",breadcrumb:"MENU_LABEL.Core"}},{path:"security",component:(r=function(t){e(o,t);var l=a(o);function o(e,t,a,i,s,r){var p;return n(this,o),(p=l.call(this,e,t,a,i,s,r)).logger=e,p.httpService=t,p.envService=a,p.messageService=i,p.authService=s,p.menuService=r,p}return s(o,[{key:"ngOnInit",value:function(){}}]),o}(b.K),r.\u0275fac=function(e){return new(e||r)(m.Y36(E.Kf),m.Y36(N.O),m.Y36(k.L),m.Y36(x.dD),m.Y36(T.e),m.Y36(S.h))},r.\u0275cmp=m.Xpm({type:r,selectors:[["security"]],features:[m.qOj],decls:2,vars:0,template:function(e,t){1&e&&(m.TgZ(0,"p"),m._uU(1," security works "),m.qZA())},styles:[""]}),r),data:{title:"MENU_LABEL.Security",breadcrumb:"MENU_LABEL.Security"}},{path:"notifications",component:(i=function(t){e(o,t);var l=a(o);function o(e,t,a,i,s,r){var p;return n(this,o),(p=l.call(this,e,t,a,i,s,r)).logger=e,p.httpService=t,p.envService=a,p.messageService=i,p.authService=s,p.menuService=r,p}return s(o,[{key:"ngOnInit",value:function(){var e=this;this.form.options=j,this.form.fields=F,this.form.fields=Y,this.columns=[{field:"code",header:"FORM_LABEL.CODE"},{field:"type",header:"TYPE"},{field:"level",header:"LEVEL"},{field:"subject",header:"SUBJECT"},{field:"content",header:"CONTENT"},{field:"status",header:"STATUS",type:"status"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t),e.form.fields[0].fieldGroup[1].fieldGroup[0].templateOptions.label="SAVE"}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"core-notifications",!1)},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign(Object.assign({},e.model),{added_user:this.user.id});if(t.id&&null!=t.id){var a=t.id;_._.omit(t,["id"]),this.putData("".concat(_.T5,"/core-notifications/").concat(a),t)}else t=_._.omit(t,["id"]),this.postData("".concat(_.T5,"/core-notifications"),t)}},{key:"loadData",value:function(e){var t=this;this.logger.log("loadData event: ",e),setTimeout(function(){var a=null!=e.globalFilter?'&search={"sKey":"all","sValue":"'.concat(e.globalFilter,'"}'):"";t.loading=!0,t.getData("".concat(_.T5,"/core-notifications/?page=").concat(e.first/e.rows+1,"&per_page=").concat(e.rows).concat(a))},1)}}]),o}(b.K),i.\u0275fac=function(e){return new(e||i)(m.Y36(E.Kf),m.Y36(N.O),m.Y36(k.L),m.Y36(x.dD),m.Y36(T.e),m.Y36(S.h))},i.\u0275cmp=m.Xpm({type:i,selectors:[["notifications"]],features:[m.qOj],decls:2,vars:18,consts:[[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","styleClass","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(m.TgZ(0,"wl-form",0),m.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),m.qZA(),m.TgZ(1,"wl-table",1),m.NdJ("onLazyLoad",function(e){return t.loadData(e)}),m.qZA()),2&e&&(m.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),m.xp6(1),m.Udp("margin-top","1rem"),m.Q6J("data",t.data)("styleClass","p-datatable-gridlines p-datatable-sm")("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","NOTIFICATIONS")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[A.U,C.a],styles:[""]}),i),data:{title:"MENU_LABEL.Notifications",breadcrumb:"MENU_LABEL.Notifications"}},{path:"parameter-metier",loadChildren:function(){return o.e(684).then(o.bind(o,43684)).then(function(e){return e.ParametrageMetierModule})},data:{title:"MENU_LABEL.Param_Metier",breadcrumb:"MENU_LABEL.Param_Metier"}}],V=function(){var e=s(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[d.Bz.forChild(H)],d.Bz]}),e}(),z=o(97234),Z=((c=s(function e(){n(this,e)})).\u0275fac=function(e){return new(e||c)},c.\u0275mod=m.oAB({type:c}),c.\u0275inj=m.cJS({providers:[{provide:v.TP,useClass:z.s,multi:!0}],imports:[[u.ez,f.u5,f.UX,V,A.e,C.n,L.j]]}),c)}}])}();