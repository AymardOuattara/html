!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,(o=l.key,n=void 0,"symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?n:String(n)),l)}var o,n}function a(e,a,l){return a&&t(e.prototype,a),l&&t(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,l=r(e);if(t){var o=r(this).constructor;a=Reflect.construct(l,arguments,o)}else a=l.apply(this,arguments);return i(this,a)}}function i(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkwil_admin_angular=self.webpackChunkwil_admin_angular||[]).push([[262],{4262:function(t,o,i){"use strict";i.r(o),i.d(o,{WorkflowModule:function(){return ie}});var r,s,p=i(38583),u=i(3679),m=i(977),d=i(65461),f=i(66782),c=i(95987),b=i(99688),g={configs:[{}]},y={},x=[{wrappers:["panel-wrapper"],templateOptions:{label:"Demandeur",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-6",key:"respoDemandeur",type:"input",templateOptions:{label:"Nom et Prenom(s) du responsable",readonly:!0}},{className:"flex-4",key:"fctionDemandeur",type:"input",templateOptions:{label:"Fonction du responsable",readonly:!0}},{className:"flex-2",key:"nomDemandeur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-2",key:"prenomDemandeur",type:"input",templateOptions:{label:"prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionDemandeur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeDemandeur",type:"input",templateOptions:{label:"Matricule",readonly:!0}},{className:"flex-2",key:"codeClient",type:"input",templateOptions:{label:"Code client"}}]},{template:"<center><p>Les informations relatives au demandeur sont r\xe9cup\xe9r\xe9es en arri\xe8re plan.</p></center>"},{wrappers:["accordion-wrapper"],fieldGroup:[{templateOptions:{label:"Enregistrement du bon blanc"},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-10",key:"motifclient",type:"textarea",templateOptions:{label:"Motif"}},{className:"flex-3",key:"affectationBon",type:"input",templateOptions:{label:"Affectation"}},{className:"flex-3",key:"montant",type:"input",templateOptions:{label:"Montant",type:"number"}}]}]}]},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-2",key:"total",type:"input",templateOptions:{type:"number",label:"Total",placeholder:"en FCFA"}},{className:"flex-2",key:"totalLettre",type:"input",templateOptions:{label:"Montant total en lettre"}},{className:"flex-1",key:"timbre",type:"input",templateOptions:{type:"number",label:"Timbre per\xe7u",placeholder:"en FCFA"}},{className:"flex-2",key:"dateValidation",type:"input",templateOptions:{label:"Date d'\xe9mission de demande",type:"date"}}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{type:"submit",label:"Soumettre",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:function(e){console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return!a.form.valid}}},{type:"button",templateOptions:{type:"reset",label:"R\xe9initialiser",bgColor:"#000",textColor:"#fff",click:function(e){e.options.resetModel(g)}}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Chef de service",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"nomChef",type:"input",templateOptions:{label:"Nom"}},{className:"flex-3",key:"prenomChef",type:"input",templateOptions:{label:"Prenom(s)"}},{className:"flex-2",key:"codeClient",type:"input",templateOptions:{label:"Code client"}},{className:"flex-2",key:"matricule",type:"input",templateOptions:{label:"Matricule"}},{className:"flex-10",key:"date",type:"input",templateOptions:{label:"Date de validation",type:"date"}}]},{template:"<center><p>Les informations relatives au validateur sont r\xe9cup\xe9r\xe9es \xe0 la connexion. Veuillez entrer valider ou non cette demande d'office en indiquant votre avis dans l'espace d\xe9di\xe9.</p></center>"},{fieldGroup:[{key:"submitChef",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submitChef").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserChef").value||!a.form.valid}}},{key:"refuserChef",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){return e.form.get("refuserChef").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserChef").value||"soumis"===a.form.get("submitChef").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuserChef"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuserChef"}},{className:"flex-1",key:"resetMotif",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuserChef"}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Direction Administrative et Financi\xe8re",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-10",key:"dateDAF",type:"input",templateOptions:{type:"date",label:"date"}},{className:"flex-3",key:"imputationBudget",type:"input",templateOptions:{type:"number",label:"Imputation budgetaire",placeholder:"en CFA",change:function(e){if(null!=e.form.get("imputationBudget").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}}}},{className:"flex-3",key:"budgetDispo",type:"input",templateOptions:{label:"Budget disponible",type:"number",placeholder:"en CFA",change:function(e){if(null!=e.form.get("imputationBudget").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}}}},{className:"flex-3",key:"budgetRestant",type:"input",templateOptions:{label:"Budget restant",readonly:!0,placeholder:"en CFA"}}]}]},{fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submit").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||!a.form.valid}}},{key:"refuser",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){e.form.get("refuser").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||"soumis"===a.form.get("submit").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"annulerRefus",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuser"}}]}]}],v=i(37716),h=i(44212),O=i(18859),k=i(52121),C=i(68058),N=i(4768),D=i(28723),V=function(){var t=function(t){l(i,t);var o=n(i);function i(t,a,l,n,r,s){var p;return e(this,i),(p=o.call(this,t,a,l,n,r,s)).logger=t,p.httpService=a,p.envService=l,p.messageService=n,p.authService=r,p.menuService=s,p}return a(i,[{key:"ngOnInit",value:function(){var e=this;this.form.model=g,this.form.options=y,this.form.fields=x,this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"cash-receipt")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),i}(b.K);return t.\u0275fac=function(e){return new(e||t)(v.Y36(h.Kf),v.Y36(O.O),v.Y36(k.L),v.Y36(C.dD),v.Y36(N.e),v.Y36(D.h))},t.\u0275cmp=v.Xpm({type:t,selectors:[["cash-receipt"]],features:[v.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(v.TgZ(0,"nz-spin",0),v.TgZ(1,"wl-form",1),v.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),v.qZA(),v.qZA(),v.TgZ(2,"wl-table",2),v.NdJ("onLazyLoad",function(e){return t.loadData(e)}),v.qZA()),2&e&&(v.Q6J("nzSpinning",t.isSpinning),v.xp6(1),v.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),v.xp6(1),v.Udp("margin-top","1rem"),v.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","CashReceipt ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[f.W,d.U,m.a],styles:[""]}),t}(),w={},A={},T=[{fieldGroup:[{key:"numDebit",type:"input",templateOptions:{type:"number",label:"Numero de debit"},defaultValue:1}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Demandeur",toggleable:!0,collapsed:!0},fieldGroup:[{template:"<p>Veuillez renseigner les informations relatives au demandeur.</p>"},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-7",key:"respoDemandeur",type:"input",templateOptions:{label:"Nom et Prenom du responsable du demandeur",readonly:!0}},{className:"flex-3",key:"fctionDemandeur",type:"input",templateOptions:{label:"Fonction du responsable",readonly:!0}},{className:"flex-3",key:"nomDemandeur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-3",key:"prenomDemandeur",type:"input",templateOptions:{label:"Prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionDemandeur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeDemandeur",type:"input",templateOptions:{label:"Matricule",readonly:!0}}]},{fieldGroup:[{template:"<p>Veuillez indiquer les besoins.</p>"},{key:"repeatKey",type:"repeat",templateOptions:{addText:"Ajouter un V\xe9hicule"},fieldArray:{wrappers:["accordion-wrapper"],fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",templateOptions:{label:"V\xe9hicule \xe0 c\xe9der"},fieldGroup:[{className:"flex-3",key:"marqueVehicule",type:"input",templateOptions:{label:"Marque du v\xe9hicule"}},{className:"flex-3",key:"modeleVehicule",type:"input",templateOptions:{label:"Mod\xe8le du v\xe9hicule"}},{className:"flex-3",key:"numeroChassis",type:"input",templateOptions:{label:"Num\xe9ro de ch\xe2ssis"}},{className:"flex-10",key:"nomExProprio",type:"input",templateOptions:{label:"Ancien detenteur du v\xe9hicule"}},{className:"flex-3",key:"dateCession",type:"input",templateOptions:{type:"date",label:"Date de cession du v\xe9hicule"}},{className:"flex-3",key:"DebutPeriode",type:"input",templateOptions:{type:"date",label:"D\xe9but de p\xe9riode d'acquisition"}},{className:"flex-3",key:"FinPeriode",type:"input",templateOptions:{type:"date",label:"Fin de p\xe9riode d'acquisition"}},{className:"flex-10",key:"prixAchat",type:"input",templateOptions:{label:"Prix d'achat"}},{className:"flex-3",type:"input",key:"quantite",templateOptions:{label:"Quantit\xe9",type:"number",placeholder:"Nombre de v\xe9hicules pour ce mod\xe8le",required:!0,change:function(e){if(null!=e.form.get("quantite").value&&null!=e.form.get("montantCession").value){var t=e.form.get("quantite").value*e.form.get("montantCession").value;e.form.get("montantCession").setValue(t)}},defaultValue:1}},{className:"flex-3",type:"input",key:"montantCession",templateOptions:{label:"Montant de Cession",type:"number",placeholder:"En cfa",required:!0,change:function(e){if(null!=e.form.get("quantite").value&&null!=e.form.get("montantCession").value){var t=e.form.get("quantite").value*e.form.get("montantCession").value;e.form.get("montantModel").setValue(t)}}}},{className:"flex-3",type:"input",key:"montantModel",templateOptions:{type:"number",label:"Montant total de cession",readonly:!0}}]}]}}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{type:"submit",label:"Soumettre",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:function(e){console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return!a.form.valid}}},{type:"button",templateOptions:{type:"reset",label:"R\xe9initialiser",bgColor:"#000",textColor:"#fff",click:function(e){e.options.resetModel(w)}}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Chef de service",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"nomValidateur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-3",key:"prenomValidateur",type:"input",templateOptions:{label:"Prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionValidateur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeValidateur",type:"input",templateOptions:{label:"Matricule",readonly:!0}},{template:"<center><p>Les informations relatives au validateur sont r\xe9cup\xe9r\xe9e \xe0 la connexion. Veuillez entrer valider ou non cette demande d'office en indiquant votre avis dans l'espace d\xe9di\xe9.</p></center>"}]},{fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submit").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||!a.form.valid}}},{key:"refuser",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){e.form.get("refuser").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||"soumis"===a.form.get("submit").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"annulerRefus",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuser"}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Direction Administrative et financi\xe8re",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"imputationBudget",type:"input",templateOptions:{label:"Imputation budgetaire",type:"number",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-3",key:"budgetDispo",type:"input",templateOptions:{label:"Budget disponible",type:"number",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-3",key:"budgetRestant",type:"input",templateOptions:{label:"Budget restant",readonly:!0,placeholder:"en CFA"}},{className:"flex-1",key:"bonCaisse",type:"checkbox",templateOptions:{label:"Execution par Bon de caisse",change:function(e){if(!0===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!1)}if(!1===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!0)}if(!0===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!1)}if(!1===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!0)}}},defaultValue:!1},{className:"flex-1",key:"bonCommande",type:"checkbox",templateOptions:{label:"Execution par Bon de commande",change:function(e){if(!0===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!1)}if(!1===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!0)}if(!0===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!1)}if(!1===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!0)}}},defaultValue:!1}]},{fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submit").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||!a.form.valid}}},{key:"refuser",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){return e.form.get("refuser").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||"soumis"===a.form.get("submit").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"resetMotif",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuser"}}]}]}],F=function(){var t=function(t){l(i,t);var o=n(i);function i(t,a,l,n,r,s){var p;return e(this,i),(p=o.call(this,t,a,l,n,r,s)).logger=t,p.httpService=a,p.envService=l,p.messageService=n,p.authService=r,p.menuService=s,p}return a(i,[{key:"ngOnInit",value:function(){var e=this;this.form.model=w,this.form.options=A,this.form.fields=T,this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"disposal-of-vehicles")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),i}(b.K);return t.\u0275fac=function(e){return new(e||t)(v.Y36(h.Kf),v.Y36(O.O),v.Y36(k.L),v.Y36(C.dD),v.Y36(N.e),v.Y36(D.h))},t.\u0275cmp=v.Xpm({type:t,selectors:[["disposal-of-vehicles"]],features:[v.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(v.TgZ(0,"nz-spin",0),v.TgZ(1,"wl-form",1),v.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),v.qZA(),v.qZA(),v.TgZ(2,"wl-table",2),v.NdJ("onLazyLoad",function(e){return t.loadData(e)}),v.qZA()),2&e&&(v.Q6J("nzSpinning",t.isSpinning),v.xp6(1),v.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),v.xp6(1),v.Udp("margin-top","1rem"),v.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","DisposalOfVehicles ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[f.W,d.U,m.a],styles:[""]}),t}(),S={configs:[{}]},G={},P=[{wrappers:["panel-wrapper"],templateOptions:{label:"Demandeur",toggleable:!0,collapsed:!0},fieldGroup:[{template:"<p>Veuillez renseigner les informations relatives au demandeur.</p>"},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-6",key:"respoDemandeur",type:"input",templateOptions:{label:"Nom et Prenom(s) du responsable",readonly:!0}},{className:"flex-4",key:"fctionDemandeur",type:"input",templateOptions:{label:"Fonction du responsable",readonly:!0}},{className:"flex-2",key:"nomDemandeur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-2",key:"prenomDemandeur",type:"input",templateOptions:{label:"prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionDemandeur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeDemandeur",type:"input",templateOptions:{label:"Matricule",readonly:!0}},{className:"flex-10",key:"motifDemandeur",type:"textarea",templateOptions:{label:"Motif de demande"}}]},{wrappers:["accordion-wrapper"],fieldGroup:[{templateOptions:{label:"Enregistrement de la demande d'achat"},fieldGroup:[{key:"repeatKey",type:"repeat",templateOptions:{addText:"Ajouter un article"},fieldArray:{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-4",type:"input",key:"achat",templateOptions:{label:"Libell\xe9 de l'achat",placeholder:"Nom"}},{className:"flex-1",type:"input",key:"quantite",templateOptions:{label:"Quanti\xe9",type:"number",placeholder:"Nombre",change:function(e){if(null!=e.form.get("quantite").value&&null!=e.form.get("prixUnitaire").value){var t=e.form.get("quantite").value*e.form.get("prixUnitaire").value;e.form.get("montant").setValue(t)}}}},{className:"flex-1",type:"input",key:"prixUnitaire",templateOptions:{label:"Prix Unitaire",type:"number",placeholder:"En cfa",change:function(e){if(null!=e.form.get("quantite").value&&null!=e.form.get("prixUnitaire").value){var t=e.form.get("quantite").value*e.form.get("prixUnitaire").value;e.form.get("montant").setValue(t)}}}},{className:"flex-3",type:"input",key:"montant",templateOptions:{type:"number",label:"Montant en cfa",placeholder:"en cfa",readonly:!0}}]}}]}]},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-2",key:"total",type:"input",templateOptions:{type:"number",label:"Total",placeholder:"en FCFA"}},{className:"flex-2",key:"totalLettre",type:"input",templateOptions:{label:"Montant total en lettre"}},{className:"flex-1",key:"timbre",type:"input",templateOptions:{type:"number",label:"Timbre per\xe7u",placeholder:"en FCFA"}},{className:"flex-2",key:"dateSoumission",type:"input",templateOptions:{label:"Date de Soumission",type:"date"}}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{type:"submit",label:"Soumettre",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:function(e){console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return!a.form.valid}}},{type:"button",templateOptions:{type:"reset",label:"R\xe9initialiser",bgColor:"#000",textColor:"#fff",click:function(e){e.options.resetModel(S)}}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Chef de service",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-10",key:"dateChef",type:"input",templateOptions:{label:"Date",type:"date"}},{className:"flex-3",key:"nomValidateur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-3",key:"prenomValidateur",type:"input",templateOptions:{label:"Prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionValidateur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeValidateur",type:"input",templateOptions:{label:"Matricule",readonly:!0}},{template:"<center><p>Les informations relatives au validateur sont r\xe9cup\xe9r\xe9e \xe0 la connexion. Veuillez entrer valider ou non cette demande d'office en indiquant votre avis dans l'espace d\xe9di\xe9.</p></center>"}]},{fieldGroup:[{key:"submitChef",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submitChef").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserChef").value||!a.form.valid}}},{key:"refuserChef",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){e.form.get("refuserChef").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserChef").value||"soumis"===a.form.get("submitChef").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuserChef"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuserChef"}},{className:"flex-1",key:"annulerRefus",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuserChef"}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Direction Admnistrative et Financi\xe8re",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-1",key:"dateChef",type:"input",templateOptions:{label:"Date",type:"date"}},{className:"flex-3",key:"imputationBudget",type:"input",templateOptions:{label:"Imputation budgetaire",type:"number",placeholder:"en CFA",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-3",key:"budgetDispo",type:"input",templateOptions:{label:"Budget disponible",type:"number",placeholder:"en CFA",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-3",key:"budgetRestant",type:"input",templateOptions:{label:"Budget restant",readonly:!0,placeholder:"en CFA"}},{className:"flex-1",key:"bonCaisse",type:"checkbox",templateOptions:{label:"Execution par Bon de caisse",change:function(e){if(!0===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!1)}if(!1===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!0)}if(!0===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!1)}if(!1===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!0)}}},defaultValue:!1},{className:"flex-1",key:"bonCommande",type:"checkbox",templateOptions:{label:"Execution par Bon de commande",change:function(e){if(!0===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!1)}if(!1===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!0)}if(!0===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!1)}if(!1===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!0)}}},defaultValue:!1}]},{fieldGroup:[{key:"submitDAF",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submitDAF").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserDAF").value||!a.form.valid}}},{key:"refuserDAF",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){return e.form.get("refuserDAF").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserDAF").value||"soumis"===a.form.get("submitDAF").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuserDAF"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuserDAF"}},{className:"flex-1",key:"resetMotif",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuserDAF"}}]}]}],R=function(){var t=function(t){l(i,t);var o=n(i);function i(t,a,l,n,r,s){var p;return e(this,i),(p=o.call(this,t,a,l,n,r,s)).logger=t,p.httpService=a,p.envService=l,p.messageService=n,p.authService=r,p.menuService=s,p}return a(i,[{key:"ngOnInit",value:function(){var e=this;this.form.model=S,this.form.options=G,this.form.fields=P,this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"order-sheet")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),i}(b.K);return t.\u0275fac=function(e){return new(e||t)(v.Y36(h.Kf),v.Y36(O.O),v.Y36(k.L),v.Y36(C.dD),v.Y36(N.e),v.Y36(D.h))},t.\u0275cmp=v.Xpm({type:t,selectors:[["order-sheet"]],features:[v.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(v.TgZ(0,"nz-spin",0),v.TgZ(1,"wl-form",1),v.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),v.qZA(),v.qZA(),v.TgZ(2,"wl-table",2),v.NdJ("onLazyLoad",function(e){return t.loadData(e)}),v.qZA()),2&e&&(v.Q6J("nzSpinning",t.isSpinning),v.xp6(1),v.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),v.xp6(1),v.Udp("margin-top","1rem"),v.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","OrderSheet ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[f.W,d.U,m.a],styles:[""]}),t}(),_={configs:[{}]},q={},z=[{wrappers:["panel-wrapper"],templateOptions:{label:"Demandeur",toggleable:!0,collapsed:!0},fieldGroup:[{template:"<p>Veuillez renseigner les informations relatives au demandeur.</p>"},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-6",key:"respoDemandeur",type:"input",templateOptions:{label:"Nom et Prenom(s) du responsable",readonly:!0}},{className:"flex-4",key:"fctionDemandeur",type:"input",templateOptions:{label:"Fonction du responsable",readonly:!0}},{className:"flex-2",key:"nomDemandeur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-2",key:"prenomDemandeur",type:"input",templateOptions:{label:"prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionDemandeur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeDemandeur",type:"input",templateOptions:{label:"Matricule",readonly:!0}},{className:"flex-10",key:"motifDemandeur",type:"textarea",templateOptions:{label:"Motif de demande"}}]},{template:"<center><p>Les informations relatives au demandeur sont r\xe9cup\xe9r\xe9es en arri\xe8re plan.</p></center>"},{wrappers:["accordion-wrapper"],fieldGroup:[{templateOptions:{label:"Enregistrement de la demande d'achat"},fieldGroup:[{key:"repeatKey",type:"repeat",templateOptions:{addText:"Ajouter un article"},fieldArray:{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-4",type:"input",key:"achat",templateOptions:{label:"Libell\xe9 de l'achat",placeholder:"Nom"}},{className:"flex-1",type:"input",key:"quantite",templateOptions:{label:"Quanti\xe9",type:"number",placeholder:"Nombre",change:function(e){if(null!=e.form.get("quantite").value&&null!=e.form.get("prixUnitaire").value){var t=e.form.get("quantite").value*e.form.get("prixUnitaire").value;e.form.get("montant").setValue(t)}}}},{className:"flex-1",type:"input",key:"qteStock",templateOptions:{label:"Qt\xe9 en stock",type:"number"}},{className:"flex-1",type:"input",key:"prixUnitaire",templateOptions:{label:"Prix Unitaire",type:"number",placeholder:"En cfa",change:function(e){if(null!=e.form.get("quantite").value&&null!=e.form.get("prixUnitaire").value){var t=e.form.get("quantite").value*e.form.get("prixUnitaire").value;e.form.get("montant").setValue(t)}}}},{className:"flex-3",type:"input",key:"montant",templateOptions:{type:"number",label:"Montant en cfa",placeholder:"en cfa",readonly:!0}}]}}]}]},{key:"dateDemande",type:"input",templateOptions:{label:"Date",type:"date"}},{fieldGroupClassName:"action-bloc",fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{type:"submit",label:"Soumettre",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:function(e){console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return!a.form.valid}}},{type:"button",templateOptions:{type:"reset",label:"R\xe9initialiser",bgColor:"#000",textColor:"#fff",click:function(e){e.options.resetModel(_)}}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Chef de service",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-1",key:"date",type:"input",templateOptions:{label:"Date",type:"date"}},{className:"flex-2",key:"nomValidateur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-2",key:"prenomValidateur",type:"input",templateOptions:{label:"Prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionValidateur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeValidateur",type:"input",templateOptions:{label:"Matricule",readonly:!0}}]},{template:"<center><p>Les informations relatives au validateur sont r\xe9cup\xe9r\xe9e \xe0 la connexion. Veuillez entrer valider ou non cette demande d'office en indiquant votre avis dans l'espace d\xe9di\xe9.</p></center>"},{fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submit").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||!a.form.valid}}},{key:"refuser",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){e.form.get("refuser").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||"soumis"===a.form.get("submit").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"annulerRefus",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuser"}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Direction Administration et Financi\xe8re",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-1",key:"date",type:"input",templateOptions:{label:"Date",type:"date"}},{className:"flex-3",key:"imputationBudget",type:"input",templateOptions:{label:"Imputation budgetaire",type:"number",placeholder:"en CFA",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-3",key:"budgetDispo",type:"input",templateOptions:{label:"Budget disponible",type:"number",placeholder:"en CFA",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-3",key:"budgetRestant",type:"input",templateOptions:{label:"Budget restant",readonly:!0}},{className:"flex-1",key:"bonCaisse",type:"checkbox",templateOptions:{label:"Execution par Bon de caisse",change:function(e){if(!0===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!1)}if(!1===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!0)}if(!0===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!1)}if(!1===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!0)}}},defaultValue:!1},{className:"flex-1",key:"bonCommande",type:"checkbox",templateOptions:{label:"Execution par Bon de commande",change:function(e){if(!0===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!1)}if(!1===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!0)}if(!0===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!1)}if(!1===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!0)}}},defaultValue:!1}]},{fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submit").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||!a.form.valid}}},{key:"refuser",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){return e.form.get("refuser").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||"soumis"===a.form.get("submit").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"resetMotif",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuser"}}]}]}],j=function(){var t=function(t){l(i,t);var o=n(i);function i(t,a,l,n,r,s){var p;return e(this,i),(p=o.call(this,t,a,l,n,r,s)).logger=t,p.httpService=a,p.envService=l,p.messageService=n,p.authService=r,p.menuService=s,p}return a(i,[{key:"ngOnInit",value:function(){var e=this;this.form.model=_,this.form.options=q,this.form.fields=z,this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"processing-of-purchase-orders")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),i}(b.K);return t.\u0275fac=function(e){return new(e||t)(v.Y36(h.Kf),v.Y36(O.O),v.Y36(k.L),v.Y36(C.dD),v.Y36(N.e),v.Y36(D.h))},t.\u0275cmp=v.Xpm({type:t,selectors:[["processing-of-purchase-orders"]],features:[v.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(v.TgZ(0,"nz-spin",0),v.TgZ(1,"wl-form",1),v.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),v.qZA(),v.qZA(),v.TgZ(2,"wl-table",2),v.NdJ("onLazyLoad",function(e){return t.loadData(e)}),v.qZA()),2&e&&(v.Q6J("nzSpinning",t.isSpinning),v.xp6(1),v.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),v.xp6(1),v.Udp("margin-top","1rem"),v.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","ProcessingOfPurchaseOrders ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[f.W,d.U,m.a],styles:[""]}),t}(),B={configs:[{}]},M={},L=[{wrappers:["panel-wrapper"],templateOptions:{label:"Demandeur",toggleable:!0,collapsed:!0},fieldGroup:[{template:"<p>Veuillez renseigner les informations relatives au demandeur.</p>"},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-6",key:"respoDemandeur",type:"input",templateOptions:{label:"Nom et Prenom(s) du responsable",readonly:!0}},{className:"flex-4",key:"fctionDemandeur",type:"input",templateOptions:{label:"Fonction du responsable",readonly:!0}},{className:"flex-2",key:"nomDemandeur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-2",key:"prenomDemandeur",type:"input",templateOptions:{label:"prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionDemandeur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeDemandeur",type:"input",templateOptions:{label:"Matricule",readonly:!0}},{className:"flex-10",key:"motifDemandeur",type:"textarea",templateOptions:{label:"Motif de demande"}}]},{wrappers:["accordion-wrapper"],fieldGroup:[{templateOptions:{label:"Enregistrement de la demande d'achat"},fieldGroup:[{key:"repeatKey",type:"repeat",templateOptions:{addText:"Ajouter un article"},fieldArray:{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-4",type:"input",key:"achat",templateOptions:{label:"Libell\xe9 de l'achat",placeholder:"Nom"}},{className:"flex-1",type:"input",key:"quantite",templateOptions:{label:"Quanti\xe9",type:"number",placeholder:"Nombre",change:function(e){if(null!=e.form.get("quantite").value&&null!=e.form.get("prixUnitaire").value){var t=e.form.get("quantite").value*e.form.get("prixUnitaire").value;e.form.get("montant").setValue(t)}}}},{className:"flex-1",type:"input",key:"prixUnitaire",templateOptions:{label:"Prix Unitaire",type:"number",placeholder:"En cfa",change:function(e){if(null!=e.form.get("quantite").value&&null!=e.form.get("prixUnitaire").value){var t=e.form.get("quantite").value*e.form.get("prixUnitaire").value;e.form.get("montant").setValue(t)}}}},{className:"flex-3",type:"input",key:"montant",templateOptions:{type:"number",label:"Montant en cfa",placeholder:"en cfa",readonly:!0}}]}}]}]},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-2",key:"total",type:"input",templateOptions:{type:"number",label:"Total",placeholder:"en FCFA"}},{className:"flex-2",key:"totalLettre",type:"input",templateOptions:{label:"Montant total en lettre"}},{className:"flex-1",key:"timbre",type:"input",templateOptions:{type:"number",label:"Timbre per\xe7u",placeholder:"en FCFA"}},{className:"flex-2",key:"dateSoumission",type:"input",templateOptions:{label:"Date de Soumission",type:"date"}}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{type:"submit",label:"Soumettre",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:function(e){console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return!a.form.valid}}},{type:"button",templateOptions:{type:"reset",label:"R\xe9initialiser",bgColor:"#000",textColor:"#fff",click:function(e){e.options.resetModel(B)}}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Chef de service",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"nomValidateur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-3",key:"prenomValidateur",type:"input",templateOptions:{label:"Prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionValidateur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeValidateur",type:"input",templateOptions:{label:"Matricule",readonly:!0}},{className:"flex-10",key:"date",type:"input",templateOptions:{label:"Date",type:"date"}},{template:"<center><p>Les informations relatives au validateur sont r\xe9cup\xe9r\xe9e \xe0 la connexion. Veuillez entrer valider ou non cette demande d'office en indiquant votre avis dans l'espace d\xe9di\xe9.</p></center>"}]},{fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submit").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||!a.form.valid}}},{key:"refuser",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){e.form.get("refuser").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||"soumis"===a.form.get("submit").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"annulerRefus",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuser"}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Direction Administrative et financi\xe8re",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-10",key:"dateDAF",type:"input",templateOptions:{label:"date",type:"date"}},{className:"flex-3",key:"imputationBudget",type:"input",templateOptions:{label:"Imputation budgetaire",type:"number",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-3",key:"budgetDispo",type:"input",templateOptions:{label:"Budget disponible",type:"number",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-4",key:"budgetRestant",type:"input",templateOptions:{label:"Budget restant",readonly:!0}},{className:"flex-1",key:"bonCaisse",type:"checkbox",templateOptions:{label:"Execution par Bon de caisse"},defaultValue:!1},{className:"flex-1",key:"bonCommande",type:"checkbox",templateOptions:{label:"Execution par Bon de commande"},defaultValue:!1}]},{fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submit").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||!a.form.valid}}},{key:"refuser",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){return e.form.get("refuser").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||"soumis"===a.form.get("submit").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"resetMotif",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuser"}}]}]}],U=function(){var t=function(t){l(i,t);var o=n(i);function i(t,a,l,n,r,s){var p;return e(this,i),(p=o.call(this,t,a,l,n,r,s)).logger=t,p.httpService=a,p.envService=l,p.messageService=n,p.authService=r,p.menuService=s,p}return a(i,[{key:"ngOnInit",value:function(){var e=this;this.form.model=B,this.form.options=M,this.form.fields=L,this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"numdemande",header:"N\xb0 Demande d'achat"},{field:"libell\xe9",header:"libell\xe9"},{field:"dateDemande",header:"R\xe9dig\xe9 le",type:"date"},{field:"status",header:"Statut",type:"status",trueText:"Valid\xe9",falseText:"r\xe9j\xe9t\xe9"},{field:"waiting",header:"En Attente ?",type:"status",trueText:"oui",falseText:"mettre \xe0 jour"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"purchase-request")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),i}(b.K);return t.\u0275fac=function(e){return new(e||t)(v.Y36(h.Kf),v.Y36(O.O),v.Y36(k.L),v.Y36(C.dD),v.Y36(N.e),v.Y36(D.h))},t.\u0275cmp=v.Xpm({type:t,selectors:[["purchase-request"]],features:[v.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(v.TgZ(0,"nz-spin",0),v.TgZ(1,"wl-form",1),v.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),v.qZA(),v.qZA(),v.TgZ(2,"wl-table",2),v.NdJ("onLazyLoad",function(e){return t.loadData(e)}),v.qZA()),2&e&&(v.Q6J("nzSpinning",t.isSpinning),v.xp6(1),v.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),v.xp6(1),v.Udp("margin-top","1rem"),v.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","PurchaseRequest ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[f.W,d.U,m.a],styles:[""]}),t}(),E={},Y={},Z=[{wrappers:["panel-wrapper"],templateOptions:{label:"Demandeur",toggleable:!0,collapsed:!0},fieldGroup:[{template:"<p>Veuillez renseigner les informations relatives au demandeur.</p>"},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-6",key:"respoDemandeur",type:"input",templateOptions:{label:"Nom et Prenom(s) du responsable",readonly:!0}},{className:"flex-4",key:"fctionDemandeur",type:"input",templateOptions:{label:"Fonction du responsable",readonly:!0}},{className:"flex-2",key:"nomDemandeur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-2",key:"prenomDemandeur",type:"input",templateOptions:{label:"prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionDemandeur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeDemandeur",type:"input",templateOptions:{label:"Matricule",readonly:!0}},{className:"flex-10",key:"montant",type:"input",templateOptions:{label:"Montant de l'acompte"}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Chef de service",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-10",key:"dateValidation",type:"input",templateOptions:{label:"date"}},{className:"flex-3",key:"nomValidateur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-3",key:"prenomValidateur",type:"input",templateOptions:{label:"Prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionValidateur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeValidateur",type:"input",templateOptions:{label:"Matricule",readonly:!0}}]},{template:"<center><p>Les informations relatives au validateur sont r\xe9cup\xe9r\xe9e \xe0 la connexion. Veuillez entrer valider ou non cette demande d'office en indiquant votre avis dans l'espace d\xe9di\xe9.</p></center>"},{fieldGroup:[{key:"submitChef",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submitChef").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserChef").value||!a.form.valid}}},{key:"refuserChef",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){e.form.get("refuserChef").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserChef").value||"soumis"===a.form.get("submitChef").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuserChef"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuserChef"}},{className:"flex-1",key:"annulerRefus",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuserChef"}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Directeur Administrative et Financi\xe8re",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-10",type:"input",templateOptions:{label:"date",type:"date"}},{className:"flex-3",key:"imputationBudget",type:"input",templateOptions:{label:"Imputation budgetaire",type:"number",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-3",key:"budgetDispo",type:"input",templateOptions:{label:"Budget disponible",type:"number",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-4",key:"budgetRestant",type:"input",templateOptions:{label:"Budget restant",readonly:!0}},{className:"flex-1",key:"bonCaisse",type:"checkbox",templateOptions:{label:"Execution par Bon de caisse",change:function(e){if(!0===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!1)}if(!1===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!0)}if(!0===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!1)}if(!1===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!0)}}},defaultValue:!1},{className:"flex-1",key:"bonCommande",type:"checkbox",templateOptions:{label:"Execution par Bon de commande",change:function(e){if(!0===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!1)}if(!1===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!0)}if(!0===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!1)}if(!1===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!0)}}},defaultValue:!1}]},{fieldGroup:[{key:"submitDAF",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submitDAF").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserDAF").value||!a.form.valid}}},{key:"refuserDAF",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){return e.form.get("refuserDAF").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserDAF").value||"soumis"===a.form.get("submitDAF").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuserDAF"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuserDAF"}},{className:"flex-1",key:"resetMotif",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuserDAF"}}]}]}],J=function(){var t=function(t){l(i,t);var o=n(i);function i(t,a,l,n,r,s){var p;return e(this,i),(p=o.call(this,t,a,l,n,r,s)).logger=t,p.httpService=a,p.envService=l,p.messageService=n,p.authService=r,p.menuService=s,p}return a(i,[{key:"ngOnInit",value:function(){var e=this;this.form.model=E,this.form.options=Y,this.form.fields=Z,this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"request-for-advance-and-down-payment")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),i}(b.K);return t.\u0275fac=function(e){return new(e||t)(v.Y36(h.Kf),v.Y36(O.O),v.Y36(k.L),v.Y36(C.dD),v.Y36(N.e),v.Y36(D.h))},t.\u0275cmp=v.Xpm({type:t,selectors:[["request-for-advance-and-down-payment"]],features:[v.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(v.TgZ(0,"nz-spin",0),v.TgZ(1,"wl-form",1),v.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),v.qZA(),v.qZA(),v.TgZ(2,"wl-table",2),v.NdJ("onLazyLoad",function(e){return t.loadData(e)}),v.qZA()),2&e&&(v.Q6J("nzSpinning",t.isSpinning),v.xp6(1),v.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),v.xp6(1),v.Udp("margin-top","1rem"),v.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","RequestForAdvanceAndDownPayment ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[f.W,d.U,m.a],styles:[""]}),t}(),I={configs:[{}]},Q={},K=[{wrappers:["panel-wrapper"],templateOptions:{label:"Demandeur",toggleable:!0,collapsed:!0},fieldGroup:[{template:"<p>Veuillez renseigner les informations relatives au demandeur.</p>"},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-6",key:"respoDemandeur",type:"input",templateOptions:{label:"Nom et Prenom(s) du responsable",readonly:!0}},{className:"flex-4",key:"fctionDemandeur",type:"input",templateOptions:{label:"Fonction du responsable",readonly:!0}},{className:"flex-2",key:"nomDemandeur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-2",key:"prenomDemandeur",type:"input",templateOptions:{label:"prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionDemandeur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeDemandeur",type:"input",templateOptions:{label:"Matricule",readonly:!0}},{className:"flex-2",key:"matriculeDemandeur",type:"input",templateOptions:{label:"Matricule",readonly:!0}},{className:"flex-10",key:"motifDemandeur",type:"textarea",templateOptions:{label:"Motif de demande"}}]},{wrappers:["accordion-wrapper"],fieldGroup:[{templateOptions:{label:"Enregistrement de la demande d'achat"},fieldGroup:[{key:"repeatKey",type:"repeat",templateOptions:{addText:"Ajouter un article"},fieldArray:{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-4",type:"input",key:"achat",templateOptions:{label:"Libell\xe9 de l'achat",placeholder:"Nom"}},{className:"flex-1",type:"input",key:"quantite",templateOptions:{label:"Quanti\xe9",type:"number",placeholder:"Nombre",change:function(e){if(null!=e.form.get("quantite").value&&null!=e.form.get("prixUnitaire").value){var t=e.form.get("quantite").value*e.form.get("prixUnitaire").value;e.form.get("montant").setValue(t)}}}},{className:"flex-1",type:"input",key:"prixUnitaire",templateOptions:{label:"Prix Unitaire",type:"number",placeholder:"En cfa",change:function(e){if(null!=e.form.get("quantite").value&&null!=e.form.get("prixUnitaire").value){var t=e.form.get("quantite").value*e.form.get("prixUnitaire").value;e.form.get("montant").setValue(t)}}}},{className:"flex-3",type:"input",key:"montant",templateOptions:{type:"number",label:"Montant en cfa",placeholder:"en cfa",readonly:!0}}]}}]}]},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-2",key:"total",type:"input",templateOptions:{type:"number",label:"Total",placeholder:"en FCFA"}},{className:"flex-2",key:"totalLettre",type:"input",templateOptions:{label:"Montant total en lettre"}},{className:"flex-1",key:"timbre",type:"input",templateOptions:{type:"number",label:"Timbre per\xe7u",placeholder:"en FCFA"}},{className:"flex-2",key:"dateSoumission",type:"input",templateOptions:{label:"Date de Soumission",type:"date"}}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{type:"submit",label:"Soumettre",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:function(e){console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return!a.form.valid}}},{type:"button",templateOptions:{type:"reset",label:"R\xe9initialiser",bgColor:"#000",textColor:"#fff",click:function(e){e.options.resetModel(I)}}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Chef de service",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"nomValidateur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-3",key:"prenomValidateur",type:"input",templateOptions:{label:"Prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionValidateur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeValidateur",type:"input",templateOptions:{label:"Matricule",readonly:!0}},{className:"flex-10",key:"dateChef",type:"input",templateOptions:{label:"Date",type:"date"}},{template:"<center><p>Les informations relatives au validateur sont r\xe9cup\xe9r\xe9e \xe0 la connexion. Veuillez entrer valider ou non cette demande d'office en indiquant votre avis dans l'espace d\xe9di\xe9.</p></center>"}]},{fieldGroup:[{className:"flex-1",key:"submitChef",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submitChef").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserChef").value||!a.form.valid}}},{key:"refuserChef",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){e.form.get("refuserChef").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserChef").value||"soumis"===a.form.get("submitChef").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuserChef"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuserChef"}},{className:"flex-1",key:"annulerRefus",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuserChef"}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Direction Administrative et Financi\xe8re",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"imputationBudget",type:"input",templateOptions:{label:"Imputation budgetaire",type:"number",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-3",key:"budgetDispo",type:"input",templateOptions:{label:"Budget disponible",type:"number",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-3",key:"budgetRestant",type:"input",templateOptions:{label:"Budget restant",readonly:!0}},{className:"flex-10",key:"dateDAF",type:"input",templateOptions:{label:"Date",type:"date"}},{className:"flex-1",key:"bonCaisse",type:"checkbox",templateOptions:{label:"Execution par Bon de caisse",change:function(e){if(!0===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!1)}if(!1===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!0)}if(!0===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!1)}if(!1===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!0)}}},defaultValue:!1},{className:"flex-1",key:"bonCommande",type:"checkbox",templateOptions:{label:"Execution par Bon de commande",change:function(e){if(!0===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!1)}if(!1===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!0)}if(!0===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!1)}if(!1===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!0)}}},defaultValue:!1}]},{fieldGroup:[{className:"flex-1",type:"button",key:"submitDAF",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submitDAF").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserDAF").value||!a.form.valid}}},{key:"refuserDAF",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){return e.form.get("refuserDAF").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuserDAF").value||"soumis"===a.form.get("submitDAF").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuserDAF"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuserDAF"}},{className:"flex-1",key:"resetMotif",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuserDAF"}}]}]}],W=function(){var t=function(t){l(i,t);var o=n(i);function i(t,a,l,n,r,s){var p;return e(this,i),(p=o.call(this,t,a,l,n,r,s)).logger=t,p.httpService=a,p.envService=l,p.messageService=n,p.authService=r,p.menuService=s,p}return a(i,[{key:"ngOnInit",value:function(){var e=this;this.form.model=I,this.form.options=Q,this.form.fields=K,this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"request-for-overheads")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),i}(b.K);return t.\u0275fac=function(e){return new(e||t)(v.Y36(h.Kf),v.Y36(O.O),v.Y36(k.L),v.Y36(C.dD),v.Y36(N.e),v.Y36(D.h))},t.\u0275cmp=v.Xpm({type:t,selectors:[["request-for-overheads"]],features:[v.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(v.TgZ(0,"nz-spin",0),v.TgZ(1,"wl-form",1),v.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),v.qZA(),v.qZA(),v.TgZ(2,"wl-table",2),v.NdJ("onLazyLoad",function(e){return t.loadData(e)}),v.qZA()),2&e&&(v.Q6J("nzSpinning",t.isSpinning),v.xp6(1),v.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),v.xp6(1),v.Udp("margin-top","1rem"),v.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","RequestForOverheads ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[f.W,d.U,m.a],styles:[""]}),t}(),X=function(){var t=function(t){l(i,t);var o=n(i);function i(t,a,l,n,r,s){var p;return e(this,i),(p=o.call(this,t,a,l,n,r,s)).logger=t,p.httpService=a,p.envService=l,p.messageService=n,p.authService=r,p.menuService=s,p}return a(i,[{key:"ngOnInit",value:function(){var e=this;this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"workflow")},cancel:function(e){}}]}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),i}(b.K);return t.\u0275fac=function(e){return new(e||t)(v.Y36(h.Kf),v.Y36(O.O),v.Y36(k.L),v.Y36(C.dD),v.Y36(N.e),v.Y36(D.h))},t.\u0275cmp=v.Xpm({type:t,selectors:[["workflow"]],features:[v.qOj],decls:1,vars:13,consts:[[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(v.TgZ(0,"wl-table",0),v.NdJ("onLazyLoad",function(e){return t.loadData(e)}),v.qZA()),2&e&&(v.Udp("margin-top","1rem"),v.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","Workflow ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[m.a],styles:[""]}),t}(),H={},$={},ee=[{},{wrappers:["panel-wrapper"],templateOptions:{label:"Demandeur",toggleable:!0,collapsed:!0},fieldGroup:[{template:"<p>Veuillez renseigner les informations relatives au demandeur.</p>"},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-7",key:"respoDemandeur",type:"input",templateOptions:{label:"Nom et Prenom du responsable du demandeur",readonly:!0}},{className:"flex-3",key:"fctionDemandeur",type:"input",templateOptions:{label:"Fonction du responsable",readonly:!0}},{className:"flex-3",key:"nomDemandeur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-3",key:"prenomDemandeur",type:"input",templateOptions:{label:"Prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionDemandeur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeDemandeur",type:"input",templateOptions:{label:"Matricule",readonly:!0}},{className:"flex-10",key:"motifDemandeur",type:"textarea",templateOptions:{label:"Motif de demande"}}]},{wrappers:["accordion-wrapper"],fieldGroup:[{templateOptions:{label:"Enregistrement de la demande d'achat"},fieldGroup:[{key:"repeatKey",type:"repeat",templateOptions:{addText:"Ajouter un article"},fieldArray:{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-4",type:"input",key:"achat",templateOptions:{label:"Libell\xe9 de l'achat",placeholder:"Nom"}},{className:"flex-1",type:"input",key:"quantite",templateOptions:{label:"Quanti\xe9",type:"number",placeholder:"Nombre",change:function(e){if(null!=e.form.get("quantite").value&&null!=e.form.get("prixUnitaire").value){var t=e.form.get("quantite").value*e.form.get("prixUnitaire").value;e.form.get("montant").setValue(t)}}}},{className:"flex-1",type:"input",key:"prixUnitaire",templateOptions:{label:"Prix Unitaire",type:"number",placeholder:"En cfa",change:function(e){if(null!=e.form.get("quantite").value&&null!=e.form.get("prixUnitaire").value){var t=e.form.get("quantite").value*e.form.get("prixUnitaire").value;e.form.get("montant").setValue(t)}}}},{className:"flex-3",type:"input",key:"montant",templateOptions:{type:"number",label:"Montant en cfa",placeholder:"en cfa",readonly:!0}}]}}]}]},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-2",key:"total",type:"input",templateOptions:{type:"number",label:"Total",placeholder:"en FCFA"}},{className:"flex-2",key:"totalLettre",type:"input",templateOptions:{label:"Montant total en lettre"}},{className:"flex-2",key:"dateSoumission",type:"input",templateOptions:{label:"Date de Soumission",type:"date"}}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{type:"submit",label:"Soumettre",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:function(e){console.log("clik on submit"),e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return!a.form.valid}}},{type:"button",templateOptions:{type:"reset",label:"R\xe9initialiser",bgColor:"#000",textColor:"#fff",click:function(e){e.options.resetModel(H)}}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Chef de service",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"nomValidateur",type:"input",templateOptions:{label:"Nom",readonly:!0}},{className:"flex-3",key:"prenomValidateur",type:"input",templateOptions:{label:"Prenom(s)",readonly:!0}},{className:"flex-2",key:"fonctionValidateur",type:"input",templateOptions:{label:"Fonction",readonly:!0}},{className:"flex-2",key:"matriculeValidateur",type:"input",templateOptions:{label:"Matricule",readonly:!0}},{template:"<center><p>Les informations relatives au validateur sont r\xe9cup\xe9r\xe9e \xe0 la connexion. Veuillez entrer valider ou non cette demande d'office en indiquant votre avis dans l'espace d\xe9di\xe9.</p></center>"}]},{fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submit").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||!a.form.valid}}},{key:"refuser",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){e.form.get("refuser").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||"soumis"===a.form.get("submit").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"annulerRefus",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuser"}}]}]},{wrappers:["panel-wrapper"],templateOptions:{label:"Direction Administrative et Financi\xe8re",toggleable:!0,collapsed:!0},fieldGroup:[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"imputationBudget",type:"input",templateOptions:{label:"Imputation budgetaire",type:"number",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-3",key:"budgetDispo",type:"input",templateOptions:{label:"Budget disponible",type:"number",change:function(e){if(null!=e.form.get("budgetDispo").value&&null!=e.form.get("imputationBudget").value){var t=e.form.get("budgetDispo").value-e.form.get("imputationBudget").value;e.form.get("budgetRestant").setValue(t)}if(e.form.get("imputationBudget").value>e.form.get("budgetDispo").value){e.form.get("budgetRestant").setValue("Le montant total exc\xe8de le budget disponible")}}}},{className:"flex-3",key:"budgetRestant",type:"input",templateOptions:{label:"Budget restant",readonly:!0,placeholder:"en CFA"}},{className:"flex-1",key:"bonCaisse",type:"checkbox",templateOptions:{label:"Execution par Bon de caisse",change:function(e){if(!0===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!1)}if(!1===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!0)}if(!0===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!1)}if(!1===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!0)}}},defaultValue:!1},{className:"flex-1",key:"bonCommande",type:"checkbox",templateOptions:{label:"Execution par Bon de commande",change:function(e){if(!0===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!1)}if(!1===e.form.get("bonCaisse").value){e.form.get("bonCommande").setValue(!0)}if(!0===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!1)}if(!1===e.form.get("bonCommande").value){e.form.get("bonCaisse").setValue(!0)}}},defaultValue:!1}]},{fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submit").setValue("soumis")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||!a.form.valid}}},{key:"refuser",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){return e.form.get("refuser").setValue("refus")}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return"refus"===a.form.get("refuser").value||"soumis"===a.form.get("submit").value||!a.form.valid}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuser"}},{className:"flex-1",key:"resetMotif",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus"},expressionProperties:{hide:"!model.refuser"}}]}]}],te=function(){var t=function(t){l(i,t);var o=n(i);function i(t,a,l,n,r,s){var p;return e(this,i),(p=o.call(this,t,a,l,n,r,s)).logger=t,p.httpService=a,p.envService=l,p.messageService=n,p.authService=r,p.menuService=s,p}return a(i,[{key:"ngOnInit",value:function(){var e=this;this.form.model=H,this.form.options=$,this.form.fields=ee,this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"expense-report")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),i}(b.K);return t.\u0275fac=function(e){return new(e||t)(v.Y36(h.Kf),v.Y36(O.O),v.Y36(k.L),v.Y36(C.dD),v.Y36(N.e),v.Y36(D.h))},t.\u0275cmp=v.Xpm({type:t,selectors:[["expense-report"]],features:[v.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(v.TgZ(0,"nz-spin",0),v.TgZ(1,"wl-form",1),v.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),v.qZA(),v.qZA(),v.TgZ(2,"wl-table",2),v.NdJ("onLazyLoad",function(e){return t.loadData(e)}),v.qZA()),2&e&&(v.Q6J("nzSpinning",t.isSpinning),v.xp6(1),v.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),v.xp6(1),v.Udp("margin-top","1rem"),v.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","ExpenseReport ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[f.W,d.U,m.a],styles:[""]}),t}(),ae=i(42394),le=i(91841),oe=[{path:"",component:X,data:{title:"Workflow",breadcrumb:"Workflow"}},{path:"workflow",component:X,data:{title:"Workflow",breadcrumb:"Workflow"}},{path:"purchase-request",component:U,data:{title:"PurchaseRequest",breadcrumb:"PurchaseRequest"}},{path:"request-for-overheads",component:W,data:{title:"RequestForOverheads",breadcrumb:"RequestForOverheads"}},{path:"cash-receipt",component:V,data:{title:"CashReceipt",breadcrumb:"CashReceipt"}},{path:"processing-of-purchase-orders",component:j,data:{title:"ProcessingOfPurchaseOrders",breadcrumb:"ProcessingOfPurchaseOrders"}},{path:"order-sheet",component:R,data:{title:"OrderSheet",breadcrumb:"OrderSheet"}},{path:"request-for-advance-and-down-payment",component:J,data:{title:"RequestForAdvanceAndDownPayment",breadcrumb:"RequestForAdvanceAndDownPayment"}},{path:"disposal-of-vehicles",component:F,data:{title:"DisposalOfVehicles",breadcrumb:"DisposalOfVehicles"}},{path:"expense-report",component:te,data:{title:"ExpenseReport",breadcrumb:"ExpenseReport"}},{path:"checkout-form",loadChildren:function(){return i.e(501).then(i.bind(i,87501)).then(function(e){return e.CheckoutFormModule})},data:{title:"CheckoutForm",breadcrumb:"CheckoutForm"}},{path:"checkout-form-create",component:(r=function(t){l(i,t);var o=n(i);function i(t,a,l,n,r,s){var p;return e(this,i),(p=o.call(this,t,a,l,n,r,s)).logger=t,p.httpService=a,p.envService=l,p.messageService=n,p.authService=r,p.menuService=s,p.model={configs:[{}]},p.options={},p.fields=[{template:"<center><p>Veuillez renseigner les informations relatives au ben\xe9ficiaire de la demande.</p></center>"},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3",key:"code_bon_vert",type:"input",templateOptions:{label:"Numero de bon",readonly:!0}},{className:"flex-3",key:"date_demande",type:"input",templateOptions:{label:"Date",type:"date"}}]},{wrappers:["fieldset-wrapper"],templateOptions:{label:"Demandeur : "+p.user.NOM_AGENT+" "+p.user.PNOM_AGENT},fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-5",key:"fonction_responsable",type:"input",templateOptions:{label:"Fonction du demandeur",readonly:!0}},{className:"flex-5",key:"matricule_demandeur",type:"input",templateOptions:{label:"Matricule",readonly:!0,required:!0}},{className:"flex-5",key:"objet_demande",type:"select",templateOptions:{label:"Objet de la demande",options:[]}},{className:"flex-5",key:"montant_bon",type:"input",templateOptions:{label:"Valeur du bon"}},{className:"flex-10",key:"description_demande",type:"textarea",templateOptions:{label:"Description",placeholder:"Veuillez d\xe9crire le motif de votre demande"}},{}]},{template:"<br>"},{fieldGroupClassName:"d-flex flex-wrap",wrappers:["fieldset-wrapper"],templateOptions:{label:"B\xe9n\xe9ficiaire"},fieldGroup:[{className:"flex-2",key:"nom_beneficiaire",type:"input",templateOptions:{label:"Nom du b\xe9n\xe9ficiaire"}},{className:"flex-2",key:"prenom_beneficiaire",type:"input",templateOptions:{label:"Prenom du b\xe9n\xe9ficiaire"}},{className:"flex-2",key:"fonction_beneficiaire",type:"input",templateOptions:{label:"Fonction du b\xe9n\xe9ficiaire"}},{className:"flex-2",key:"matricule_beneficiaire",type:"input",templateOptions:{label:"Matricule du b\xe9n\xe9ficiaire"}},{className:"flex-10",key:"add_mandataire",type:"checkbox",templateOptions:{label:"Voulez vous attribuer un mandataire ?",click:function(e){e.form.get("add_mandataire").setValue(1)}}},{wrappers:["fieldset-wrapper"],fieldGroupClassName:"d-flex flex-wrap",hide:!0,templateOptions:{label:"Mandataire"},expressionProperties:{hide:"!model.add_mandataire"},fieldGroup:[{className:"flex-2",key:"nom_mandataire",type:"input",templateOptions:{label:"Nom du mandataire"}},{className:"flex-2",key:"prenom_mandataire",type:"input",templateOptions:{label:"Prenom du mandataire"}},{className:"flex-2",key:"fonction_mandataire",type:"input",templateOptions:{label:"fonction du mandataire"}},{className:"flex-2",key:"matricule_mandataire",type:"input",templateOptions:{label:"Matricule du mandataire"}}]},{className:"flex-8",key:"file_line",type:"file-upload",templateOptions:{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",fileType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",translate:!0,label:"Fichier justificatif de la date",handleUpload:function(e,t){var a=t[0],l=new FileReader;function o(t,a){return Object.keys(t).map(function(l){return"object"==typeof t[l]?o(t[l],l):{key:a?a+"."+l:l,value:t[l],lang_code:e.model.lang_code,status:!0}})}l.readAsText(a,"UTF-8"),l.onload=function(t){var a=JSON.parse(t.target.result);console.log(a),ae._.mapKeys(a,function(e,t){return{key:t,value:e}});var l=ae._.flattenDeep(o(a));console.log(l),e.formControl.setValue(l),e.options.formState.enableSubmitBtn=!0},l.onerror=function(e){console.log(e)}}}}]},{template:"<br>"},{wrappers:["fieldset-wrapper"],fieldGroupClassName:"d-flex flex-wrap",templateOptions:{label:"Centre d'imputation de la demande"},fieldGroup:[{className:"flex-3",key:"centre",type:"select",templateOptions:{label:"Centre",options:[]}},{className:"flex-3",key:"activite",type:"select",templateOptions:{label:"Activit\xe9",options:[{label:"",value:"",icon:""},{label:"",value:"",icon:""},{label:"",value:"",icon:""}]}},{className:"flex-3",key:"Nature",type:"select",templateOptions:{label:"Nature",options:[{label:"",value:"",icon:""},{label:"",value:"",icon:""},{label:"",value:"",icon:""}]}}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{fieldGroup:[{key:"submit",className:"flex-1",type:"button",templateOptions:{type:"submit",label:"Soumettre",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{hide:function(){return"COMPTABILITE"===p.user.profil.code}}},{type:"button",templateOptions:{label:"R\xe9initialiser",bgColor:"#000",textColor:"#fff",click:function(e){e.form.get("nomDemandeur").setValue(null),e.form.get("prenomDemandeur").setValue(null),e.form.get("fonctionDemandeur").setValue(null),e.form.get("matriculeDemandeur").setValue(null)}},expressionProperties:{hide:function(){return"COMPTABILITE"===p.user.profil.code}}}]}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{key:"submitDAF",className:"flex-1",type:"button",templateOptions:{type:"submit",label:"Valider demande",translate:!0,loading:!1,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)}),e.form.get("submitDAF").setValue(!0)}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return!a.form.get("refuserDAF")||!a.form.get("submitDAF")||!a.form.valid},hide:function(){return"COMPTABILITE"!=p.user.profil.code}}},{key:"refuserDAF",className:"flex-1",type:"button",templateOptions:{label:"Rejeter demande",bgColor:"#000",textColor:"#fff",click:function(e){return e.form.get("refuserDAF").setValue(!0)}},expressionProperties:{"templateOptions.disabled":function(e,t,a){return!a.form.get("refuserDAF")||!a.form.get("submitDAF")||!a.form.valid},hide:function(){return"COMPTABILITE"!=p.user.profil.code}}},{className:"flex-10",key:"motifRejet",type:"textarea",templateOptions:{label:"Veuillez indiquer le motif de votre refus"},expressionProperties:{hide:"!model.refuserDAF"}},{className:"flex-1",key:"submitMotif",type:"button",templateOptions:{label:"Soumettre",colorType:"primary"},expressionProperties:{hide:"!model.refuserDAF"}},{className:"flex-1",key:"annulerRefus",type:"button",templateOptions:{colorType:"primary",bgColor:"#000",textColor:"#fff",label:"Annuler r\xe9fus",click:function(e){return e.form.get("refuserDAF").setValue(null)}},expressionProperties:{hide:"!model.refuserDAF"}}]}],p.user=p.authService.getUserInfos(),p}return a(i,[{key:"ngOnInit",value:function(){var e=this;this.form.model=this.model,this.form.options=this.options,this.form.fields=this.fields,this.isSpinning=!1,console.log("this.user"),console.log(this.user),this.getDataBvert("".concat(ae.VR,"/motif/"),function(t){if(!(t instanceof le.UA)){var a=t.body.rows;a=a.map(function(e){return{label:null==e?void 0:e.lib_motif,value:null==e?void 0:e.code_motif}}),console.log(a),e.fields[2].fieldGroup[2].templateOptions.options=a}}),this.getDataBvert("".concat(ae.VR,"/service/"),function(t){if(!(t instanceof le.UA)){var a=t.body.rows;a=a.map(function(e){return{label:null==e?void 0:e.lib_serv,value:null==e?void 0:e.code_serv}}),console.log(a),console.log("this.fields[6]"),e.fields[6].fieldGroup[0].templateOptions.options=a}}),this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"checkout-form")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);if(t.code_bon_vert&&null!=t.code_bon_vert){var a=t.code_bon_vert;t=ae._.omit(t,["code_bon_vert"]),this.putDataBvert("".concat(ae.VR,"/bonvert/").concat(a),{nom_beneficiaire:e.model.nom_beneficiaire,premon_beneficiaire:e.model.premon_beneficiaire,matricule_beneficiaire:e.model.matricule_beneficiaire,fonction_beneficiaire:e.model.fonction_beneficiaire,nom_mandataire:e.model.nom_mandataire,premon_mandataire:e.model.premon_mandataire,matricule_mandataire:e.model.matricule_mandataire,fonction_mandataire:e.model.fonction_mandataire,motif:e.model.motif,montant_bon_vert:e.model.montant_bon,flag_soumis:1,flag_valid:0})}else this.getDataBvert("".concat(ae.VR,"/motif/"))}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),i}(b.K),r.\u0275fac=function(e){return new(e||r)(v.Y36(h.Kf),v.Y36(O.O),v.Y36(k.L),v.Y36(C.dD),v.Y36(N.e),v.Y36(D.h))},r.\u0275cmp=v.Xpm({type:r,selectors:[["checkout-form-create"]],features:[v.qOj],decls:2,vars:5,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"]],template:function(e,t){1&e&&(v.TgZ(0,"nz-spin",0),v.TgZ(1,"wl-form",1),v.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),v.qZA(),v.qZA()),2&e&&(v.Q6J("nzSpinning",t.isSpinning),v.xp6(1),v.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options))},directives:[f.W,d.U],styles:[""]}),r),data:{title:"CheckoutFormCreate",breadcrumb:"CheckoutFormCreate"}}],ne=function(){var t=a(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({imports:[[c.Bz.forChild(oe)],c.Bz]}),t}(),ie=((s=a(function t(){e(this,t)})).\u0275fac=function(e){return new(e||s)},s.\u0275mod=v.oAB({type:s}),s.\u0275inj=v.cJS({imports:[[p.ez,u.u5,u.UX,m.n,d.e,f.j,ne]]}),s)}}])}();