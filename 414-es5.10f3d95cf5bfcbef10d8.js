!function(){function e(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e=function(){return n};var t,n={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(t){c=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),u=new O(r||[]);return a(o,"_invoke",{value:k(e,n,u)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var m="suspendedStart",v="executing",h="completed",f={};function g(){}function y(){}function b(){}var I={};c(I,u,function(){return this});var E=Object.getPrototypeOf,A=E&&E(E(R([])));A&&A!==r&&i.call(A,u)&&(I=A);var C=b.prototype=g.prototype=Object.create(I);function M(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){function n(r,a,o,u){var l=d(e[r],e,a);if("throw"!==l.type){var s=l.arg,c=s.value;return c&&"object"==typeof c&&i.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,o,u)},function(e){n("throw",e,o,u)}):t.resolve(c).then(function(e){s.value=e,o(s)},function(e){return n("throw",e,o,u)})}u(l.arg)}var r;a(this,"_invoke",{value:function(e,i){function a(){return new t(function(t,r){n(e,i,t,r)})}return r=r?r.then(a,a):a()}})}function k(e,n,r){var i=m;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===h){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var u=r.delegate;if(u){var l=_(u,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?h:"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=h,r.method="throw",r.arg=s.arg)}}}function _(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=d(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,f;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function Z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,a(C,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,s,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},M(T.prototype),c(T.prototype,l,function(){return this}),n.AsyncIterator=T,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new T(p(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},M(C),c(C,s,"Generator"),c(C,u,function(){return this}),c(C,"toString",function(){return"[object Generator]"}),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=R,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(Z),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),s=i.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),Z(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;Z(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),f}},n}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?a:String(a)),r)}var i,a}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkwil_admin_angular=self.webpackChunkwil_admin_angular||[]).push([[414],{81414:function(n,a,u){"use strict";u.r(a),u.d(a,{CashierModule:function(){return Xe}});var l=u(38583),s=u(3679),c=u(977),p=u(65461),d=u(66782),m=u(95987),v=u(99688),h=u(37716),f=u(44212),g=u(18859),y=u(52121),b=u(68058),I=u(4768),E=u(28723),A=function(){var e=function(e){i(a,e);var n=o(a);function a(e,r,i,o,u,l){var s;return t(this,a),(s=n.call(this,e,r,i,o,u,l)).logger=e,s.httpService=r,s.envService=i,s.messageService=o,s.authService=u,s.menuService=l,s}return r(a,[{key:"ngOnInit",value:function(){var e=this;this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"cashier")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),a}(v.K);return e.\u0275fac=function(t){return new(t||e)(h.Y36(f.Kf),h.Y36(g.O),h.Y36(y.L),h.Y36(b.dD),h.Y36(I.e),h.Y36(E.h))},e.\u0275cmp=h.Xpm({type:e,selectors:[["cashier"]],features:[h.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(h.TgZ(0,"nz-spin",0),h.TgZ(1,"wl-form",1),h.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),h.qZA(),h.qZA(),h.TgZ(2,"wl-table",2),h.NdJ("onLazyLoad",function(e){return t.loadData(e)}),h.qZA()),2&e&&(h.Q6J("nzSpinning",t.isSpinning),h.xp6(1),h.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),h.xp6(1),h.Udp("margin-top","1rem"),h.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","Cashier ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[d.W,p.U,c.a],styles:[""]}),e}(),C=u(42394),M={},T={},k=[{template:"<p>Vous pouvez ajouter des services \xe0 votre organisation.</p>"},{templateOptions:{label:"Formulaire de cr\xe9ation",toggleable:!0},fieldGroup:[{},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-3 wl-hidden",key:"id",type:"input",templateOptions:{translate:!0,label:"ID",readonly:!0}},{className:"flex-3",key:"name",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Nom",placeholder:"Nom",suffixIcon:"user"}},{className:"flex-3",key:"surname",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Prenoms",placeholder:"Prenoms",suffixIcon:"user"}},{className:"flex-3",key:"matricule",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Matricule",placeholder:"Matricule",suffixIcon:"number"}},{className:"flex-3",key:"telephone",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Telephone",placeholder:"Telephone",suffixIcon:"phone"}},{className:"flex-3",key:"portable",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Portable",placeholder:"Portable",suffixIcon:"phone"}},{className:"flex-3",key:"email",type:"input-email",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Email",placeholder:"Email",suffixIcon:"mail",pattern:/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/},validation:{messages:{pattern:function(e,t){return'"'.concat(t.formControl.value,"\" n'est pas une adresse email valide")}}}},{className:"flex-3",key:"adresse",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Adresse",placeholder:"Adresse",suffixIcon:"number"}},,{className:"flex-3",key:"lieu_naissance",type:"input",templateOptions:{translate:!0,translatePlaceholder:!0,required:!0,label:"Lieu de Naissance",placeholder:"Lieu de Naissance",suffixIcon:"aim"}},{className:"flex-6",key:"status",type:"checkbox",templateOptions:{translate:!0,label:"Est actif ?"},defaultValue:!0}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",type:"button",templateOptions:{type:"submit",label:"Soumettre",translate:!0,loading:!1,disabled:!0,colorType:"primary",click:function(e){e.templateOptions.loading=!0,e.form.statusChanges.subscribe(function(t){e.templateOptions.loading&&(e.templateOptions.loading=!1)})}},expressionProperties:{"templateOptions.disabled":function(e,t,n){return!n.form.valid}}},{type:"button",templateOptions:{type:"reset",label:"R\xe9initialiser",bgColor:"#000",textColor:"#fff",click:function(e){e.options.resetModel(M)}}}]}]}],_=u(26215),w=u(67574),Z=u(65353),O=r(function e(){t(this,e)}),R=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;t(this,e),this.buffer=new Uint8Array(n),this.size=0}return r(e,[{key:"clear",value:function(){this.size=0}},{key:"flush",value:function(){var e=new Uint8Array(this.buffer.slice(0,this.size));return this.size=0,e}},{key:"write",value:function(e){return this.resize(e.length),this.buffer.set(e,this.size),this.size+=e.length,this}},{key:"writeUInt8",value:function(e){return this.resize(1),this.buffer[this.size++]=255&e,this}},{key:"resize",value:function(e){var t=this.buffer.length-this.size;if(t<e){var n=this.buffer,r=Math.ceil((e-t)/n.length)+1;this.buffer=new Uint8Array(n.length*r),this.buffer.set(n,0)}}}]),e}(),S=function(e){i(a,e);var n=o(a);function a(){var e;return t(this,a),(e=n.call(this)).encoder=new TextEncoder,e}return r(a,[{key:"init",value:function(){return this.buffer=new R,this.write(27),this.write("@"),this}},{key:"flush",value:function(){return this.buffer.flush()}},{key:"feed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.write(27),this.write("a"),this.write(e),this}},{key:"cut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"full";return this.write(27),this.write("d"),this.write("full"===e?2:3),this}},{key:"writeLine",value:function(e){return this.write("".concat(e,"\n"))}},{key:"setInverse",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.write(27),this.write(e?"4":"5"),this}},{key:"setUnderline",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.write(27),this.write("-"),this.write(e?1:0),this}},{key:"setJustification",value:function(e){var t;switch(e){case"center":t=1;break;case"right":t=2;break;default:t=0}return this.write(27),this.write(29),this.write("a"),this.write(t),this}},{key:"setBold",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.write(27),this.write(e?"E":"F"),this}},{key:"setSize",value:function(e){return this.write(27),this.write("i"),this.write("normal"===e?0:1),this.write("normal"===e?0:1),this}},{key:"write",value:function(e){return"number"==typeof e?this.buffer.writeUInt8(e):this.buffer.write("string"==typeof e?this.encoder.encode(e):e),this}}]),a}(O),x=function(){};x.prototype.createAlignmentElement=function(e){var t="<alignment";return null!=e&&(t+=this._analysisEnumAttribute("position",e.position,/^(left|center|right)$/)),t+"/>"},x.prototype.createBarcodeElement=function(e){var t;if(null==e)throw Error("Argument is undefined.");if(t="<barcode"+this._analysisEnumAttribute("symbology",e.symbology,/^(UPCE|UPCA|JAN8|JAN13|Code39|ITF|Code128|Code93|NW7)$/),t+=this._analysisEnumAttribute("width",e.width,/^(width[2-4]|width_mode[1-9])$/),t+=this._analysisEnumAttribute("hri",e.hri,/^(false|true)$/),t+=this._analysisValueAttribute("height",e.height,1,255),null==e.data)throw Error('Argument "data" is undefined.');return(t=t+">"+this._encodeEscapeSequenceBinary(e.data))+"</barcode>"},x.prototype.createBitImageElement=function(e){var t="<bitimage";if(null==e)throw Error("Argument is undefined.");var n=0,r=0,i=0,a=0;if(null!=e.x&&(n=e.x),null!=e.y&&(r=e.y),null!=e.width&&(i=e.width),null!=e.height&&(a=e.height),this._analysisValueAttribute("x",n,0,65535),this._analysisValueAttribute("y",r,0,65535),t+=this._analysisValueAttribute("width",i,0,65535),t+=this._analysisValueAttribute("height",a,0,65535),null==e.context)throw Error('Argument "context" is undefined.');return(t=t+">"+this._encodeRasterImage(e.context.getImageData(n,r,i,a).data,i,a))+"</bitimage>"},x.prototype.createCutPaperElement=function(e){var t="<cutpaper";return null!=e&&(t+=this._analysisEnumAttribute("feed",e.feed,/^(false|true)$/),t+=this._analysisEnumAttribute("type",e.type,/^(full|partial)$/)),t+"/>"},x.prototype.createFeedElement=function(e){var t;if(null==e)throw Error("Argument is undefined.");if(null==e.line&&null==e.unit)throw Error('Argument "line / unit" is undefined.');return t="<feed"+this._analysisValueAttribute("line",e.line,1,255),(t+=this._analysisValueAttribute("unit",e.unit,1,255))+"/>"},x.prototype.createInitializationElement=function(e){var t="<initialization";return null!=e&&(t+=this._analysisEnumAttribute("reset",e.reset,/^(false|true)$/),t+=this._analysisEnumAttribute("print",e.print,/^(false|true)$/)),t+"/>"},x.prototype.createLogoElement=function(e){var t="<logo";return null!=e&&(t+=this._analysisEnumAttribute("width",e.width,/^(single|double)$/),t+=this._analysisEnumAttribute("height",e.height,/^(single|double)$/),t+=this._analysisValueAttribute("number",e.number,1,255)),t+"/>"},x.prototype.createPdf417Element=function(e){var t;if(null==e)throw Error("Argument is undefined.");if(t="<pdf417"+this._analysisEnumAttribute("level",e.level,/^(level[0-8])$/),null!=e.line&&(t=0!=e.line?t+this._analysisValueAttribute("line",e.line,3,90):t+' line="0"'),t+=this._analysisValueAttribute("column",e.column,0,30),t+=this._analysisValueAttribute("module",e.module,1,8),t+=this._analysisValueAttribute("aspect",e.aspect,1,8),null==e.data)throw Error('Argument "data" is undefined.');return(t=t+">"+this._encodeEscapeSequenceBinary(e.data))+"</pdf417>"},x.prototype.createPeripheralElement=function(e){var t="<peripheral";return null!=e&&(t+=this._analysisValueAttribute("channel",e.channel,1,2),t+=this._analysisValueAttribute("on",e.on,1,65535),t+=this._analysisValueAttribute("off",e.off,1,65535)),t+"/>"},x.prototype.createQrCodeElement=function(e){var t;if(null==e)throw Error("Argument is undefined.");if(t="<qrcode"+this._analysisEnumAttribute("model",e.model,/^(model[12])$/),t+=this._analysisEnumAttribute("level",e.level,/^(level_[lmqh])$/),t+=this._analysisValueAttribute("cell",e.cell,1,8),null==e.data)throw Error('Argument "data" is undefined.');return(t=t+">"+this._encodeEscapeSequenceBinary(e.data))+"</qrcode>"},x.prototype.createRawDataElement=function(e){if(null==e)throw Error("Argument is undefined.");if(null==e.data)throw Error('Argument "data" is undefined.');return(e="<rawdata>"+this._encodeBase64Binary(e.data))+"</rawdata>"},x.prototype.createRuledLineElement=function(e){var t="<ruledline";return null!=e&&(t+=this._analysisEnumAttribute("thickness",e.thickness,/^(thin|medium|thick|double_(thin|medium|thick))$/),t+=this._analysisValueAttribute("width",e.width,1,65535)),t+"/>"},x.prototype.createSoundElement=function(e){var t="<sound";return null!=e&&(t+=this._analysisValueAttribute("channel",e.channel,1,2),t+=this._analysisValueAttribute("repeat",e.repeat,1,20)),t+"/>"},x.prototype.createTextElement=function(e){var t;if(null==e)throw Error("Argument is undefined.");return t="<text"+this._analysisEnumAttribute("emphasis",e.emphasis,/^(false|true)$/),t+=this._analysisEnumAttribute("invert",e.invert,/^(false|true)$/),t+=this._analysisEnumAttribute("linespace",e.linespace,/^(24|32)$/),t+=this._analysisEnumAttribute("font",e.font,/^(font_[ab])$/),t+=this._analysisEnumAttribute("underline",e.underline,/^(false|true)$/),t+=this._analysisValueAttribute("characterspace",e.characterspace,0,7),t+=this._analysisValueAttribute("width",e.width,1,6),t+=this._analysisValueAttribute("height",e.height,1,6),t+=this._analysisEnumAttribute("codepage",e.codepage,/^(cp(437|737|772|774|851|852|855|857|858|860|861|862|863|864|865|866|869|874|928|932|998|999|1001|1250|1251|1252|2001|3001|3002|3011|3012|3021|3041|3840|3841|3843|3844|3845|3846|3847|3848)|utf8|blank|utf8|shift_jis|gb18030|gb2312|big5|korea)$/),t+=this._analysisEnumAttribute("international",e.international,/^(usa|france|germany|uk|denmark|sweden|italy|spain|japan|norway|denmark2|spain2|latin_america|korea|ireland|legal)$/),null!=e.data?(t+=">",t=1==e.binary?t+this._encodeEscapeSequenceBinary(e.data):t+this._encodeEscapeSequence(e.data),t+="</text>"):t+="/>",t},x.prototype.createHoldPrintElement=function(e){var t="<holdprint";return null!=e&&(t+=this._analysisEnumAttribute("type",e.type,/^(valid|invalid|default)$/)),t+"/>"},x.prototype._analysisEnumAttribute=function(e,t,n){if(null!=t){if(!n.test(t))throw Error('Argument "'+e+'" is invalid.');return" "+e+'="'+t+'"'}return""},x.prototype._analysisValueAttribute=function(e,t,n,r){if(null!=t){if(t<n||t>r)throw Error('Argument "'+e+'" is invalid.');return" "+e+'="'+t+'"'}return""},x.prototype._encodeEscapeSequence=function(e){var t=/[\\\x00-\x20\x26\x3c\x3e\x7f]/g;return t.test(e)&&(e=e.replace(t,function(e){return"\\"==e?"\\\\":"\\x"+("0"+e.charCodeAt(0).toString(16)).slice(-2)})),e},x.prototype._encodeEscapeSequenceBinary=function(e){var t=/[\\\x00-\x20\x26\x3c\x3e\x7f-\xff]/g;return t.test(e)&&(e=e.replace(t,function(e){return"\\"==e?"\\\\":"\\x"+("0"+e.charCodeAt(0).toString(16)).slice(-2)})),e},x.prototype._encodeBase64Binary=function(e){var t="",n=e.length;e+="\0\0";for(var r=0;r<n;r+=3){var i=e.charCodeAt(r)<<16|e.charCodeAt(r+1)<<8|e.charCodeAt(r+2);t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&i)}switch(n%3){case 1:return t.slice(0,-2)+"==";case 2:return t.slice(0,-1)+"="}return t},x.prototype._encodeRasterImage=function(e,t,n){for(var r=[[-254,-126,-222,-94,-246,-118,-214,-86],[-62,-190,-30,-158,-54,-182,-22,-150],[-206,-78,-238,-110,-198,-70,-230,-102],[-14,-142,-46,-174,-6,-134,-38,-166],[-242,-114,-210,-82,-250,-122,-218,-90],[-50,-178,-18,-146,-58,-186,-26,-154],[-194,-66,-226,-98,-202,-74,-234,-106],[-2,-130,-34,-162,-10,-138,-42,-170]],i="",a=0,o=0;o<n;o++){for(var u=0,l=128,s=0;s<t;s++)((30*e[a]+59*e[a+1]+11*e[a+2])*e[a+3]+12800)/25500-e[a+3]<r[7&o][7&s]&&(u|=l),a+=4,0==(l>>=1)&&(i+=String.fromCharCode(u),u=0,l=128);128!=l&&(i+=String.fromCharCode(u))}for(e=i,i="",t=e.length,e+="\0\0",o=0;o<t;o+=3)n=e.charCodeAt(o)<<16|e.charCodeAt(o+1)<<8|e.charCodeAt(o+2),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n);switch(t%3){case 1:return i.slice(0,-2)+"==";case 2:return i.slice(0,-1)+"="}return i};var q=function(e){i(a,e);var n=o(a);function a(){var e;return t(this,a),(e=n.call(this)).builder=new x,e}return r(a,[{key:"init",value:function(){return this.request+=this.builder.createInitializationElement(),this}},{key:"setJustification",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"left";return this.request+=this.builder.createAlignmentElement({position:e}),this}},{key:"setBold",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.request+=this.builder.createTextElement({emphasis:e}),this}},{key:"setUnderline",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.request+=this.builder.createTextElement({underline:e}),this}},{key:"setInverse",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.request+=this.builder.createTextElement({invert:e}),this}},{key:"writeLine",value:function(e){return this.request+=this.builder.createTextElement({data:"".concat(e,"\n")}),this}},{key:"setSize",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";switch(t){case"large":e=2;break;default:e=1}return this.request+=this.builder.createTextElement({width:e,height:e}),this}},{key:"cut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"full";return this.request+=this.builder.createCutPaperElement({feed:!0,type:e}),this}},{key:"feed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.request+=this.builder.createFeedElement({line:e}),this}},{key:"flush",value:function(){return this.request}}]),a}(O),N=function(e){i(a,e);var n=o(a);function a(){var e;return t(this,a),(e=n.call(this)).encoder=new TextEncoder,e}return r(a,[{key:"init",value:function(){return this.buffer=new R,this.write(27),this.write("@"),this}},{key:"flush",value:function(){return this.buffer.flush()}},{key:"feed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.write(27),this.write("d"),this.write(e),this}},{key:"cut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"full";return this.write(29),this.write("V"),this.write("full"===e?1:0),this}},{key:"writeLine",value:function(e){return this.write("".concat(e,"\n"))}},{key:"setInverse",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.write(29),this.write("B"),this.write(e?1:0),this}},{key:"setUnderline",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.write(27),this.write("-"),this.write(e?1:0),this}},{key:"setJustification",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"left";switch(t){case"center":e=1;break;case"right":e=2;break;default:e=0}return this.write(27),this.write("a"),this.write(e),this}},{key:"setBold",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.write(27),this.write("E"),this.write(e?1:0),this}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";return this.write(27),this.write("!"),this.write("normal"===e?0:48),this}},{key:"write",value:function(e){return"number"==typeof e?this.buffer.writeUInt8(e):this.buffer.write("string"==typeof e?this.encoder.encode(e):e),this}}]),a}(O),B=function(){var e=function(e){i(a,e);var n=o(a);function a(){var e;return t(this,a),(e=n.call(this)).isConnected=new _.X(!1),e}return r(a,[{key:"setDriver",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ESC/POS";return this.driver=e,this.printLanguage=n,this.driver.connect(),this.driver.isConnected.subscribe(function(e){t.isConnected.next(e)}),this}},{key:"init",value:function(){if(!this.driver)throw"Cannot initiate the print service.  No connection detected.";switch(this.printLanguage){case"WebPRNT":this.builder=new q;break;case"StarPRNT":this.builder=new S;break;default:this.builder=new N}return this.builder.init(),this}},{key:"cut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"full";return this.builder.cut(e),this}},{key:"feed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.builder.feed(e),this}},{key:"setInverse",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.builder.setInverse(e),this}},{key:"setBold",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.builder.setBold(e),this}},{key:"setUnderline",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.builder.setUnderline(e),this}},{key:"setJustification",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"left";return this.builder.setJustification(e),this}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";return this.builder.setSize(e),this}},{key:"writeLine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.builder.writeLine(e),this}},{key:"flush",value:function(){this.driver.write(this.builder.flush())}}]),a}(O);return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,h.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),L=function(e){this.papertype=this.checkedblock=this.url=null,this.timeout=9e4,this.onTimeout=this.onError=this.onReceive=null,this.holdprint_timeout=void 0,this._json=this._url=null,null!=e&&(null!=e.url&&(this.url=e.url),null!=e.checkedblock&&(this.checkedblock=e.checkedblock),null!=e.papertype&&(this.papertype=e.papertype),null!=e.timeout&&(this.timeout=e.timeout),null!=e.holdprint_timeout&&(this.holdprint_timeout=e.holdprint_timeout))},P={};L.prototype._callMessageHandler=function(){var e=this;null==P[e._url]?(P[e._url]=e,webkit.messageHandlers.sendMessageHandler.postMessage(e._json)):setTimeout(function(){e._callMessageHandler()},500)},L.prototype.sendMessage=function(e){var t,n="<root";if(null!=e.checkedblock?0==e.checkedblock&&(n+=' checkedblock="false"'):0==this.checkedblock&&(n+=' checkedblock="false"'),null!=e.papertype?"normal"==e.papertype?n+=' papertype="normal"':"black_mark"==e.papertype?n+=' papertype="black_mark"':"black_mark_and_detect_at_power_on"==e.papertype&&(n+=' papertype="black_mark_and_detect_at_power_on"'):"normal"==this.papertype?n+=' papertype="normal"':"black_mark"==this.papertype?n+=' papertype="black_mark"':"black_mark_and_detect_at_power_on"==this.papertype&&(n+=' papertype="black_mark_and_detect_at_power_on"'),null!=e.holdprint_timeout?n+=' holdprint_timeout="'+e.holdprint_timeout+'"':null!=this.holdprint_timeout&&(n+=' holdprint_timeout="'+this.holdprint_timeout+'"'),t='<StarWebPrint xmlns="http://www.star-m.jp" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Request>',t+=this._encodeEscapeSequence(n=n+">"+e.request+"</root>"),t+="</Request>",t+="</StarWebPrint>",n="",/^https?:\/\/(localhost|127\.0\.0\.1):8001\//.test((n=null!=e.url?e.url:this.url).toLowerCase())&&-1!=navigator.userAgent.indexOf("webPRNTSupportMessageHandler"))this._json=JSON.stringify({url:n,body:t}),this._url=n,this._callMessageHandler();else{var r=null;if(window.XMLHttpRequest)r=new XMLHttpRequest;else{if(!window.ActiveXObject)return void(this.onError&&this.onError({status:10001,responseText:"XMLHttpRequest is not supported."}));r=new ActiveXObject("Microsoft.XMLHTTP")}-1==navigator.userAgent.indexOf("iPad;")&&-1==navigator.userAgent.indexOf("iPhone;")&&-1==navigator.userAgent.indexOf("iPod touch;")&&-1==navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("WebPRNTSupportHTTPS")||0!=n.toLowerCase().indexOf("https://localhost")&&0!=n.toLowerCase().indexOf("https://127.0.0.1")||(n="http://"+n.substring(8));try{r.open("POST",n,!0)}catch(a){return void(this.onError&&this.onError({status:10002,responseText:a.message}))}try{null!=e.timeout?r.timeout=e.timeout:this.timeout&&(r.timeout=this.timeout)}catch(o){}r.setRequestHeader("Content-Type","text/xml; charset=UTF-8");var i=this;r.onreadystatechange=function(){if(4==r.readyState)try{if(200==r.status){var e=r.responseXML.getElementsByTagName("Response");if(0<e.length){if(i.onReceive){var n=e[0].childNodes[0].nodeValue;i.onReceive({traderSuccess:n.slice(n.indexOf("<success>")+9,n.indexOf("</success>")),traderCode:n.slice(n.indexOf("<code>")+6,n.indexOf("</code>")),traderStatus:n.slice(n.indexOf("<status>")+8,n.indexOf("</status>")),status:r.status,responseText:r.responseText})}}else i.onError&&i.onError({status:r.status,responseText:r.responseText})}else i.onError&&i.onError({status:r.status,responseText:r.responseText})}catch(t){i.onError&&i.onError({status:0,responseText:"Connection timeout occurred."})}};try{r.ontimeout=function(){i.onTimeout&&i.onTimeout()}}catch(u){}try{r.send(t)}catch(l){this.onError&&this.onError({status:10003,responseText:l.message})}}},L.prototype._onHandlerSuccess=function(e){trader.onReceive&&trader.onReceive(e)},L.prototype._onHandlerError=function(e){trader.onError&&trader.onError(e)},L.prototype.isCoverOpen=function(e){return!!(32&parseInt(e.traderStatus.substr(4,2),16))},L.prototype.isOffLine=function(e){return!!(8&parseInt(e.traderStatus.substr(4,2),16))},L.prototype.isCompulsionSwitchClose=function(e){return!!(4&parseInt(e.traderStatus.substr(4,2),16))},L.prototype.isEtbCommandExecute=function(e){return!!(2&parseInt(e.traderStatus.substr(4,2),16))},L.prototype.isHighTemperatureStop=function(e){return!!(64&parseInt(e.traderStatus.substr(6,2),16))},L.prototype.isNonRecoverableError=function(e){return!!(32&parseInt(e.traderStatus.substr(6,2),16))},L.prototype.isAutoCutterError=function(e){return!!(8&parseInt(e.traderStatus.substr(6,2),16))},L.prototype.isBlackMarkError=function(e){return!!(8&parseInt(e.traderStatus.substr(8,2),16))},L.prototype.isPaperEnd=function(e){return!!(8&parseInt(e.traderStatus.substr(10,2),16))},L.prototype.isPaperNearEnd=function(e){return!!(4&parseInt(e.traderStatus.substr(10,2),16))},L.prototype.isPaperPresent=function(e){return!!(2&parseInt(e.traderStatus.substr(12,2),16))},L.prototype.extractionEtbCounter=function(e){var t=0;return 64&parseInt(e.traderStatus.substr(14,2),16)&&(t|=16),32&parseInt(e.traderStatus.substr(14,2),16)&&(t|=8),8&parseInt(e.traderStatus.substr(14,2),16)&&(t|=4),4&parseInt(e.traderStatus.substr(14,2),16)&&(t|=2),2&parseInt(e.traderStatus.substr(14,2),16)&&(t|=1),t},L.prototype._encodeEscapeSequence=function(e){var t=/[<>&]/g;return t.test(e)&&(e=e.replace(t,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;"}return"&amp;"})),e};var D=function(n){i(u,n);var a=o(u);function u(e,n){var r;return t(this,u),(r=a.call(this)).isConnected=new _.X(!1),r.vendorId=e,r.productId=n,r}return r(u,[{key:"connect",value:function(){var e=this;navigator.usb.getDevices().then(function(t){return e.device=t.find(function(t){return t.vendorId===e.vendorId&&t.productId===e.productId}),console.log(e.device),e.device.open()}).then(function(){return e.device.selectConfiguration(1)}).then(function(){return e.device.claimInterface(0)}).then(function(t){e.endPoint=e.device.configuration.interfaces[0].alternate.endpoints.find(function(e){return"out"===e.direction}),e.isConnected.next(!0),e.listenForUsbConnections()}).catch(function(t){e.isConnected.next(!1)})}},{key:"requestUsb",value:function(){var e=this;return new w.y(function(t){navigator.usb.requestDevice({filters:[]}).then(function(n){return e.vendorId=n.vendorId,e.productId=n.productId,t.next(n)}).catch(function(e){return t.error(e)})})}},{key:"write",value:function(t){return(0,Z.mG)(this,void 0,void 0,e().mark(function n(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.device.transferOut(this.endPoint.endpointNumber,t);case 1:case"end":return e.stop()}},n,this)}))}},{key:"listenForUsbConnections",value:function(){var e=this;navigator.usb.addEventListener("disconnect",function(){e.isConnected.next(!1)}),navigator.usb.addEventListener("connect",function(){e.isConnected.next(!0)})}}]),u}(function(){return r(function e(){t(this,e)})}()),F=u(98542),U=u(37857),G=u(79765),J=function(){var e=function(){function e(){t(this,e),this.isListening=!1,this.barcodeSubject=new G.xQ,this.fullBarcode="",this.taille=0}return r(e,[{key:"getBarcodeStream",value:function(){return this.barcodeSubject.asObservable()}},{key:"nettoyer",value:function(e){return e.replace(/[\\']/g,"")}},{key:"countBackslashes",value:function(e){return e.split("\\").length-1}},{key:"startListening",value:function(){var e=this;this.isListening=!0,this.fullBarcode="",document.addEventListener("keypress",function(t){var n=t.key;e.fullBarcode+=n,console.log(n),console.log(e.fullBarcode),console.log(e.taille);var r=e.countBackslashes(e.fullBarcode);if(console.log(r),2==r){console.log(e.fullBarcode);var i=e.fullBarcode.split("\\")[1];console.log(i);var a=e.nettoyer(i);e.barcodeSubject.next(a),console.log(a),e.fullBarcode=""}})}},{key:"stopListening",value:function(){this.isListening=!1}},{key:"isCurrentlyListening",value:function(){return this.isListening}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),j=["espece"],Y=["cheque"],H=["bon_achat"],z=["avoir"],V=["carte_bancaire"],Q=["bon_sortie"],$=["apisoft_avoir"],K=["commande_special"],W=["carte_prestige"],X=["reglement_rentree_scolaire"],ee=["carte_cadeau"],te=["orange"],ne=["moov"],re=["afrimarket"],ie=["bourse_livre"],ae=["mtn"],oe=["carte_fidelite"],ue=["yup"],le=["nouvelle_carte_cadeau"],se=["revo"],ce=["barcodeInput"],pe=["reglementInput"],de=["montant1"],me=["montant2"],ve=["montant3"],he=["mode1"],fe=["mode2"],ge=["mode3"],ye=["moyen1"],be=["moyen2"],Ie=["moyen3"],Ee=["indice1"],Ae=["indice2"],Ce=["indice3"],Me=["renduInput"],Te=["ticketnumber"],ke=["remiseGlobal"],_e=["InputIndice2"];function we(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"tr"),h.TgZ(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._UZ(4,"input",65),h.qZA(),h.TgZ(5,"td"),h._UZ(6,"input",65),h.qZA(),h.TgZ(7,"td"),h._UZ(8,"input",65),h.qZA(),h.TgZ(9,"td"),h.TgZ(10,"input",66),h.NdJ("ngModelChange",function(e){return h.CHM(n).$implicit.remise=e})("change",function(){var e=h.CHM(n).$implicit;return h.oxw().modifierRemise(e.code_art,e.remise)}),h.qZA(),h.qZA(),h.TgZ(11,"td"),h.TgZ(12,"input",66),h.NdJ("ngModelChange",function(e){return h.CHM(n).$implicit.quantite=e})("change",function(){var e=h.CHM(n).$implicit;return h.oxw().modifierQuantite(e.code_art,e.quantite)}),h.qZA(),h.qZA(),h.TgZ(13,"td"),h._UZ(14,"input",65),h.qZA(),h.TgZ(15,"td"),h.TgZ(16,"button",67),h.NdJ("click",function(){var e=h.CHM(n).$implicit,t=h.oxw();return t.supprimerProduit(t.ticket,e.code_art)}),h._uU(17,"Supprimer"),h.qZA(),h.qZA(),h.qZA()}if(2&e){var r=t.$implicit;h.xp6(2),h.Oqu(r.code_art),h.xp6(2),h.s9C("value",r.nom_art),h.xp6(2),h.s9C("value",r.prix_moyen),h.xp6(2),h.s9C("value",r.prix_vente),h.xp6(2),h.Q6J("ngModel",r.remise),h.xp6(2),h.Q6J("ngModel",r.quantite),h.xp6(2),h.s9C("value",r.montant)}}function Ze(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"div",68),h.TgZ(1,"h4",69),h._uU(2,"Paiement Espece"),h.qZA(),h.TgZ(3,"button",70),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Fermer")}),h.TgZ(4,"span",71),h._uU(5,"\xd7"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(6,"div",72),h.TgZ(7,"input",73),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().moyenInputValue=e}),h.qZA(),h.TgZ(8,"div",74),h.TgZ(9,"label",75),h._uU(10,"Montant :"),h.qZA(),h.TgZ(11,"input",76),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().montantInputEspece=e}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(12,"div",77),h.TgZ(13,"button",78),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Fermer")}),h._uU(14,"Fermer"),h.qZA(),h.TgZ(15,"button",79),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Valider")}),h._uU(16,"Valider Paiement Espece"),h.qZA(),h.qZA()}if(2&e){var r=h.oxw();h.xp6(7),h.Q6J("ngModel",r.moyenInputValue),h.xp6(4),h.Q6J("ngModel",r.montantInputEspece),h.xp6(4),h.Q6J("disabled",!r.montantInputEspece)}}function Oe(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"div",68),h.TgZ(1,"h4",69),h._uU(2,"Paiement Cheque"),h.qZA(),h.TgZ(3,"button",70),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Fermer")}),h.TgZ(4,"span",71),h._uU(5,"\xd7"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(6,"div",72),h.TgZ(7,"input",73),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().moyenInputCheque=e}),h.qZA(),h.TgZ(8,"div",74),h.TgZ(9,"label",75),h._uU(10,"Montant :"),h.qZA(),h.TgZ(11,"input",76),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().montantInputCheque=e}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(12,"div",77),h.TgZ(13,"button",78),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Fermer")}),h._uU(14,"Fermer"),h.qZA(),h.TgZ(15,"button",79),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Valider")}),h._uU(16,"Valider Paiement Cheque"),h.qZA(),h.qZA()}if(2&e){var r=h.oxw();h.xp6(7),h.Q6J("ngModel",r.moyenInputCheque),h.xp6(4),h.Q6J("ngModel",r.montantInputCheque),h.xp6(4),h.Q6J("disabled",!r.montantInputCheque)}}function Re(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"div",68),h.TgZ(1,"h4",69),h._uU(2,"Paiement Bon-Achat"),h.qZA(),h.TgZ(3,"button",70),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Fermer")}),h.TgZ(4,"span",71),h._uU(5,"\xd7"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(6,"div",72),h.TgZ(7,"div",74),h.TgZ(8,"label",80),h._uU(9,"Num\xe9ro de compte :"),h.qZA(),h.TgZ(10,"input",81),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().numeroInputBonAchat=e}),h.qZA(),h.TgZ(11,"input",73),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().moyenInputBonAchat=e}),h.qZA(),h.qZA(),h.TgZ(12,"div",74),h.TgZ(13,"label",75),h._uU(14,"Proprietaire :"),h.qZA(),h.TgZ(15,"input",76),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().proprietaireInputBonAchat=e}),h.qZA(),h.qZA(),h.TgZ(16,"div",74),h.TgZ(17,"label",75),h._uU(18,"Porteur :"),h.qZA(),h.TgZ(19,"input",76),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().porteurInputBonAchat=e}),h.qZA(),h.qZA(),h.TgZ(20,"div",74),h.TgZ(21,"label",75),h._uU(22,"Montant :"),h.qZA(),h.TgZ(23,"input",76),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().montantInputBonAchat=e}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(24,"div",77),h.TgZ(25,"button",78),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Fermer")}),h._uU(26,"Fermer"),h.qZA(),h.TgZ(27,"button",82),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Valider")}),h._uU(28,"Valider Paiement avec bon d'achat"),h.qZA(),h.qZA()}if(2&e){var r=h.oxw();h.xp6(10),h.Q6J("ngModel",r.numeroInputBonAchat),h.xp6(1),h.Q6J("ngModel",r.moyenInputBonAchat),h.xp6(4),h.Q6J("ngModel",r.proprietaireInputBonAchat),h.xp6(4),h.Q6J("ngModel",r.porteurInputBonAchat),h.xp6(4),h.Q6J("ngModel",r.montantInputBonAchat)}}function Se(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"div",68),h.TgZ(1,"h4",69),h._uU(2,"Paiement Orange"),h.qZA(),h.TgZ(3,"button",70),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Fermer")}),h.TgZ(4,"span",71),h._uU(5,"\xd7"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(6,"div",72),h.TgZ(7,"div",74),h.TgZ(8,"label",80),h._uU(9,"Num\xe9ro de compte :"),h.qZA(),h.TgZ(10,"input",81),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().numeroInputOrange=e}),h.qZA(),h.TgZ(11,"input",73),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().moyenInputOrange=e}),h.qZA(),h.qZA(),h.TgZ(12,"div",74),h.TgZ(13,"label",75),h._uU(14,"Proprietaire :"),h.qZA(),h.TgZ(15,"input",76),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().proprietaireInputOrange=e}),h.qZA(),h.qZA(),h.TgZ(16,"div",74),h.TgZ(17,"label",75),h._uU(18,"Porteur :"),h.qZA(),h.TgZ(19,"input",76),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().porteurInputOrange=e}),h.qZA(),h.qZA(),h.TgZ(20,"div",74),h.TgZ(21,"label",75),h._uU(22,"Montant :"),h.qZA(),h.TgZ(23,"input",76),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().montantInputOrange=e}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(24,"div",77),h.TgZ(25,"button",78),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Fermer")}),h._uU(26,"Fermer"),h.qZA(),h.TgZ(27,"button",79),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Valider")}),h._uU(28,"Valider Paiement Orange"),h.qZA(),h.qZA()}if(2&e){var r=h.oxw();h.xp6(10),h.Q6J("ngModel",r.numeroInputOrange),h.xp6(1),h.Q6J("ngModel",r.moyenInputOrange),h.xp6(4),h.Q6J("ngModel",r.proprietaireInputOrange),h.xp6(4),h.Q6J("ngModel",r.porteurInputOrange),h.xp6(4),h.Q6J("ngModel",r.montantInputOrange),h.xp6(4),h.Q6J("disabled",!(r.numeroInputOrange&&r.proprietaireInputOrange&&r.porteurInputOrange&&r.montantInputOrange))}}function xe(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"div",68),h.TgZ(1,"h4",69),h._uU(2,"Paiement Afrimarket"),h.qZA(),h.TgZ(3,"button",70),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Fermer")}),h.TgZ(4,"span",71),h._uU(5,"\xd7"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(6,"div",72),h.TgZ(7,"div",74),h.TgZ(8,"label",80),h._uU(9,"Num\xe9ro de compte :"),h.qZA(),h.TgZ(10,"input",81),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().numeroInputAfri=e}),h.qZA(),h.TgZ(11,"input",73),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().moyenInputAfri=e}),h.qZA(),h.qZA(),h.TgZ(12,"div",74),h.TgZ(13,"label",75),h._uU(14,"Proprietaire :"),h.qZA(),h.TgZ(15,"input",76),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().proprietaireInputAfri=e}),h.qZA(),h.qZA(),h.TgZ(16,"div",74),h.TgZ(17,"label",75),h._uU(18,"Porteur :"),h.qZA(),h.TgZ(19,"input",76),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().porteurInputAfri=e}),h.qZA(),h.qZA(),h.TgZ(20,"div",74),h.TgZ(21,"label",75),h._uU(22,"Montant :"),h.qZA(),h.TgZ(23,"input",76),h.NdJ("ngModelChange",function(e){return h.CHM(n),h.oxw().montantInputAfri=e}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(24,"div",77),h.TgZ(25,"button",78),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Fermer")}),h._uU(26,"Fermer"),h.qZA(),h.TgZ(27,"button",79),h.NdJ("click",function(){return h.CHM(n).$implicit.close("Valider")}),h._uU(28,"Valider Paiement Afri-Market"),h.qZA(),h.qZA()}if(2&e){var r=h.oxw();h.xp6(10),h.Q6J("ngModel",r.numeroInputAfri),h.xp6(1),h.Q6J("ngModel",r.moyenInputAfri),h.xp6(4),h.Q6J("ngModel",r.proprietaireInputAfri),h.xp6(4),h.Q6J("ngModel",r.porteurInputAfri),h.xp6(4),h.Q6J("ngModel",r.montantInputAfri),h.xp6(4),h.Q6J("disabled",!(r.numeroInputAfri&&r.proprietaireInputAfri&&r.porteurInputAfri&&r.montantInputAfri))}}var qe,Ne,Be,Le,Pe=function(){var e=function(e){i(a,e);var n=o(a);function a(e,r,i,o,u,l,s,c,p,d,m,v,h){var f;return t(this,a),(f=n.call(this,e,o,u,l,s,p,c)).logger=e,f.route=r,f.router=i,f.httpService=o,f.envService=u,f.messageService=l,f.authService=s,f.modal=c,f.menuService=p,f.changeDetectorRef=d,f.modalService=m,f.barcodeScannerService=v,f.printService=h,f.status=!1,f.usbPrintDrivers=[],f.lettresAutorisees=[],f.closeResult="",f.numeroInputEspece="",f.numeroInputCheque="",f.numeroInputAfri="",f.numeroInputTotal="",f.numeroInputBonAchat="",f.numeroInputAvoir="",f.numeroInputCarteBancaire="",f.numeroInputSortieCaisse="",f.numeroInputApisoftAvoir="",f.numeroInputCmdSpec="",f.numeroInputPrestige="",f.numeroInputReglementRentreeScolaire="",f.numeroInputCarteCadeau="",f.numeroInputOrange="",f.numeroInputMoov="",f.numeroInputBourseLivre="",f.numeroInputMtn="",f.numeroInputCarteFidelite="",f.numeroInputYup="",f.numeroInputNouvelleCarteCadeau="",f.numeroInputRevo="",f.moyenInputEspece="",f.moyenInputCheque="",f.moyenInputAfri="",f.moyenInputTotal="",f.moyenInputBonAchat="",f.moyenInputAvoir="",f.moyenInputCarteBancaire="",f.moyenInputSortieCaisse="",f.moyenInputApisoftAvoir="",f.moyenInputCmdSpec="",f.moyenInputPrestige="",f.moyenInputReglementRentreeScolaire="",f.moyenInputCarteCadeau="",f.moyenInputOrange="",f.moyenInputMoov="",f.moyenInputBourseLivre="",f.moyenInputMtn="",f.moyenInputCarteFidelite="",f.moyenInputYup="",f.moyenInputNouvelleCarteCadeau="",f.moyenInputRevo="",f.proprietaireInputEspece="",f.proprietaireInputCheque="",f.proprietaireInputAfri="",f.proprietaireInputTotal="",f.proprietaireInputBonAchat="",f.proprietaireInputAvoir="",f.proprietaireInputCarteBancaire="",f.proprietaireInputSortieCaisse="",f.proprietaireInputApisoftAvoir="",f.proprietaireInputCmdSpec="",f.proprietaireInputPrestige="",f.proprietaireInputReglementRentreeScolaire="",f.proprietaireInputCarteCadeau="",f.proprietaireInputOrange="",f.proprietaireInputMoov="",f.proprietaireInputBourseLivre="",f.proprietaireInputMtn="",f.proprietaireInputCarteFidelite="",f.proprietaireInputYup="",f.proprietaireInputNouvelleCarteCadeau="",f.proprietaireInputRevo="",f.porteurInputEspece="",f.porteurInputCheque="",f.porteurInputAfri="",f.porteurInputTotal="",f.porteurInputBonAchat="",f.porteurInputAvoir="",f.porteurInputCarteBancaire="",f.porteurInputSortieCaisse="",f.porteurInputApisoftAvoir="",f.porteurInputCmdSpec="",f.porteurInputPrestige="",f.porteurInputReglementRentreeScolaire="",f.porteurInputCarteCadeau="",f.porteurInputOrange="",f.porteurInputMoov="",f.porteurInputBourseLivre="",f.porteurInputMtn="",f.porteurInputCarteFidelite="",f.porteurInputYup="",f.porteurInputNouvelleCarteCadeau="",f.porteurInputRevo="",f.montantInputEspece="",f.montantInputCheque="",f.montantInputAfri="",f.montantInputBonAchat="",f.montantInputValuetotal="",f.montantInputAvoir="",f.montantInputCarteBancaire="",f.montantInputSortieCaisse="",f.montantInputApisoftAvoir="",f.montantInputCmdSpec="",f.montantInputPrestige="",f.montantInputReglementRentreeScolaire="",f.montantInputCarteCadeau="",f.montantInputOrange="",f.montantInputMoov="",f.montantInputBourseLivre="",f.montantInputMtn="",f.montantInputCarteFidelite="",f.montantInputYup="",f.montantInputNouvelleCarteCadeau="",f.montantInputRevo="",f.etablissementInputEspece="",f.etablissementInputCheque="",f.etablissementInputValuetotal="",f.etablissementInputAfri="",f.etablissementBonAchat="",f.etablissementAvoir="",f.etablissementCarteBancaire="",f.etablissementSortieCaisse="",f.etablissementApisoftAvoir="",f.etablissementCmdSpec="",f.etablissementPrestige="",f.etablissementReglementRentreeScolaire="",f.etablissementCarteCadeau="",f.etablissementOrange="",f.etablissementMoov="",f.etablissementBourseLivre="",f.etablissementMtn="",f.etablissementCarteFidelite="",f.etablissementYup="",f.etablissementNouvelleCarteCadeau="",f.etablissementRevo="",f.indiceInputEspece="",f.indiceInputCheque="",f.indiceInputAfri="",f.indiceInputValuetotal="",f.indiceInputBonAchat="",f.indiceInputAvoir="",f.indiceInputCarteBancaire="",f.indiceInputSortieCaisse="",f.indiceInputApisoftAvoir="",f.indiceInputCmdSpec="",f.indiceInputPrestige="",f.indiceInputReglementRentreeScolaire="",f.indiceInputCarteCadeau="",f.indiceInputOrange="",f.indiceInputMoov="",f.indiceInputBourseLivre="",f.indiceInputMtn="",f.indiceInputCarteFidelite="",f.indiceInputYup="",f.indiceInputNouvelleCarteCadeau="",f.indiceInputRevo="",f.lastBarcode="",f.inputValue="",f.inputValue1="",f.inputValue2="",f.inputValue3="",f.isEditMode=!1,f.isVisible=!1,f.produits=[],f.referenceProduit="",f.messageErreur="",f.totalMontant=0,f.montantRendu=0,f.achatDesactive=!1,f.ticket="",f.test="",f.usbDriver=new D,f}return r(a,[{key:"handleKeyboardEvent",value:function(e){e.ctrlKey&&"y"===e.key&&this.parcours(),e.ctrlKey&&"b"===e.key&&(this.initialiser(),this.reloadComponent(),this.reglementInput.nativeElement.value="",this.renduInput.nativeElement.value="",this.remiseGlobal.nativeElement.value="",this.produits=[],this.calculerTotalMontant(),this.ticket=""),"F9"===e.key&&this.validerAchat()}},{key:"parcours",value:function(){var e=this;this.httpService.tedData("".concat(C._q,"/navigation/"),{user_id:this.user.CODE_AGENT}).subscribe(function(t){e.calculerTotalMontant(),e.recupticketnumber()})}},{key:"initialiser",value:function(){var e=this,t={user_id:this.user.CODE_AGENT};this.httpService.tedData("".concat(C._q,"/initialisation/").concat(t.user_id),t).subscribe(function(t){e.checkMontantReglement(),e.calculerTotalMontant()})}},{key:"modalTitle",get:function(){return this.isEditMode?"Mise \xe0 jour":"Ajouter"}},{key:"openModal",value:function(e,t){var n,r=this,i="montant"+t,a="moyen"+t,o="mode"+t;"E"==e&&(n=this.espece),"M"==e&&(n=this.afrimarket),"O"==e&&(n=this.orange),void 0!==n&&this.modalService.open(n,{ariaLabelledBy:"modal-basic-title"}).result.then(function(e){"Valider"===e&&(n==r.espece&&(document.getElementById(i).setAttribute("value",r.montantInputEspece),document.getElementById(a).setAttribute("value","Espece"),document.getElementById(o).setAttribute("value","1"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.orange&&(document.getElementById(i).setAttribute("value",r.montantInputOrange),document.getElementById(a).setAttribute("value","Orange"),document.getElementById(o).setAttribute("value","64"),r.paiement_Modal({user_id:r.user.CODE_AGENT,ticket:r.ticketnumber.nativeElement.value,proprietaire:r.proprietaireInputOrange,montant:r.montantInputOrange,banque:"Orange Money CI",numero:r.numeroInputOrange,moyen_reglement:64,porteur:r.porteurInputOrange}),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.cheque&&(document.getElementById(i).setAttribute("value",r.montantInputCheque),document.getElementById(a).setAttribute("value","Cheque"),document.getElementById(o).setAttribute("value","2"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.bon_achat&&(document.getElementById(i).setAttribute("value",r.montantInputBonAchat),document.getElementById(a).setAttribute("value","Bon Achat"),document.getElementById(o).setAttribute("value","3"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.avoir&&(document.getElementById(i).setAttribute("value",r.montantInputAvoir),document.getElementById(a).setAttribute("value","Avoir"),document.getElementById(o).setAttribute("value","4"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.carte_bancaire&&(document.getElementById(i).setAttribute("value",r.montantInputCarteBancaire),document.getElementById(a).setAttribute("value","Carte Bancaire"),document.getElementById(o).setAttribute("value","5"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.bon_sortie&&(document.getElementById(i).setAttribute("value",r.montantInputSortieCaisse),document.getElementById(a).setAttribute("value","Bon Sortie Caisse"),document.getElementById(o).setAttribute("value","6"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.apisoft_avoir&&(document.getElementById(i).setAttribute("value",r.montantInputApisoftAvoir),document.getElementById(a).setAttribute("value","Apisoft - Avoir"),document.getElementById(o).setAttribute("value","7"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.commande_special&&(document.getElementById(i).setAttribute("value",r.montantInputCmdSpec),document.getElementById(a).setAttribute("value","Commande Speciale - Avoir"),document.getElementById(o).setAttribute("value","21"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.carte_prestige&&(document.getElementById(i).setAttribute("value",r.montantInputPrestige),document.getElementById(a).setAttribute("value","Carte Prestige"),document.getElementById(o).setAttribute("value","61"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.reglement_rentree_scolaire&&(document.getElementById(i).setAttribute("value",r.montantInputReglementRentreeScolaire),document.getElementById(a).setAttribute("value","Reglement Rentree Scolaire"),document.getElementById(o).setAttribute("value","62"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.carte_cadeau&&(document.getElementById(i).setAttribute("value",r.montantInputCarteCadeau),document.getElementById(a).setAttribute("value","Carte Cado"),document.getElementById(o).setAttribute("value","63"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.orange&&(document.getElementById(i).setAttribute("value",r.montantInputOrange),document.getElementById(a).setAttribute("value","Orange Money"),document.getElementById(o).setAttribute("value","64"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.moov&&(document.getElementById(i).setAttribute("value",r.montantInputMoov),document.getElementById(a).setAttribute("value","Moov Money"),document.getElementById(o).setAttribute("value","65"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.afrimarket&&(document.getElementById(i).setAttribute("value",r.montantInputAfri),document.getElementById(a).setAttribute("value","Afrimarket"),document.getElementById(o).setAttribute("value","66"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.bourse_livre&&(document.getElementById(i).setAttribute("value",r.montantInputBourseLivre),document.getElementById(a).setAttribute("value","Bourse aux Livres"),document.getElementById(o).setAttribute("value","67"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.mtn&&(document.getElementById(i).setAttribute("value",r.montantInputMtn),document.getElementById(a).setAttribute("value","Mtn Money"),document.getElementById(o).setAttribute("value","68"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.carte_fidelite&&(document.getElementById(i).setAttribute("value",r.montantInputCarteFidelite),document.getElementById(a).setAttribute("value","Carte de Fidelit\xe9"),document.getElementById(o).setAttribute("value","69"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.yup&&(document.getElementById(i).setAttribute("value",r.montantInputYup),document.getElementById(a).setAttribute("value","Yup Money"),document.getElementById(o).setAttribute("value","70"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.nouvelle_carte_cadeau&&(document.getElementById(i).setAttribute("value",r.montantInputNouvelleCarteCadeau),document.getElementById(a).setAttribute("value","Nouvelle Carte cado"),document.getElementById(o).setAttribute("value","71"),r.checkMontantReglement(),r.calculerTotalMontant()),n==r.revo&&(document.getElementById(i).setAttribute("value",r.montantInputRevo),document.getElementById(a).setAttribute("value","Revo"),document.getElementById(o).setAttribute("value","72"),r.checkMontantReglement(),r.calculerTotalMontant())),"Fermer"===e&&(n==r.espece&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputEspece="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputEspece="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputEspece="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.orange&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputOrange="",r.proprietaireInputOrange="",r.numeroInputOrange="",r.porteurInputEspece="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputOrange="",r.proprietaireInputOrange="",r.numeroInputOrange="",r.porteurInputEspece="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputOrange="",r.proprietaireInputOrange="",r.numeroInputOrange="",r.porteurInputEspece="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.cheque&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputCheque="",r.proprietaireInputCheque="",r.numeroInputCheque="",r.porteurInputCheque="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputCheque="",r.proprietaireInputCheque="",r.numeroInputCheque="",r.porteurInputCheque="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputCheque="",r.proprietaireInputCheque="",r.numeroInputCheque="",r.porteurInputCheque="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.bon_achat&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputBonAchat="",r.proprietaireInputBonAchat="",r.numeroInputBonAchat="",r.porteurInputBonAchat="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputBonAchat="",r.proprietaireInputBonAchat="",r.numeroInputBonAchat="",r.porteurInputBonAchat="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputBonAchat="",r.proprietaireInputBonAchat="",r.numeroInputBonAchat="",r.porteurInputBonAchat="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.avoir&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputAvoir="",r.proprietaireInputAvoir="",r.numeroInputAvoir="",r.porteurInputAvoir="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputAvoir="",r.proprietaireInputAvoir="",r.numeroInputAvoir="",r.porteurInputAvoir="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputAvoir="",r.proprietaireInputAvoir="",r.numeroInputAvoir="",r.porteurInputAvoir="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.carte_bancaire&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputCarteBancaire="",r.proprietaireInputCarteBancaire="",r.numeroInputCarteBancaire="",r.porteurInputCarteBancaire="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputCarteBancaire="",r.proprietaireInputCarteBancaire="",r.numeroInputCarteBancaire="",r.porteurInputCarteBancaire="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputCarteBancaire="",r.proprietaireInputCarteBancaire="",r.numeroInputCarteBancaire="",r.porteurInputCarteBancaire="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.bon_sortie&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputSortieCaisse="",r.proprietaireInputSortieCaisse="",r.numeroInputSortieCaisse="",r.porteurInputSortieCaisse="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputSortieCaisse="",r.proprietaireInputSortieCaisse="",r.numeroInputSortieCaisse="",r.porteurInputSortieCaisse="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputSortieCaisse="",r.proprietaireInputSortieCaisse="",r.numeroInputSortieCaisse="",r.porteurInputSortieCaisse="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.apisoft_avoir&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputApisoftAvoir="",r.proprietaireInputApisoftAvoir="",r.numeroInputApisoftAvoir="",r.porteurInputApisoftAvoir="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputApisoftAvoir="",r.proprietaireInputApisoftAvoir="",r.numeroInputApisoftAvoir="",r.porteurInputApisoftAvoir="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputApisoftAvoir="",r.proprietaireInputApisoftAvoir="",r.numeroInputApisoftAvoir="",r.porteurInputApisoftAvoir="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.commande_special&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputCmdSpec="",r.proprietaireInputCmdSpec="",r.numeroInputCmdSpec="",r.porteurInputCmdSpec="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputCmdSpec="",r.proprietaireInputCmdSpec="",r.numeroInputCmdSpec="",r.porteurInputCmdSpec="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputCmdSpec="",r.proprietaireInputCmdSpec="",r.numeroInputCmdSpec="",r.porteurInputCmdSpec="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.carte_prestige&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputPrestige="",r.proprietaireInputPrestige="",r.numeroInputPrestige="",r.porteurInputPrestige="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputPrestige="",r.proprietaireInputPrestige="",r.numeroInputPrestige="",r.porteurInputPrestige="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputPrestige="",r.proprietaireInputPrestige="",r.numeroInputPrestige="",r.porteurInputPrestige="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.reglement_rentree_scolaire&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputReglementRentreeScolaire="",r.proprietaireInputReglementRentreeScolaire="",r.numeroInputReglementRentreeScolaire="",r.porteurInputReglementRentreeScolaire="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputReglementRentreeScolaire="",r.proprietaireInputReglementRentreeScolaire="",r.numeroInputReglementRentreeScolaire="",r.porteurInputReglementRentreeScolaire="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputReglementRentreeScolaire="",r.proprietaireInputReglementRentreeScolaire="",r.numeroInputReglementRentreeScolaire="",r.porteurInputReglementRentreeScolaire="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.carte_cadeau&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputCarteCadeau="",r.proprietaireInputCarteCadeau="",r.numeroInputCarteCadeau="",r.porteurInputCarteCadeau="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputCarteCadeau="",r.proprietaireInputCarteCadeau="",r.numeroInputCarteCadeau="",r.porteurInputCarteCadeau="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputCarteCadeau="",r.proprietaireInputCarteCadeau="",r.numeroInputCarteCadeau="",r.porteurInputCarteCadeau="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.orange&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputOrange="",r.proprietaireInputOrange="",r.numeroInputOrange="",r.porteurInputOrange="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputOrange="",r.proprietaireInputOrange="",r.numeroInputOrange="",r.porteurInputOrange="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputOrange="",r.proprietaireInputOrange="",r.numeroInputOrange="",r.porteurInputOrange="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.moov&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputMoov="",r.proprietaireInputMoov="",r.numeroInputMoov="",r.porteurInputMoov="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputMoov="",r.proprietaireInputMoov="",r.numeroInputMoov="",r.porteurInputMoov="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputMoov="",r.proprietaireInputMoov="",r.numeroInputMoov="",r.porteurInputMoov="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.afrimarket&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputAfri="",r.proprietaireInputAfri="",r.numeroInputAfri="",r.porteurInputAfri="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputAfri="",r.proprietaireInputAfri="",r.numeroInputAfri="",r.porteurInputAfri="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputAfri="",r.proprietaireInputAfri="",r.numeroInputAfri="",r.porteurInputAfri="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.bourse_livre&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputBourseLivre="",r.proprietaireInputBourseLivre="",r.numeroInputBourseLivre="",r.porteurInputBourseLivre="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputBourseLivre="",r.proprietaireInputBourseLivre="",r.numeroInputBourseLivre="",r.porteurInputBourseLivre="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputBourseLivre="",r.proprietaireInputBourseLivre="",r.numeroInputBourseLivre="",r.porteurInputBourseLivre="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.mtn&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputMtn="",r.proprietaireInputMtn="",r.numeroInputMtn="",r.porteurInputMtn="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputMtn="",r.proprietaireInputMtn="",r.numeroInputMtn="",r.porteurInputMtn="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputMtn="",r.proprietaireInputMtn="",r.numeroInputMtn="",r.porteurInputMtn="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.carte_fidelite&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputCarteFidelite="",r.proprietaireInputCarteFidelite="",r.numeroInputCarteFidelite="",r.porteurInputCarteFidelite="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputCarteFidelite="",r.proprietaireInputCarteFidelite="",r.numeroInputCarteFidelite="",r.porteurInputCarteFidelite="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputCarteFidelite="",r.proprietaireInputCarteFidelite="",r.numeroInputCarteFidelite="",r.porteurInputCarteFidelite="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.yup&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputYup="",r.proprietaireInputYup="",r.numeroInputYup="",r.porteurInputYup="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputYup="",r.proprietaireInputYup="",r.numeroInputYup="",r.porteurInputYup="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputYup="",r.proprietaireInputYup="",r.numeroInputYup="",r.porteurInputYup="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.nouvelle_carte_cadeau&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputNouvelleCarteCadeau="",r.proprietaireInputNouvelleCarteCadeau="",r.numeroInputNouvelleCarteCadeau="",r.porteurInputNouvelleCarteCadeau="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputNouvelleCarteCadeau="",r.proprietaireInputNouvelleCarteCadeau="",r.numeroInputNouvelleCarteCadeau="",r.porteurInputNouvelleCarteCadeau="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputNouvelleCarteCadeau="",r.proprietaireInputNouvelleCarteCadeau="",r.numeroInputNouvelleCarteCadeau="",r.porteurInputNouvelleCarteCadeau="",r.checkMontantReglement(),r.calculerTotalMontant())),n==r.revo&&(1==t&&(r.indice1.nativeElement.value="",r.moyen1.nativeElement.value="",r.montant1.nativeElement.value="",r.mode1.nativeElement.value="",r.montantInputRevo="",r.proprietaireInputRevo="",r.numeroInputRevo="",r.porteurInputRevo="",r.checkMontantReglement(),r.calculerTotalMontant()),2==t&&(r.indice2.nativeElement.value="",r.moyen2.nativeElement.value="",r.montant2.nativeElement.value="",r.mode2.nativeElement.value="",r.montantInputRevo="",r.proprietaireInputRevo="",r.numeroInputRevo="",r.porteurInputRevo="",r.checkMontantReglement(),r.calculerTotalMontant()),3==t&&(r.indice3.nativeElement.value="",r.moyen3.nativeElement.value="",r.montant3.nativeElement.value="",r.mode3.nativeElement.value="",r.montantInputRevo="",r.proprietaireInputRevo="",r.numeroInputRevo="",r.porteurInputRevo="",r.checkMontantReglement(),r.calculerTotalMontant())))},function(e){})}},{key:"verifierLettre",value:function(e){switch(e){case 2:this.lettresAutorisees.includes(this.inputValue2)||(this.inputValue2="",this.indice2.nativeElement.value="");break;case 3:this.lettresAutorisees.includes(this.inputValue3)||(this.inputValue3="",this.indice3.nativeElement.value="");break;default:this.lettresAutorisees.includes(this.inputValue1)||(this.inputValue1="",this.indice1.nativeElement.value="")}}},{key:"checkForPaiement",value:function(e){switch(e){case 2:this.verifierLettre(e),this.openModal(this.inputValue2,e);break;case 3:this.verifierLettre(e),this.openModal(this.inputValue3,e);break;default:this.verifierLettre(e),this.openModal(this.inputValue1,e)}}},{key:"reloadComponent",value:function(){var e=this,t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){e.router.navigate([t])})}},{key:"imprimerTicket",value:function(e){var t=e;console.log(t),this.httpService.tedData("".concat(C._q,"/impressionticket/").concat(t),t).subscribe(function(e){console.log("Ticket imprim\xe9 avec succ\xe8s :",e)},function(e){console.error("Erreur lors de l'impression du ticket :",e)})}},{key:"limitValue",value:function(e){e.value>99&&(e.value=99)}},{key:"refresh",value:function(){window.location.reload()}},{key:"supprimerProduit",value:function(e,t){var n=this;this.httpService.tedData("".concat(C._q,"/supprimerligne/").concat(t),{effaceur:this.user.CODE_AGENT,panier:e}).subscribe(function(e){n.reglementInput.nativeElement.value="",n.renduInput.nativeElement.value="",n.remiseGlobal.nativeElement.value="",n.calculerTotalMontant(),n.recupticketnumber(),n.checkMontantReglement()})}},{key:"checkMontantReglement",value:function(){var e=this.montant2.nativeElement.value||0,t=this.montant3.nativeElement.value||0;this.montantReglement=parseInt(this.montant1.nativeElement.value||0)+parseInt(e)+parseInt(t),console.log(this.montantReglement),null!=this.montantReglement?(this.montantRendu=this.montantReglement-this.totalMontant,console.log(this.montantReglement),console.log(this.totalMontant),console.log(this.montantRendu)):this.montantRendu=0,this.montantRendu<=0&&(this.montantRendu=0),this.achatDesactive=this.montantReglement<this.totalMontant||this.montantReglement<=0||null==this.montantReglement,console.log(this.achatDesactive)}},{key:"validerAchat",value:function(){var e=this;this.httpService.tedData("".concat(C._q,"/ventesession/"),{code_reg:this.ticketnumber.nativeElement.value,code_mr:this.mode1.nativeElement.value||0,p_m_code_mr:this.mode2.nativeElement.value||null,p_m2_code_mr:this.mode3.nativeElement.value||null,montant:0,montant_reg:this.montantReglement,montant_remis:this.reglementInput.nativeElement.value,mont_mde_reg1:this.montant1.nativeElement.value||0,mont_mde_reg2:this.montant2.nativeElement.value||0,mont_mde_reg3:this.montant3.nativeElement.value||0,monnaie_rendue:this.renduInput.nativeElement.value,flag_clo:!0,mont_mde_reg1_temp:this.montant1.nativeElement.value||0,mont_mde_reg2_temp:this.montant2.nativeElement.value||0,mont_mde_reg3_temp:this.montant3.nativeElement.value||0,vente_apisoft:!0}).subscribe(function(t){201==t.status?(alert("La vente "+e.ticket+" a \xe9t\xe9 effectu\xe9e avec succ\xe8s"),e.print(e.ticket),e.reloadComponent()):alert(" Echec de la vente ")})}},{key:"modifierQuantite",value:function(e,t){var n=this;this.httpService.tedData("".concat(C._q,"/quantiteachat/").concat(e),{panier:this.ticketnumber.nativeElement.value,quantite:t}).subscribe(function(e){n.calculerTotalMontant(),n.recupticketnumber(),n.checkMontantReglement()})}},{key:"modifierRemise",value:function(e,t){var n=this;this.httpService.tedData("".concat(C._q,"/remisearticle/").concat(e),{panier:this.ticketnumber.nativeElement.value,remise:t}).subscribe(function(e){n.calculerTotalMontant(),n.recupticketnumber(),n.checkMontantReglement()})}},{key:"RemiseGlobal",value:function(e){var t=this;this.httpService.tedData("".concat(C._q,"/remiseglobal/").concat(e),{remise:this.remiseGlobal.nativeElement.value}).subscribe(function(e){t.calculerTotalMontant(),t.recupticketnumber(),t.checkMontantReglement()})}},{key:"ajouterProduit",value:function(e){var t=this;if(""!==e.trim()){console.log(this.referenceProduit);var n=this.produits.find(function(e){return e.code_art===t.referenceProduit});if(console.log(n),n)this.httpService.tedData("".concat(C._q,"/differe/").concat(n.code_art),{user_id:this.user.CODE_AGENT}).subscribe(function(e){for(var n=e.body.article,r=n.length,i=0;i<r;i++)t.produits.splice(n[i]);for(var a=0;a<r;a++)t.produits.push(n[a]);t.calculerTotalMontant(),t.recupticketnumber(),t.checkMontantReglement(),t.calculerTotalMontant()});else{if(null!=this.selectProductByReference(this.referenceProduit))return void(this.messageErreur="Veuillez entrer une r\xe9f\xe9rence de produit valide.");this.httpService.tedData("".concat(C._q,"/differe/").concat(e),{user_id:this.user.CODE_AGENT}).subscribe(function(e){t.reglementInput.nativeElement.value="",t.renduInput.nativeElement.value="",t.remiseGlobal.nativeElement.value="",t.calculerTotalMontant(),t.recupticketnumber(),t.checkMontantReglement()})}this.referenceProduit="",this.messageErreur=""}else this.messageErreur="Veuillez entrer une r\xe9f\xe9rence de produit valide."}},{key:"selectProductByReference",value:function(e){return null}},{key:"AjoutCodeBarre",value:function(e){var t=this;if(console.log(e),""!==e.trim()){var n=this.produits.find(function(t){return t.code_barre===e});if(n)this.httpService.tedData("".concat(C._q,"/differe/").concat(n.code_art),{user_id:this.user.CODE_AGENT}).subscribe(function(e){for(var n=e.body.article,r=n.length,i=0;i<r;i++)t.produits.splice(n[i]);for(var a=0;a<r;a++)t.produits.push(n[a]);t.calculerTotalMontant(),t.recupticketnumber(),t.checkMontantReglement(),t.calculerTotalMontant(),t.reloadComponent()});else{if(null!=this.selectProductByReference(e))return void(this.messageErreur="Veuillez entrer une r\xe9f\xe9rence de produit valide.");var r=e;console.log(r),this.httpService.tedData("".concat(C._q,"/differe/").concat(r),{user_id:this.user.CODE_AGENT}).subscribe(function(e){for(var n=e.body.article,r=n.length,i=0;i<r;i++)t.produits.splice(n[i]);for(var a=0;a<r;a++)t.produits.push(n[a]);t.calculerTotalMontant(),t.recupticketnumber(),t.checkMontantReglement(),t.calculerTotalMontant(),t.reloadComponent()})}this.referenceProduit="",this.messageErreur=""}else this.messageErreur="Veuillez entrer une r\xe9f\xe9rence de produit valide."}},{key:"calculerTotalMontant",value:function(){var e=this;this.httpService.tedgetData("".concat(C._q,"/differe/").concat(this.user.CODE_AGENT)).subscribe(function(t){var n=t.body.article,r=n.length,i=t.body.total;n.total=i,0==r&&(e.produits=[]);for(var a=0;a<r;a++)e.produits.splice(n[a]);for(var o=0;o<r;o++)e.produits.push(n[o]);e.totalMontant=i,e.checkMontantReglement()})}},{key:"recupticketnumber",value:function(){var e=this;this.httpService.tedgetData("".concat(C._q,"/differe/").concat(this.user.CODE_AGENT)).subscribe(function(t){e.ticket=t.body.ticket})}},{key:"paiement_Modal",value:function(e){this.httpService.tedData("".concat(C._q,"/enregisterpaiement/"),e).subscribe(function(e){})}},{key:"nettoyer",value:function(e){return e.replace(/[\\']/g,"")}},{key:"ngOnInit",value:function(){var e=this;this.form.model=Object.assign({},M),this.form.fields=k,this.form.options=T,this.barcodeScannerService.isCurrentlyListening()||(this.barcodeScannerService.startListening(),this.barcodeScannerService.isListening=!0,this.barcodeScannerService.getBarcodeStream().subscribe(function(t){e.AjoutCodeBarre(e.nettoyer(t))})),this.detectUsbPrinters(),this.httpService.tedgetData("".concat(C._q,"/differe/").concat(this.user.CODE_AGENT)).subscribe(function(t){var n=t.body.article,r=n.length;n.total=t.body.total;for(var i=0;i<r;i++)e.produits.splice(n[i]);for(var a=0;a<r;a++)e.produits.push(n[a]);e.calculerTotalMontant(),e.recupticketnumber(),e.checkMontantReglement()}),this.httpService.tedgetData("".concat(C._q,"/listepaiement/")).subscribe(function(t){t.body.moyens&&(e.lettresAutorisees=t.body.moyens.map(function(e){return e.let_mr}))},function(e){console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es depuis l'API :",e)}),this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"vente-caisse")},cancel:function(e){}}]}},{key:"detectUsbPrinters",value:function(){var e=this;[{vendorId:1208,productId:514}].forEach(function(t){var n=new D(t.vendorId,t.productId);n.isConnected.subscribe(function(r){r&&(console.log("Connected to USB printer - Vendor ID: ".concat(t.vendorId,", Product ID: ").concat(t.productId)),e.status=!0,e.printService.setDriver(n))}),e.usbPrintDrivers.push(n),n.connect()})}},{key:"requestUsb",value:function(){var e=this;this.usbDriver.requestUsb().subscribe(function(t){e.printService.setDriver(e.usbDriver)},function(e){console.log(e)})}},{key:"print",value:function(e){var t=this;this.httpService.tedData("".concat(C._q,"/ticket/").concat(e),{user_id:this.user.CODE_AGENT}).subscribe(function(e){t.caissiere=e.body.caissiere,t.ticketimprim=e.body.ticket,t.dateAchat=e.body["date achat"],t.remise=e.body.remise,t.montantRenduimprim=e.body["montant rendue"],t.recu=e.body.recu,t.totalAchat=e.body["total achat"],t.moyensDePaiement=e.body.moyens,t.articles=e.body.articles,t.printService.init().setBold(!0).writeLine("          LIBRAIRIE DE FRANCE           ").writeLine("          Abidjan Plateau               ").writeLine("    Avenue. Chardy 01 BP 228 Abj 01     ").writeLine("Tel:27 20 30 63 63 / Fax: 27 20 30 63 64").writeLine("       ").writeLine("          TICKET DE CAISSE              ").writeLine("       ").setBold(!0).writeLine("Date : "+t.dateAchat).writeLine("No Ticket :"+t.ticket).writeLine("Code Caissiere(e) :"+t.caissiere).writeLine("========================================").writeLine("           Produits achetes :           ").writeLine("========================================").setBold(!1),t.articles.forEach(function(e){var n=e.nom_art.substring(0,20);t.printService.writeLine("".concat(n," - ").concat(e.prix_moyen," FCFA (").concat(e.quantite,"x)"))}),t.printService.writeLine("========================================").writeLine("Total Achat : "+t.totalAchat).writeLine("TOTAL AVEC REMISE : : "+t.remise).writeLine("=========MOYEN(S) DE PAIEMENT(S)========"),t.moyensDePaiement.forEach(function(e){t.printService.writeLine("".concat(e.moyen," : ").concat(e.montant," FCFA"))}),t.printService.writeLine("========================================").writeLine(" TOTAL RECU  : "+t.recu).writeLine(" MONNAIE RENDUE : : "+t.montantRenduimprim).writeLine("========================================").writeLine("  ***** Merci pour votre achat !  ****  ").writeLine("   Nous esperons vous revoir bientot.   ").writeLine("     Conservez votre ticket svp         ").writeLine("   Retour possible avant 48 Heures      ").writeLine("========================================").feed(1).feed(5).cut("full").flush()})}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),a}(v.K);return e.\u0275fac=function(t){return new(t||e)(h.Y36(f.Kf),h.Y36(m.gz),h.Y36(m.F0),h.Y36(g.O),h.Y36(y.L),h.Y36(b.dD),h.Y36(I.e),h.Y36(F.Sf),h.Y36(E.h),h.Y36(h.sBO),h.Y36(U.FF),h.Y36(J),h.Y36(B))},e.\u0275cmp=h.Xpm({type:e,selectors:[["vente-caisse"]],viewQuery:function(e,t){var n;(1&e&&(h.Gf(j,5),h.Gf(Y,5),h.Gf(H,5),h.Gf(z,5),h.Gf(V,5),h.Gf(Q,5),h.Gf($,5),h.Gf(K,5),h.Gf(W,5),h.Gf(X,5),h.Gf(ee,5),h.Gf(te,5),h.Gf(ne,5),h.Gf(re,5),h.Gf(ie,5),h.Gf(ae,5),h.Gf(oe,5),h.Gf(ue,5),h.Gf(le,5),h.Gf(se,5),h.Gf(ce,5),h.Gf(pe,5),h.Gf(de,5),h.Gf(me,5),h.Gf(ve,5),h.Gf(he,5),h.Gf(fe,5),h.Gf(ge,5),h.Gf(ye,5),h.Gf(be,5),h.Gf(Ie,5),h.Gf(Ee,5),h.Gf(Ae,5),h.Gf(Ce,5),h.Gf(Me,5),h.Gf(Te,5),h.Gf(ke,5),h.Gf(_e,5)),2&e)&&(h.iGM(n=h.CRH())&&(t.espece=n.first),h.iGM(n=h.CRH())&&(t.cheque=n.first),h.iGM(n=h.CRH())&&(t.bon_achat=n.first),h.iGM(n=h.CRH())&&(t.avoir=n.first),h.iGM(n=h.CRH())&&(t.carte_bancaire=n.first),h.iGM(n=h.CRH())&&(t.bon_sortie=n.first),h.iGM(n=h.CRH())&&(t.apisoft_avoir=n.first),h.iGM(n=h.CRH())&&(t.commande_special=n.first),h.iGM(n=h.CRH())&&(t.carte_prestige=n.first),h.iGM(n=h.CRH())&&(t.reglement_rentree_scolaire=n.first),h.iGM(n=h.CRH())&&(t.carte_cadeau=n.first),h.iGM(n=h.CRH())&&(t.orange=n.first),h.iGM(n=h.CRH())&&(t.moov=n.first),h.iGM(n=h.CRH())&&(t.afrimarket=n.first),h.iGM(n=h.CRH())&&(t.bourse_livre=n.first),h.iGM(n=h.CRH())&&(t.mtn=n.first),h.iGM(n=h.CRH())&&(t.carte_fidelite=n.first),h.iGM(n=h.CRH())&&(t.yup=n.first),h.iGM(n=h.CRH())&&(t.nouvelle_carte_cadeau=n.first),h.iGM(n=h.CRH())&&(t.revo=n.first),h.iGM(n=h.CRH())&&(t.barcodeInput=n.first),h.iGM(n=h.CRH())&&(t.reglementInput=n.first),h.iGM(n=h.CRH())&&(t.montant1=n.first),h.iGM(n=h.CRH())&&(t.montant2=n.first),h.iGM(n=h.CRH())&&(t.montant3=n.first),h.iGM(n=h.CRH())&&(t.mode1=n.first),h.iGM(n=h.CRH())&&(t.mode2=n.first),h.iGM(n=h.CRH())&&(t.mode3=n.first),h.iGM(n=h.CRH())&&(t.moyen1=n.first),h.iGM(n=h.CRH())&&(t.moyen2=n.first),h.iGM(n=h.CRH())&&(t.moyen3=n.first),h.iGM(n=h.CRH())&&(t.indice1=n.first),h.iGM(n=h.CRH())&&(t.indice2=n.first),h.iGM(n=h.CRH())&&(t.indice3=n.first),h.iGM(n=h.CRH())&&(t.renduInput=n.first),h.iGM(n=h.CRH())&&(t.ticketnumber=n.first),h.iGM(n=h.CRH())&&(t.remiseGlobal=n.first),h.iGM(n=h.CRH())&&(t.InputIndice2=n.first))},hostBindings:function(e,t){1&e&&h.NdJ("keydown",function(e){return t.handleKeyboardEvent(e)},!1,h.evT)},features:[h.qOj],decls:128,vars:11,consts:[[2,"background","#0d6d3a"],[2,"color","white"],[1,"content"],[1,"left-content",2,"overflow","auto","max-height","400px"],["id","order-table"],[4,"ngFor","ngForOf"],["placeholder","R\xe9f\xe9rence du produit",3,"ngModel","ngModelChange","keyup.enter"],["barcodeInput",""],["id","order-items"],["id","total-container",2,"overflow","auto","max-height","400px"],[2,"text-align","center"],[1,"table","align-middle","table-row-bordered","mb-0","fs-6","gy-5","min-w-300px"],[1,"fw-semibold","text-gray-600"],[1,"text-muted"],[1,"d-flex","align-items-center"],[1,"ki-outline","ki-calendar","fs-2","me-2"],[1,"fw-bold","text-end"],["placeholder","0","type","number","id","remiseglobal","w","",3,"change"],["remiseGlobal",""],["type","hidden","disabled","","id","reglement","placeholder","0",3,"ngModel","ngModelChange","change"],["reglementInput",""],["type","hidden","id","reglement",3,"value"],["ticketnumber",""],[2,"background","#0d6d3a","color","#fff"],["width","70%","align","left"],[1,"Style34"],[1,"Style801"],[1,"Style36"],["width","30%","align","center"],[1,"Style2"],[1,"Textevert_rem"],["maxlength","1","id","indice1",2,"width","50px",3,"ngModel","ngModelChange","input"],["indice1",""],["disabled","","id","moyen1"],["moyen1",""],["disabled","","id","montant1"],["montant1",""],["hidden","","id","mode1"],["mode1",""],["maxlength","1","id","indice2",2,"width","50px",3,"ngModel","ngModelChange","input"],["indice2",""],["disabled","","id","moyen2"],["moyen2",""],["disabled","","id","montant2"],["montant2",""],["hidden","","id","mode2"],["mode2",""],["maxlength","1","id","indice3",2,"width","50px",3,"ngModel","ngModelChange","input"],["indice3",""],["disabled","","id","moyen3"],["moyen3",""],["disabled","","id","montant3"],["montant3",""],["hidden","","id","mode3"],["mode3",""],["id","rendu","disabled","true",3,"value"],["renduInput",""],[2,"align-items","center"],[1,"btn","btn-warning",2,"align-items","center",3,"disabled","click"],[1,"btn","btn-warning",2,"align-items","center",3,"click"],["espece",""],["cheque",""],["bon_achat",""],["orange",""],["afrimarket",""],["disabled","",3,"value"],["type","number",3,"ngModel","ngModelChange","change"],[3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["type","text","hidden","","required","","id","moyen",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group"],["for","etablissementFinancier"],["type","text","required","","id","etablissementFinancier",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["for","numeroCompte"],["type","text","required","","id","numeroCompte",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(h.TgZ(0,"header",0),h.TgZ(1,"h1",1),h._uU(2),h.qZA(),h.qZA(),h.TgZ(3,"div",2),h.TgZ(4,"div",3),h.TgZ(5,"table",4),h.TgZ(6,"thead"),h.TgZ(7,"tr"),h.TgZ(8,"th"),h._uU(9,"R\xe9f\xe9rence"),h.qZA(),h.TgZ(10,"th"),h._uU(11,"Designation "),h.qZA(),h.TgZ(12,"th"),h._uU(13,"Prix moyen"),h.qZA(),h.TgZ(14,"th"),h._uU(15,"Prix de vente"),h.qZA(),h.TgZ(16,"th"),h._uU(17,"Remise (en %)"),h.qZA(),h.TgZ(18,"th"),h._uU(19,"Quantit\xe9"),h.qZA(),h.TgZ(20,"th"),h._uU(21,"Montant"),h.qZA(),h.TgZ(22,"th"),h._uU(23,"Action"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(24,"tbody"),h.YNc(25,we,18,7,"tr",5),h.TgZ(26,"input",6,7),h.NdJ("ngModelChange",function(e){return t.referenceProduit=e})("keyup.enter",function(){return t.ajouterProduit(t.referenceProduit)}),h.qZA(),h.qZA(),h._UZ(28,"tbody",8),h.qZA(),h.qZA(),h.TgZ(29,"div",9),h.TgZ(30,"h3",10),h._uU(31,"Recaputilatif de la commande"),h.qZA(),h.TgZ(32,"div"),h.TgZ(33,"table",11),h.TgZ(34,"tbody",12),h.TgZ(35,"tr"),h.TgZ(36,"td",13),h.TgZ(37,"div",14),h._UZ(38,"i",15),h._uU(39," Total Achat "),h.qZA(),h.qZA(),h.TgZ(40,"td",16),h._uU(41),h.qZA(),h.qZA(),h.TgZ(42,"tr"),h.TgZ(43,"td",13),h.TgZ(44,"div",14),h._UZ(45,"i",15),h._uU(46," Remise Global "),h.qZA(),h.qZA(),h.TgZ(47,"td",16),h.TgZ(48,"input",17,18),h.NdJ("change",function(){return t.checkMontantReglement()})("change",function(){return t.RemiseGlobal(t.ticket)}),h.qZA(),h.TgZ(50,"input",19,20),h.NdJ("ngModelChange",function(e){return t.montantReglement=e})("change",function(){return t.checkMontantReglement()}),h.qZA(),h._UZ(52,"input",21,22),h.qZA(),h.qZA(),h.TgZ(54,"tr",23),h.TgZ(55,"td",24),h.TgZ(56,"span",25),h._uU(57,"( F2 ) "),h.qZA(),h.TgZ(58,"span",26),h.TgZ(59,"span",27),h._uU(60,"REGLEMENT PAR"),h.qZA(),h._uU(61," : "),h.qZA(),h.qZA(),h.TgZ(62,"td",28),h.TgZ(63,"span",29),h._uU(64,"MONTANT"),h.qZA(),h._UZ(65,"span",30),h.qZA(),h.qZA(),h.TgZ(66,"tr"),h.TgZ(67,"td"),h.TgZ(68,"input",31,32),h.NdJ("ngModelChange",function(e){return t.inputValue1=e})("input",function(){return t.checkForPaiement(1)}),h.qZA(),h._uU(70,"\xa0"),h._UZ(71,"input",33,34),h.qZA(),h.TgZ(73,"td"),h._UZ(74,"input",35,36),h._UZ(76,"input",37,38),h.qZA(),h.qZA(),h.TgZ(78,"tr"),h.TgZ(79,"td"),h.TgZ(80,"input",39,40),h.NdJ("ngModelChange",function(e){return t.inputValue2=e})("input",function(){return t.checkForPaiement(2)}),h.qZA(),h._uU(82,"\xa0"),h._UZ(83,"input",41,42),h.qZA(),h.TgZ(85,"td"),h._UZ(86,"input",43,44),h._UZ(88,"input",45,46),h.qZA(),h.qZA(),h.TgZ(90,"tr"),h.TgZ(91,"td"),h.TgZ(92,"input",47,48),h.NdJ("ngModelChange",function(e){return t.inputValue3=e})("input",function(){return t.checkForPaiement(3)}),h.qZA(),h._uU(94,"\xa0"),h._UZ(95,"input",49,50),h.qZA(),h.TgZ(97,"td"),h._UZ(98,"input",51,52),h._UZ(100,"input",53,54),h.qZA(),h.qZA(),h.TgZ(102,"tr"),h.TgZ(103,"td",13),h.TgZ(104,"div",14),h._UZ(105,"i",15),h._uU(106," Montant rendu "),h.qZA(),h.qZA(),h.TgZ(107,"td",16),h._UZ(108,"input",55,56),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(110,"footer"),h.TgZ(111,"table",57),h.TgZ(112,"td",57),h.TgZ(113,"button",58),h.NdJ("click",function(){return t.validerAchat()}),h._uU(114,"Imprimer le ticket"),h.qZA(),h.qZA(),h.TgZ(115,"div"),h.TgZ(116,"button",59),h.NdJ("click",function(){return t.requestUsb()}),h._uU(117,"Autoriser une imprimante"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.YNc(118,Ze,17,3,"ng-template",null,60,h.W1O),h.YNc(120,Oe,17,3,"ng-template",null,61,h.W1O),h.YNc(122,Re,29,5,"ng-template",null,62,h.W1O),h.YNc(124,Se,29,6,"ng-template",null,63,h.W1O),h.YNc(126,xe,29,6,"ng-template",null,64,h.W1O)),2&e&&(h.xp6(2),h.hij("Op\xe9ration de Caisse : ",t.ticket,""),h.xp6(23),h.Q6J("ngForOf",t.produits),h.xp6(1),h.Q6J("ngModel",t.referenceProduit),h.xp6(15),h.hij("",t.totalMontant," FCFA "),h.xp6(9),h.Q6J("ngModel",t.montantReglement),h.xp6(2),h.s9C("value",t.ticket),h.xp6(16),h.Q6J("ngModel",t.inputValue1),h.xp6(12),h.Q6J("ngModel",t.inputValue2),h.xp6(12),h.Q6J("ngModel",t.inputValue3),h.xp6(16),h.Q6J("value",t.montantRendu),h.xp6(5),h.Q6J("disabled",t.achatDesactive))},directives:[l.sg,s.Fj,s.JJ,s.On,s.nD,s.wV,s.Q7],styles:["footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:20px}.content[_ngcontent-%COMP%]{display:flex;height:400px}.left-content[_ngcontent-%COMP%]{background-color:#f2f2f2;flex:1;padding:20px}.right-content[_ngcontent-%COMP%]{background-color:#ddd;flex:1;padding:20px}#order-table[_ngcontent-%COMP%]{width:60%;border-collapse:collapse}#order-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #order-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid #ddd}#total-container[_ngcontent-%COMP%]{width:35%;padding:10px;border:1px solid #ccc;text-align:right}"]}),e}(),De={configs:[{}]},Fe={},Ue=[{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-2",key:"line",type:"input",templateOptions:{label:"Nombre de ligne"}},{className:"flex-2",key:"codeReg",type:"input",templateOptions:{label:"Code r\xe9glement"}},{className:"flex-2",key:"dateReg",type:"input",templateOptions:{label:"Date r\xe9glement"}},{className:"flex-2",key:"waitingReg",type:"input",templateOptions:{label:"R\xe9glements en attente:"}}]},{template:"<hr>"},{fieldGroup:[{key:"tasks",type:"repeat",templateOptions:{addText:"Ajouter",label:"TODO LIST"},fieldArray:{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-1",key:"ref",type:"input",templateOptions:{label:"R\xe9f"}},{className:"flex-2",key:"ref",type:"input",templateOptions:{label:"R\xe9f"}},{className:"flex-1",key:"prixM",type:"input",templateOptions:{label:"Prix M."}},{className:"flex-1",key:"prixV",type:"input",templateOptions:{label:"Prix V."}},{className:"flex-1",key:"remise",type:"input",templateOptions:{label:"Remise"}},{className:"flex-1",key:"quantit\xe9",type:"input",templateOptions:{label:"Qt\xe9"}},{className:"flex-1",key:"montant",type:"input",templateOptions:{label:"Montant"}}]}}]},{template:"<hr>"},{fieldGroupClassName:"d-flex flex-wrap",fieldGroup:[{className:"flex-8",key:"codeVendeur",type:"input",templateOptions:{label:"SAISIR LE CODE DU VENDEUR"}},{className:"flex-2",key:"remiseGlobale",type:"input",templateOptions:{label:"REMISE GLOBALE",type:"number"}},{className:"flex-5",key:"totalRecu",type:"input",templateOptions:{label:"TOTAL RECU",type:"number"}},{className:"flex-5",key:"totalArsi",type:"input",templateOptions:{label:"TOTAL ARSI",type:"number"}},{className:"flex-5",key:"timbre",type:"input",templateOptions:{label:"TIMBRE",type:"number"}},{className:"flex-5",key:"netPayer",type:"input",templateOptions:{label:"NET A PAYER",type:"number"}},{className:"flex-5",key:"montantRemis",type:"input",templateOptions:{label:"MONTANT REMIS",type:"number"}},{className:"flex-5",key:"montantRendu",type:"input",templateOptions:{label:"MONTANT RENDU",type:"number"}},{className:"flex-5",key:"moyenReglement1",type:"input",templateOptions:{label:"REGLEMENT PAR MONTANT (F2)"}},{className:"flex-5",key:"montant1",type:"input",templateOptions:{label:"MONTANT"}},{className:"flex-5",key:"moyenReglement2",type:"input"},{className:"flex-5",key:"montant2",type:"input"},{className:"flex-5",key:"moyenReglement3",type:"input"},{className:"flex-5",key:"montant3",type:"input"},{template:"Basculer en mode facture : (Shift + F9)"}]},{fieldGroupClassName:"action-bloc",fieldGroup:[{className:"flex-1",key:"imprimerTicket",type:"button",templateOptions:{label:"Imprimer Ticket (F9)",colorType:"primary"}},{className:"flex-1",key:"imprimerTicket",type:"button",templateOptions:{label:"D\xe9poser la monnaie (F10)",colorType:"primary"}},{className:"flex-1",key:"imprimerTicket",type:"button",templateOptions:{label:"Recharger une carte (F11)",colorType:"primary"}}]}],Ge=function(){var e=function(e){i(a,e);var n=o(a);function a(e,r,i,o,u,l){var s;return t(this,a),(s=n.call(this,e,r,i,o,u,l)).logger=e,s.httpService=r,s.envService=i,s.messageService=o,s.authService=u,s.menuService=l,s}return r(a,[{key:"ajouterProduit",value:function(){throw new Error("Method not implemented.")}},{key:"ngOnInit",value:function(){var e=this;this.form.model=De,this.form.options=Fe,this.form.fields=Ue,this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"checkout-connection")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),a}(v.K);return e.\u0275fac=function(t){return new(t||e)(h.Y36(f.Kf),h.Y36(g.O),h.Y36(y.L),h.Y36(b.dD),h.Y36(I.e),h.Y36(E.h))},e.\u0275cmp=h.Xpm({type:e,selectors:[["checkout-connection"]],features:[h.qOj],decls:0,vars:0,template:function(e,t){},styles:[".container[_ngcontent-%COMP%]{margin:0 auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:8px;text-align:left}th[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.error-message[_ngcontent-%COMP%]{color:red;margin-top:8px}"]}),e}(),Je=function(){var e=function(e){i(a,e);var n=o(a);function a(e,r,i,o,u,l){var s;return t(this,a),(s=n.call(this,e,r,i,o,u,l)).logger=e,s.httpService=r,s.envService=i,s.messageService=o,s.authService=u,s.menuService=l,s}return r(a,[{key:"ngOnInit",value:function(){var e=this;this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"cash-flow")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),a}(v.K);return e.\u0275fac=function(t){return new(t||e)(h.Y36(f.Kf),h.Y36(g.O),h.Y36(y.L),h.Y36(b.dD),h.Y36(I.e),h.Y36(E.h))},e.\u0275cmp=h.Xpm({type:e,selectors:[["cash-flow"]],features:[h.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(h.TgZ(0,"nz-spin",0),h.TgZ(1,"wl-form",1),h.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),h.qZA(),h.qZA(),h.TgZ(2,"wl-table",2),h.NdJ("onLazyLoad",function(e){return t.loadData(e)}),h.qZA()),2&e&&(h.Q6J("nzSpinning",t.isSpinning),h.xp6(1),h.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),h.xp6(1),h.Udp("margin-top","1rem"),h.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","CashFlow ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[d.W,p.U,c.a],styles:[""]}),e}(),je=function(){var e=function(e){i(a,e);var n=o(a);function a(e,r,i,o,u,l){var s;return t(this,a),(s=n.call(this,e,r,i,o,u,l)).logger=e,s.httpService=r,s.envService=i,s.messageService=o,s.authService=u,s.menuService=l,s}return r(a,[{key:"ngOnInit",value:function(){var e=this;this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"wealth-management")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),a}(v.K);return e.\u0275fac=function(t){return new(t||e)(h.Y36(f.Kf),h.Y36(g.O),h.Y36(y.L),h.Y36(b.dD),h.Y36(I.e),h.Y36(E.h))},e.\u0275cmp=h.Xpm({type:e,selectors:[["wealth-management"]],features:[h.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(h.TgZ(0,"nz-spin",0),h.TgZ(1,"wl-form",1),h.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),h.qZA(),h.qZA(),h.TgZ(2,"wl-table",2),h.NdJ("onLazyLoad",function(e){return t.loadData(e)}),h.qZA()),2&e&&(h.Q6J("nzSpinning",t.isSpinning),h.xp6(1),h.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),h.xp6(1),h.Udp("margin-top","1rem"),h.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","WealthManagement ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[d.W,p.U,c.a],styles:[""]}),e}(),Ye=function(){var e=function(e){i(a,e);var n=o(a);function a(e,r,i,o,u,l){var s;return t(this,a),(s=n.call(this,e,r,i,o,u,l)).logger=e,s.httpService=r,s.envService=i,s.messageService=o,s.authService=u,s.menuService=l,s}return r(a,[{key:"ngOnInit",value:function(){var e=this;this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"advance-payment-on-forward-customer-orders")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),a}(v.K);return e.\u0275fac=function(t){return new(t||e)(h.Y36(f.Kf),h.Y36(g.O),h.Y36(y.L),h.Y36(b.dD),h.Y36(I.e),h.Y36(E.h))},e.\u0275cmp=h.Xpm({type:e,selectors:[["advance-payment-on-forward-customer-orders"]],features:[h.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(h.TgZ(0,"nz-spin",0),h.TgZ(1,"wl-form",1),h.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),h.qZA(),h.qZA(),h.TgZ(2,"wl-table",2),h.NdJ("onLazyLoad",function(e){return t.loadData(e)}),h.qZA()),2&e&&(h.Q6J("nzSpinning",t.isSpinning),h.xp6(1),h.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),h.xp6(1),h.Udp("margin-top","1rem"),h.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","AdvancePaymentOnForwardCustomerOrders ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[d.W,p.U,c.a],styles:[""]}),e}(),He=function(){var e=function(e){i(a,e);var n=o(a);function a(e,r,i,o,u,l){var s;return t(this,a),(s=n.call(this,e,r,i,o,u,l)).logger=e,s.httpService=r,s.envService=i,s.messageService=o,s.authService=u,s.menuService=l,s}return r(a,[{key:"ngOnInit",value:function(){var e=this;this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"waiting-sales-for-the-day")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),a}(v.K);return e.\u0275fac=function(t){return new(t||e)(h.Y36(f.Kf),h.Y36(g.O),h.Y36(y.L),h.Y36(b.dD),h.Y36(I.e),h.Y36(E.h))},e.\u0275cmp=h.Xpm({type:e,selectors:[["waiting-sales-for-the-day"]],features:[h.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(h.TgZ(0,"nz-spin",0),h.TgZ(1,"wl-form",1),h.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),h.qZA(),h.qZA(),h.TgZ(2,"wl-table",2),h.NdJ("onLazyLoad",function(e){return t.loadData(e)}),h.qZA()),2&e&&(h.Q6J("nzSpinning",t.isSpinning),h.xp6(1),h.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),h.xp6(1),h.Udp("margin-top","1rem"),h.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","WaitingSalesForTheDay ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[d.W,p.U,c.a],styles:[""]}),e}(),ze=function(){var e=function(e){i(a,e);var n=o(a);function a(e,r,i,o,u,l){var s;return t(this,a),(s=n.call(this,e,r,i,o,u,l)).logger=e,s.httpService=r,s.envService=i,s.messageService=o,s.authService=u,s.menuService=l,s}return r(a,[{key:"ngOnInit",value:function(){var e=this;this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"id",header:"ID"},{field:"status",header:"STATUS",type:"status"},{field:"created_at",header:"CREATED_AT",type:"date"},{field:"updated_at",header:"UPDATED_AT",type:"date"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"discontinued-lines-and-cancelled-sales")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),a}(v.K);return e.\u0275fac=function(t){return new(t||e)(h.Y36(f.Kf),h.Y36(g.O),h.Y36(y.L),h.Y36(b.dD),h.Y36(I.e),h.Y36(E.h))},e.\u0275cmp=h.Xpm({type:e,selectors:[["discontinued-lines-and-cancelled-sales"]],features:[h.qOj],decls:3,vars:18,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","actions","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(h.TgZ(0,"nz-spin",0),h.TgZ(1,"wl-form",1),h.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),h.qZA(),h.qZA(),h.TgZ(2,"wl-table",2),h.NdJ("onLazyLoad",function(e){return t.loadData(e)}),h.qZA()),2&e&&(h.Q6J("nzSpinning",t.isSpinning),h.xp6(1),h.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),h.xp6(1),h.Udp("margin-top","1rem"),h.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("actions",t.actions)("lazy",!0)("caption","DiscontinuedLinesAndCancelledSales ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[d.W,p.U,c.a],styles:[""]}),e}(),Ve=function(){var e=function(e){i(a,e);var n=o(a);function a(e,r,i,o,u,l){var s;return t(this,a),(s=n.call(this,e,r,i,o,u,l)).logger=e,s.httpService=r,s.envService=i,s.messageService=o,s.authService=u,s.menuService=l,s}return r(a,[{key:"ngOnInit",value:function(){var e=this;this.isSpinning=!1,this.globalFilterFields=["id"],this.columns=[{field:"nomCaisse",header:"CAISSE"},{field:"fondCaisse",header:"FOND",type:"number"},{field:"status",header:"STATUS",type:"status",trueText:"On",falseText:"Off"}],this.actions=[{type:"default",icon:"edit",shape:"circle",loading:!1,click:function(t){e.edit(t),e.form.model=Object.assign({},t)}},{type:"default",icon:"delete",shape:"circle",popConfirm:!0,popTitle:"Are-you sure ?",loading:!1,click:function(t){e.delete(t,"cash-float-for-the-day")},cancel:function(e){}}]}},{key:"save",value:function(e){this.logger.log("model: ",e.model);var t=Object.assign({},e.model);t=Object.assign(Object.assign({},t),t.id&&null!=t.id?{updated_user:this.user.id}:{added_user:this.user.id})}},{key:"loadData",value:function(e){var t=this;console.log(e),setTimeout(function(){t.loading=!0},1e3)}}]),a}(v.K);return e.\u0275fac=function(t){return new(t||e)(h.Y36(f.Kf),h.Y36(g.O),h.Y36(y.L),h.Y36(b.dD),h.Y36(I.e),h.Y36(E.h))},e.\u0275cmp=h.Xpm({type:e,selectors:[["cash-float-for-the-day"]],features:[h.qOj],decls:3,vars:17,consts:[["nzTip","Loading...",3,"nzSpinning"],[3,"alert","model","fields","options","onSubmit","onModelChange"],[3,"data","wrapper","columns","lazy","caption","paginator","rows","totalRecords","loading","globalFilterFields","onLazyLoad"]],template:function(e,t){1&e&&(h.TgZ(0,"nz-spin",0),h.TgZ(1,"wl-form",1),h.NdJ("onSubmit",function(e){return t.save(e)})("onModelChange",function(e){return t.modelChange(e)}),h.qZA(),h.qZA(),h.TgZ(2,"wl-table",2),h.NdJ("onLazyLoad",function(e){return t.loadData(e)}),h.qZA()),2&e&&(h.Q6J("nzSpinning",t.isSpinning),h.xp6(1),h.Q6J("alert",t.alert)("model",t.form.model)("fields",t.form.fields)("options",t.form.options),h.xp6(1),h.Udp("margin-top","1rem"),h.Q6J("data",t.data)("wrapper","fieldset")("columns",t.columns)("lazy",!0)("caption","CashFloatForTheDay ")("paginator",!0)("rows",t.rows)("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",t.globalFilterFields))},directives:[d.W,p.U,c.a],styles:[""]}),e}(),Qe=u(21611),$e=(Ne=r(function e(n,r){t(this,e),this.nombre=n,this.argumentos=r}),(qe=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.URL_PLUGIN_POR_DEFECTO,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t(this,n),this.ruta=e,this.serial=r,this.operaciones=[],this}return r(n,[{key:"CargarImagenLocalEImprimir",value:function(e,t,r){return this.operaciones.push(new n.Operacion("CargarImagenLocalEImprimir",Array.from(arguments))),this}},{key:"Corte",value:function(e){return this.operaciones.push(new n.Operacion("Corte",Array.from(arguments))),this}},{key:"CorteParcial",value:function(){return this.operaciones.push(new n.Operacion("CorteParcial",Array.from(arguments))),this}},{key:"DefinirCaracterPersonalizado",value:function(e,t){return this.operaciones.push(new n.Operacion("DefinirCaracterPersonalizado",Array.from(arguments))),this}},{key:"DescargarImagenDeInternetEImprimir",value:function(e,t,r){return this.operaciones.push(new n.Operacion("DescargarImagenDeInternetEImprimir",Array.from(arguments))),this}},{key:"DeshabilitarCaracteresPersonalizados",value:function(){return this.operaciones.push(new n.Operacion("DeshabilitarCaracteresPersonalizados",Array.from(arguments))),this}},{key:"DeshabilitarElModoDeCaracteresChinos",value:function(){return this.operaciones.push(new n.Operacion("DeshabilitarElModoDeCaracteresChinos",Array.from(arguments))),this}},{key:"EscribirTexto",value:function(e){return this.operaciones.push(new n.Operacion("EscribirTexto",Array.from(arguments))),this}},{key:"EstablecerAlineacion",value:function(e){return this.operaciones.push(new n.Operacion("EstablecerAlineacion",Array.from(arguments))),this}},{key:"EstablecerEnfatizado",value:function(e){return this.operaciones.push(new n.Operacion("EstablecerEnfatizado",Array.from(arguments))),this}},{key:"EstablecerFuente",value:function(e){return this.operaciones.push(new n.Operacion("EstablecerFuente",Array.from(arguments))),this}},{key:"EstablecerImpresionAlReves",value:function(e){return this.operaciones.push(new n.Operacion("EstablecerImpresionAlReves",Array.from(arguments))),this}},{key:"EstablecerImpresionBlancoYNegroInversa",value:function(e){return this.operaciones.push(new n.Operacion("EstablecerImpresionBlancoYNegroInversa",Array.from(arguments))),this}},{key:"EstablecerRotacionDe90Grados",value:function(e){return this.operaciones.push(new n.Operacion("EstablecerRotacionDe90Grados",Array.from(arguments))),this}},{key:"EstablecerSubrayado",value:function(e){return this.operaciones.push(new n.Operacion("EstablecerSubrayado",Array.from(arguments))),this}},{key:"EstablecerTama\xf1oFuente",value:function(e,t){return this.operaciones.push(new n.Operacion("EstablecerTama\xf1oFuente",Array.from(arguments))),this}},{key:"Feed",value:function(e){return this.operaciones.push(new n.Operacion("Feed",Array.from(arguments))),this}},{key:"HabilitarCaracteresPersonalizados",value:function(){return this.operaciones.push(new n.Operacion("HabilitarCaracteresPersonalizados",Array.from(arguments))),this}},{key:"HabilitarElModoDeCaracteresChinos",value:function(){return this.operaciones.push(new n.Operacion("HabilitarElModoDeCaracteresChinos",Array.from(arguments))),this}},{key:"ImprimirCodigoDeBarrasCodabar",value:function(e,t,r,i){return this.operaciones.push(new n.Operacion("ImprimirCodigoDeBarrasCodabar",Array.from(arguments))),this}},{key:"ImprimirCodigoDeBarrasCode128",value:function(e,t,r,i){return this.operaciones.push(new n.Operacion("ImprimirCodigoDeBarrasCode128",Array.from(arguments))),this}},{key:"ImprimirCodigoDeBarrasCode39",value:function(e,t,r,i,a,o){return this.operaciones.push(new n.Operacion("ImprimirCodigoDeBarrasCode39",Array.from(arguments))),this}},{key:"ImprimirCodigoDeBarrasCode93",value:function(e,t,r,i){return this.operaciones.push(new n.Operacion("ImprimirCodigoDeBarrasCode93",Array.from(arguments))),this}},{key:"ImprimirCodigoDeBarrasEan",value:function(e,t,r,i){return this.operaciones.push(new n.Operacion("ImprimirCodigoDeBarrasEan",Array.from(arguments))),this}},{key:"ImprimirCodigoDeBarrasEan8",value:function(e,t,r,i){return this.operaciones.push(new n.Operacion("ImprimirCodigoDeBarrasEan8",Array.from(arguments))),this}},{key:"ImprimirCodigoDeBarrasPdf417",value:function(e,t,r,i,a){return this.operaciones.push(new n.Operacion("ImprimirCodigoDeBarrasPdf417",Array.from(arguments))),this}},{key:"ImprimirCodigoDeBarrasTwoOfFiveITF",value:function(e,t,r,i,a){return this.operaciones.push(new n.Operacion("ImprimirCodigoDeBarrasTwoOfFiveITF",Array.from(arguments))),this}},{key:"ImprimirCodigoDeBarrasUpcA",value:function(e,t,r,i){return this.operaciones.push(new n.Operacion("ImprimirCodigoDeBarrasUpcA",Array.from(arguments))),this}},{key:"ImprimirCodigoDeBarrasUpcE",value:function(e,t,r,i){return this.operaciones.push(new n.Operacion("ImprimirCodigoDeBarrasUpcE",Array.from(arguments))),this}},{key:"ImprimirCodigoQr",value:function(e,t,r,i){return this.operaciones.push(new n.Operacion("ImprimirCodigoQr",Array.from(arguments))),this}},{key:"ImprimirImagenEnBase64",value:function(e,t,r){return this.operaciones.push(new n.Operacion("ImprimirImagenEnBase64",Array.from(arguments))),this}},{key:"Iniciar",value:function(){return this.operaciones.push(new n.Operacion("Iniciar",Array.from(arguments))),this}},{key:"Pulso",value:function(e,t,r){return this.operaciones.push(new n.Operacion("Pulso",Array.from(arguments))),this}},{key:"TextoSegunPaginaDeCodigos",value:function(e,t,r){return this.operaciones.push(new n.Operacion("TextoSegunPaginaDeCodigos",Array.from(arguments))),this}},{key:"imprimirEnImpresoraRemota",value:function(t,n){var r=this;return(0,Qe.Z)(e().mark(function i(){var a,o;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={operaciones:r.operaciones,nombreImpresora:t,serial:r.serial},e.next=3,fetch(r.ruta+"/reenviar?host="+n,{method:"POST",body:JSON.stringify(a)});case 3:return o=e.sent,e.next=6,o.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},i)}))()}},{key:"imprimirEn",value:function(t){var n=this;return(0,Qe.Z)(e().mark(function r(){var i,a;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={operaciones:n.operaciones,nombreImpresora:t,serial:n.serial},e.next=3,fetch(n.ruta+"/imprimir",{method:"POST",body:JSON.stringify(i)});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},r)}))()}}],[{key:"obtenerImpresoras",value:function(){return arguments.length>0&&void 0!==arguments[0]||n.URL_PLUGIN_POR_DEFECTO,(0,Qe.Z)(e().mark(function t(){var r;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.URL_PLUGIN_POR_DEFECTO+"/impresoras");case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},t)}))()}},{key:"obtenerImpresorasRemotas",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.URL_PLUGIN_POR_DEFECTO;return(0,Qe.Z)(e().mark(function t(){var i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n.URL_PLUGIN_POR_DEFECTO+"/reenviar?host="+r);case 2:return i=e.sent,e.next=5,i.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},t)}))()}}]),n}()).URL_PLUGIN_POR_DEFECTO="http://localhost:8000",qe.Operacion=Ne,qe.TAMA\u00d1O_IMAGEN_NORMAL=0,qe.TAMA\u00d1O_IMAGEN_DOBLE_ANCHO=1,qe.TAMA\u00d1O_IMAGEN_DOBLE_ALTO=2,qe.TAMA\u00d1O_IMAGEN_DOBLE_ANCHO_Y_ALTO=3,qe.ALINEACION_IZQUIERDA=0,qe.ALINEACION_CENTRO=1,qe.ALINEACION_DERECHA=2,qe.RECUPERACION_QR_BAJA=0,qe.RECUPERACION_QR_MEDIA=1,qe.RECUPERACION_QR_ALTA=2,qe.RECUPERACION_QR_MEJOR=3,qe),Ke=[{path:"",component:A,data:{title:"Cashier",breadcrumb:"Cashier"}},{path:"cashier",component:A,data:{title:"Cashier",breadcrumb:"Cashier"}},{path:"vente-caisse",component:Pe,data:{title:"VenteCaisse",breadcrumb:"VenteCaisse"}},{path:"checkout-connection",component:Ge,data:{title:"CheckoutConnection",breadcrumb:"CheckoutConnection"}},{path:"cash-flow",component:Je,data:{title:"CashFlow",breadcrumb:"CashFlow"}},{path:"wealth-management",component:je,data:{title:"WealthManagement",breadcrumb:"WealthManagement"}},{path:"advance-payment-on-forward-customer-orders",component:Ye,data:{title:"AdvancePaymentOnForwardCustomerOrders",breadcrumb:"AdvancePaymentOnForwardCustomerOrders"}},{path:"waiting-sales-for-the-day",component:He,data:{title:"WaitingSalesForTheDay",breadcrumb:"WaitingSalesForTheDay"}},{path:"discontinued-lines-and-cancelled-sales",component:ze,data:{title:"DiscontinuedLinesAndCancelledSales",breadcrumb:"DiscontinuedLinesAndCancelledSales"}},{path:"cash-float-for-the-day",component:Ve,data:{title:"CashFloatForTheDay",breadcrumb:"CashFloatForTheDay"}},{path:"others-operations",loadChildren:function(){return u.e(421).then(u.bind(u,37421)).then(function(e){return e.OthersOperationsModule})},data:{title:"OthersOperations",breadcrumb:"OthersOperations"}},{path:"test",component:(Be=function(n){i(u,n);var a=o(u);function u(e,n,r,i,o,l){var s;return t(this,u),(s=a.call(this,e,n,r,i,o,l)).logger=e,s.httpService=n,s.envService=r,s.messageService=i,s.authService=o,s.menuService=l,s.title="thermal-printer-angular",s.impresoras=[],s.impresoraSeleccionada="",s.mensaje="",s}return r(u,[{key:"ngOnInit",value:function(){var t=this;return(0,Qe.Z)(e().mark(function n(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.obtenerImpresoras();case 2:t.impresoras=e.sent;case 3:case"end":return e.stop()}},n)}))()}},{key:"probarImpresion",value:function(){var t=this;return(0,Qe.Z)(e().mark(function n(){var r,i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.impresoraSeleccionada){e.next=2;break}return e.abrupt("return",alert("Seleccione una impresora"));case 2:if(t.mensaje){e.next=4;break}return e.abrupt("return",alert("Escribe un mensaje"));case 4:return(r=new $e).Iniciar().EstablecerAlineacion($e.ALINEACION_CENTRO).EscribirTexto("Hola Angular desde parzibyte.me").Feed(1).EscribirTexto(t.mensaje).Feed(1).DescargarImagenDeInternetEImprimir("https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/1200px-Angular_full_color_logo.svg.png",$e["TAMA\xd1O_IMAGEN_NORMAL"],400).Iniciar().Feed(1),e.next=8,r.imprimirEn(t.impresoraSeleccionada);case 8:1==(i=e.sent)?console.log("Impresi\xf3n correcta"):console.log("Error: "+i);case 10:case"end":return e.stop()}},n)}))()}}]),u}(v.K),Be.\u0275fac=function(e){return new(e||Be)(h.Y36(f.Kf),h.Y36(g.O),h.Y36(y.L),h.Y36(b.dD),h.Y36(I.e),h.Y36(E.h))},Be.\u0275cmp=h.Xpm({type:Be,selectors:[["test"]],features:[h.qOj],decls:2,vars:0,template:function(e,t){1&e&&(h.TgZ(0,"p"),h._uU(1," test works "),h.qZA())},styles:[""]}),Be),data:{title:"Test",breadcrumb:"Test"}}],We=function(){var e=r(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[m.Bz.forChild(Ke)],m.Bz]}),e}(),Xe=((Le=r(function e(){t(this,e)})).\u0275fac=function(e){return new(e||Le)},Le.\u0275mod=h.oAB({type:Le}),Le.\u0275inj=h.cJS({imports:[[l.ez,s.u5,s.UX,c.n,p.e,d.j,We]]}),Le)}}])}();